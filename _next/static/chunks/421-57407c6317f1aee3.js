"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{80421:function(eZ,co,T){T.d(co,{JE:function(){return sF},S1:function(){return sE},je:function(){return dm}});var e$,e_,e0,e1,D,E,F,e2,e3,e4,e5,e6,e7,e8,e9,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,a3={};T.r(a3),T.d(a3,{Arc:function(){return c9},BezierCurve:function(){return bE},BoundingRect:function(){return as},Circle:function(){return aM},CompoundPath:function(){return qt},Ellipse:function(){return c5},Group:function(){return t},Image:function(){return cU},IncrementalDisplayable:function(){return qC},Line:function(){return aO},LinearGradient:function(){return qu},OrientedBoundingRect:function(){return qA},Path:function(){return c},Point:function(){return k},Polygon:function(){return bA},Polyline:function(){return c8},RadialGradient:function(){return qv},Rect:function(){return z},Ring:function(){return c7},Sector:function(){return aN},Text:function(){return bh},applyTransform:function(){return qT},clipPointsByRect:function(){return qX},clipRectByRect:function(){return qY},createIcon:function(){return qZ},extendPath:function(){return qI},extendShape:function(){return qG},getShapeClass:function(){return qJ},getTransform:function(){return qS},groupTransition:function(){return qW},initProps:function(){return ml},isElementRemoved:function(){return mm},lineLineIntersect:function(){return q_},linePolygonIntersect:function(){return q$},makeImage:function(){return qL},makePath:function(){return qK},mergePath:function(){return qN},registerShape:function(){return p},removeElement:function(){return mn},removeElementWithFadeOut:function(){return mp},resizePath:function(){return qO},setTooltipConfig:function(){return q1},subPixelOptimize:function(){return qR},subPixelOptimizeLine:function(){return qP},subPixelOptimizeRect:function(){return qQ},transformDirection:function(){return qU},traverseElements:function(){return q3},updateProps:function(){return mk}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var fw=function(a,b){return(fw=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)};function cp(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}fw(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var fx=function(){return(fx=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function fy(a){return this instanceof fy?(this.v=a,this):new fy(a)}var G,r,i,al,am,U,a4,V,fz=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},w=new function(){this.browser=new fz,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(w.wxa=!0,w.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?w.worker=!0:"undefined"==typeof navigator?(w.node=!0,w.svgSupported=!0):(G=navigator.userAgent,r=w,i=r.browser,al=G.match(/Firefox\/([\d.]+)/),am=G.match(/MSIE\s([\d.]+)/)||G.match(/Trident\/.+?rv:(([\d.]+))/),U=G.match(/Edge?\/([\d.]+)/),a4=/micromessenger/i.test(G),al&&(i.firefox=!0,i.version=al[1]),am&&(i.ie=!0,i.version=am[1]),U&&(i.edge=!0,i.version=U[1],i.newEdge=+U[1].split(".")[0]>18),a4&&(i.weChat=!0),r.svgSupported="undefined"!=typeof SVGRect,r.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,r.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&& +i.version>=11),r.domSupported="undefined"!=typeof document,V=document.documentElement.style,r.transform3dSupported=(i.ie&&"transition"in V||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in V)&&!("OTransition"in V),r.transformSupported=r.transform3dSupported||i.ie&& +i.version>=9);var fA,fB,u=w,cq="sans-serif",cr="12px "+cq,fC=function(c){var b={};if("undefined"==typeof JSON)return b;for(var a=0;a<c.length;a++){var d=String.fromCharCode(a+32),e=(c.charCodeAt(a)-20)/100;b[d]=e}return b}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),cs={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(a,b){if(!fA){var f=cs.createCanvas();fA=f&&f.getContext("2d")}if(fA)return fB!==b&&(fB=fA.font=b||cr),fA.measureText(a);a=a||"",b=b||cr;var g=/^([0-9]*?)px$/.exec(b),c=+(g&&g[1])||12,d=0;if(b.indexOf("mono")>=0)d=c*a.length;else for(var e=0;e<a.length;e++){var h=fC[a[e]];d+=null==h?c:h*c}return{width:d}},loadImage:function(b,c,d){var a=new Image;return a.onload=c,a.onerror=d,a.src=b,a}},fD=ao(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,b){return a["[object "+b+"]"]=!0,a},{}),fE=ao(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,b){return a["[object "+b+"Array]"]=!0,a},{}),fF=Object.prototype.toString,W=Array.prototype,fG=W.forEach,fH=W.filter,fI=W.slice,fJ=W.map,a5=(function(){}).constructor,X=a5?a5.prototype:null,fK="__proto__",fL=2311;function fM(){return fL++}function fN(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];"undefined"!=typeof console&&console.error.apply(console,b)}function ct(a){if(null==a||"object"!=typeof a)return a;var c=a,e=fF.call(a);if("[object Array]"===e){if(!f5(a)){c=[];for(var b=0,f=a.length;b<f;b++)c[b]=ct(a[b])}}else if(fE[e]){if(!f5(a)){var g=a.constructor;if(g.from)c=g.from(a);else{c=new g(a.length);for(var b=0,f=a.length;b<f;b++)c[b]=a[b]}}}else if(!fD[e]&&!f5(a)&&!fY(a))for(var d in c={},a)a.hasOwnProperty(d)&&d!==fK&&(c[d]=ct(a[d]));return c}function an(b,c,f){if(!aq(c)||!aq(b))return f?ct(c):b;for(var a in c)if(c.hasOwnProperty(a)&&a!==fK){var d=b[a],e=c[a];!(aq(e)&&aq(d))||cv(e)||cv(d)||fY(e)||fY(d)||fW(e)||fW(d)||f5(e)||f5(d)?!f&&a in b||(b[a]=ct(c[a])):an(d,e,f)}return b}function fO(a,d){for(var b=a[0],c=1,e=a.length;c<e;c++)b=an(b,a[c],d);return b}function fP(c,a){if(Object.assign)Object.assign(c,a);else for(var b in a)a.hasOwnProperty(b)&&b!==fK&&(c[b]=a[b]);return c}function x(b,c,f){for(var e=ap(c),d=0;d<e.length;d++){var a=e[d];(f?null!=c[a]:null==b[a])&&(b[a]=c[a])}return b}function fQ(a,c){if(a){if(a.indexOf)return a.indexOf(c);for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b}return -1}function h(b,a,e){if(b="prototype"in b?b.prototype:b,a="prototype"in a?a.prototype:a,Object.getOwnPropertyNames)for(var f=Object.getOwnPropertyNames(a),d=0;d<f.length;d++){var c=f[d];"constructor"!==c&&(e?null!=a[c]:null==b[c])&&(b[c]=a[c])}else x(b,a,e)}function fR(a){return!!a&&"string"!=typeof a&&"number"==typeof a.length}function j(a,b,d){if(a&&b){if(a.forEach&&a.forEach===fG)a.forEach(b,d);else if(a.length=== +a.length)for(var c=0,f=a.length;c<f;c++)b.call(d,a[c],c,a);else for(var e in a)a.hasOwnProperty(e)&&b.call(d,a[e],e,a)}}function Y(a,c,d){if(!a)return[];if(!c)return f0(a);if(a.map&&a.map===fJ)return a.map(c,d);for(var e=[],b=0,f=a.length;b<f;b++)e.push(c.call(d,a[b],b,a));return e}function ao(a,d,c,e){if(a&&d){for(var b=0,f=a.length;b<f;b++)c=d.call(e,c,a[b],b,a);return c}}function fS(a,c,d){if(!a)return[];if(!c)return f0(a);if(a.filter&&a.filter===fH)return a.filter(c,d);for(var e=[],b=0,f=a.length;b<f;b++)c.call(d,a[b],b,a)&&e.push(a[b]);return e}function ap(a){if(!a)return[];if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}cs.createCanvas;var cu=X&&cw(X.bind)?X.call.bind(X.bind):function(c,d){for(var b=[],a=2;a<arguments.length;a++)b[a-2]=arguments[a];return function(){return c.apply(d,b.concat(fI.call(arguments)))}};function m(c){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];return function(){return c.apply(this,b.concat(fI.call(arguments)))}}function cv(a){return Array.isArray?Array.isArray(a):"[object Array]"===fF.call(a)}function cw(a){return"function"==typeof a}function fT(a){return"string"==typeof a}function fU(a){return"[object String]"===fF.call(a)}function fV(a){return"number"==typeof a}function aq(a){var b=typeof a;return"function"===b|| !!a&&"object"===b}function fW(a){return!!fD[fF.call(a)]}function fX(a){return!!fE[fF.call(a)]}function fY(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function fZ(a){return null!=a.colorStops}function cx(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0,d=a.length;c<d;c++)if(null!=a[c])return a[c]}function f$(a,b){return null!=a?a:b}function f_(a,b,c){return null!=a?a:null!=b?b:c}function f0(c){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];return fI.apply(c,b)}function cy(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function f1(a,b){if(!a)throw Error(b)}function f2(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var f3="__ec_primitive__";function f4(a){a[f3]=!0}function f5(a){return a[f3]}var f6=function(){function a(b){this.data={};var d=cv(b);this.data={};var e=this;function c(a,b){d?e.set(a,b):e.set(b,a)}b instanceof a?b.each(c):b&&j(b,c)}return a.prototype.get=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},a.prototype.set=function(a,b){return this.data[a]=b},a.prototype.each=function(b,c){for(var a in this.data)this.data.hasOwnProperty(a)&&b.call(c,this.data[a],a)},a.prototype.keys=function(){return ap(this.data)},a.prototype.removeKey=function(a){delete this.data[a]},a}();function s(a){return new f6(a)}function f7(b,c){for(var d=new b.constructor(b.length+c.length),a=0;a<b.length;a++)d[a]=b[a];for(var e=b.length,a=0;a<c.length;a++)d[a+e]=c[a];return d}function f8(b,c){var a;if(Object.create)a=Object.create(b);else{var d=function(){};d.prototype=b,a=new d}return c&&fP(a,c),a}function f9(b){var a=b.style;a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none"}function ga(a,b){return a.hasOwnProperty(b)}function y(){}var gb=180/Math.PI;function H(a,b){return null==a&&(a=0),null==b&&(b=0),[a,b]}function gc(a,b){return a[0]=b[0],a[1]=b[1],a}function gd(a){return[a[0],a[1]]}function ge(a,b,c){return a[0]=b,a[1]=c,a}function gf(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function cz(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function gg(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function gh(a){return Math.sqrt(gi(a))}function gi(a){return a[0]*a[0]+a[1]*a[1]}function gj(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function gk(a,b){var c=gh(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function cA(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}var gl=cA,cB=function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])};function gm(b,a,c,d){return b[0]=a[0]+d*(c[0]-a[0]),b[1]=a[1]+d*(c[1]-a[1]),b}function cC(b,c,a){var d=c[0],e=c[1];return b[0]=a[0]*d+a[2]*e+a[4],b[1]=a[1]*d+a[3]*e+a[5],b}function gn(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function go(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}var gp=function(b,a){this.target=b,this.topTarget=a&&a.topTarget},gq=function(){function a(a){this.handler=a,a.on("mousedown",this._dragStart,this),a.on("mousemove",this._drag,this),a.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(b){for(var a=b.target;a&&!a.draggable;)a=a.parent||a.__hostTarget;a&&(this._draggingTarget=a,a.dragging=!0,this._x=b.offsetX,this._y=b.offsetY,this.handler.dispatchToElement(new gp(a,b),"dragstart",b.event))},a.prototype._drag=function(a){var c=this._draggingTarget;if(c){var e=a.offsetX,f=a.offsetY,g=e-this._x,h=f-this._y;this._x=e,this._y=f,c.drift(g,h,a),this.handler.dispatchToElement(new gp(c,a),"drag",a.event);var b=this.handler.findHover(e,f,c).target,d=this._dropTarget;this._dropTarget=b,c!==b&&(d&&b!==d&&this.handler.dispatchToElement(new gp(d,a),"dragleave",a.event),b&&b!==d&&this.handler.dispatchToElement(new gp(b,a),"dragenter",a.event))}},a.prototype._dragEnd=function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.handler.dispatchToElement(new gp(b,a),"dragend",a.event),this._dropTarget&&this.handler.dispatchToElement(new gp(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null},a}(),n=function(){function a(a){a&&(this._$eventProcessor=a)}return a.prototype.on=function(a,c,d,g){this._$handlers||(this._$handlers={});var b=this._$handlers;if("function"==typeof c&&(g=d,d=c,c=null),!d||!a)return this;var e=this._$eventProcessor;null!=c&&e&&e.normalizeQuery&&(c=e.normalizeQuery(c)),b[a]||(b[a]=[]);for(var f=0;f<b[a].length;f++)if(b[a][f].h===d)return this;var h={h:d,query:c,ctx:g||this,callAtLast:d.zrEventfulCallAtLast},i=b[a].length-1,j=b[a][i];return j&&j.callAtLast?b[a].splice(i,0,h):b[a].push(h),this},a.prototype.isSilent=function(b){var a=this._$handlers;return!a||!a[b]||!a[b].length},a.prototype.off=function(a,d){var b=this._$handlers;if(!b)return this;if(!a)return this._$handlers={},this;if(d){if(b[a]){for(var e=[],c=0,f=b[a].length;c<f;c++)b[a][c].h!==d&&e.push(b[a][c]);b[a]=e}b[a]&&0===b[a].length&&delete b[a]}else delete b[a];return this},a.prototype.trigger=function(e){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];if(!this._$handlers)return this;var f=this._$handlers[e],c=this._$eventProcessor;if(f)for(var h=b.length,i=f.length,g=0;g<i;g++){var a=f[g];if(!c||!c.filter||null==a.query||c.filter(e,a.query))switch(h){case 0:a.h.call(a.ctx);break;case 1:a.h.call(a.ctx,b[0]);break;case 2:a.h.call(a.ctx,b[0],b[1]);break;default:a.h.apply(a.ctx,b)}}return c&&c.afterTrigger&&c.afterTrigger(e),this},a.prototype.triggerWithContext=function(f){for(var a=[],d=1;d<arguments.length;d++)a[d-1]=arguments[d];if(!this._$handlers)return this;var g=this._$handlers[f],b=this._$eventProcessor;if(g)for(var h=a.length,e=a[h-1],j=g.length,i=0;i<j;i++){var c=g[i];if(!b||!b.filter||null==c.query||b.filter(f,c.query))switch(h){case 0:c.h.call(e);break;case 1:c.h.call(e,a[0]);break;case 2:c.h.call(e,a[0],a[1]);break;default:c.h.apply(e,a.slice(1,h-1))}}return b&&b.afterTrigger&&b.afterTrigger(f),this},a}(),gr=Math.log(2);function gs(a,j,b,f,c,d){var g=f+"-"+c,k=a.length;if(d.hasOwnProperty(g))return d[g];if(1===j){var n=Math.round(Math.log((1<<k)-1& ~c)/gr);return a[b][n]}for(var o=f|1<<b,h=b+1;f&1<<h;)h++;for(var i=0,e=0,l=0;e<k;e++){var m=1<<e;!(m&c)&&(i+=(l%2?-1:1)*a[b][e]*gs(a,j-1,h,o,c|m,d),l++)}return d[g]=i,i}function gt(a,b){var f=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]],g={},h=gs(f,8,0,0,0,g);if(0!==h){for(var e=[],d=0;d<8;d++)for(var c=0;c<8;c++)null==e[c]&&(e[c]=0),e[c]+=((d+c)%2?-1:1)*gs(f,7,0===d?1:0,1<<d,1<<c,g)/h*b[d];return function(c,a,b){var d=a*e[6]+b*e[7]+1;c[0]=(a*e[0]+b*e[1]+e[2])/d,c[1]=(a*e[3]+b*e[4]+e[5])/d}}}var gu="___zrEVENTSAVED",gv=[];function gw(d,a,e,f,g){if(a.getBoundingClientRect&&u.domSupported&&!gz(a)){var b=a[gu]||(a[gu]={}),h=gx(a,b),c=gy(h,b,g);if(c)return c(d,e,f),!0}return!1}function gx(i,d){var a=d.markers;if(a)return a;a=d.markers=[];for(var e=["left","right"],f=["top","bottom"],b=0;b<4;b++){var c=document.createElement("div"),j=c.style,g=b%2,h=(b>>1)%2;j.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",e[g]+":0",f[h]+":0",e[1-g]+":auto",f[1-h]+":auto",""].join("!important;"),i.appendChild(c),a.push(c)}return a}function gy(d,b,h){for(var i=h?"invTrans":"trans",j=b[i],e=b.srcCoords,c=[],f=[],g=!0,a=0;a<4;a++){var k=d[a].getBoundingClientRect(),l=2*a,m=k.left,n=k.top;c.push(m,n),g=g&&e&&m===e[l]&&n===e[l+1],f.push(d[a].offsetLeft,d[a].offsetTop)}return g&&j?j:(b.srcCoords=c,b[i]=h?gt(f,c):gt(c,f))}function gz(a){return"CANVAS"===a.nodeName.toUpperCase()}var gA=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gB=[],gC=u.browser.firefox&&39> +u.browser.version.split(".")[0];function gD(c,a,b,d){return b=b||{},d?gE(c,a,b):gC&&null!=a.layerX&&a.layerX!==a.offsetX?(b.zrX=a.layerX,b.zrY=a.layerY):null!=a.offsetX?(b.zrX=a.offsetX,b.zrY=a.offsetY):gE(c,a,b),b}function gE(b,c,a){if(u.domSupported&&b.getBoundingClientRect){var d=c.clientX,e=c.clientY;if(gz(b)){var f=b.getBoundingClientRect();a.zrX=d-f.left,a.zrY=e-f.top;return}if(gw(gB,b,d,e)){a.zrX=gB[0],a.zrY=gB[1];return}}a.zrX=a.zrY=0}function gF(a){return a||window.event}function gG(d,a,e){if(null!=(a=gF(a)).zrX)return a;var c=a.type;if(c&&c.indexOf("touch")>=0){var f="touchend"!==c?a.targetTouches[0]:a.changedTouches[0];f&&gD(d,f,a,e)}else{gD(d,a,a,e);var g=gH(a);a.zrDelta=g?g/120:-(a.detail||0)/3}var b=a.button;return null==a.which&& void 0!==b&&gA.test(a.type)&&(a.which=1&b?1:2&b?3:4&b?2:0),a}function gH(b){var c=b.wheelDelta;if(c)return c;var d=b.deltaX,a=b.deltaY;return null==d||null==a?c:3*(0!==a?Math.abs(a):Math.abs(d))*(a>0?-1:a<0?1:d>0?-1:1)}function gI(a,b,c,d){a.addEventListener(b,c,d)}function gJ(a,b,c,d){a.removeEventListener(b,c,d)}var gK=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function gL(a){return 2===a.which||3===a.which}var gM=function(){function a(){this._track=[]}return a.prototype.recognize=function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(d,g,h){var a=d.touches;if(a){for(var b={points:[],touches:[],target:g,event:d},c=0,i=a.length;c<i;c++){var e=a[c],f=gD(h,e,{});b.points.push([f.zrX,f.zrY]),b.touches.push(e)}this._track.push(b)}},a.prototype._recognize=function(c){for(var a in gO)if(gO.hasOwnProperty(a)){var b=gO[a](this._track,c);if(b)return b}},a}();function gN(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}var gO={pinch:function(b,c){var e=b.length;if(e){var a=(b[e-1]||{}).points,f=(b[e-2]||{}).points||a;if(f&&f.length>1&&a&&a.length>1){var d,g=gN(a)/gN(f);isFinite(g)||(g=1),c.pinchScale=g;var h=[((d=a)[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2];return c.pinchX=h[0],c.pinchY=h[1],{type:"pinch",target:b[0].target,event:c}}}}},gP="silent";function gQ(){gK(this.event)}var gR=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.handler=null,a}return cp(a,b),a.prototype.dispose=function(){},a.prototype.setCursor=function(){},a}(n),gS=function(a,b){this.x=a,this.y=b},gT=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],cD=function(b){function a(d,e,c,f){var a=b.call(this)||this;return a._hovered=new gS(0,0),a.storage=d,a.painter=e,a.painterRoot=f,c=c||new gR,a.proxy=null,a.setHandlerProxy(c),a._draggingMgr=new gq(a),a}return cp(a,b),a.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(j(gT,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},a.prototype.mousemove=function(b){var e=b.zrX,f=b.zrY,i=gV(this,e,f),c=this._hovered,a=c.target;a&&!a.__zr&&(a=(c=this.findHover(c.x,c.y)).target);var g=this._hovered=i?new gS(e,f):this.findHover(e,f),d=g.target,h=this.proxy;h.setCursor&&h.setCursor(d?d.cursor:"default"),a&&d!==a&&this.dispatchToElement(c,"mouseout",b),this.dispatchToElement(g,"mousemove",b),d&&d!==a&&this.dispatchToElement(g,"mouseover",b)},a.prototype.mouseout=function(a){var b=a.zrEventControl;"only_globalout"!==b&&this.dispatchToElement(this._hovered,"mouseout",a),"no_globalout"!==b&&this.trigger("globalout",{type:"globalout",event:a})},a.prototype.resize=function(){this._hovered=new gS(0,0)},a.prototype.dispatch=function(b,c){var a=this[b];a&&a.call(this,c)},a.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},a.prototype.setCursorStyle=function(b){var a=this.proxy;a.setCursor&&a.setCursor(b)},a.prototype.dispatchToElement=function(e,d,i){var a=(e=e||{}).target;if(!a||!a.silent){for(var g,f,b,h="on"+d,c=(g=d,f=e,{type:g,event:b=i,target:f.target,topTarget:f.topTarget,cancelBubble:!1,offsetX:b.zrX,offsetY:b.zrY,gestureEvent:b.gestureEvent,pinchX:b.pinchX,pinchY:b.pinchY,pinchScale:b.pinchScale,wheelDelta:b.zrDelta,zrByTouch:b.zrByTouch,which:b.which,stop:gQ});a&&(a[h]&&(c.cancelBubble=!!a[h].call(a,c)),a.trigger(d,c),a=a.__hostTarget?a.__hostTarget:a.parent,!c.cancelBubble););!c.cancelBubble&&(this.trigger(d,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(a){"function"==typeof a[h]&&a[h].call(a,c),a.trigger&&a.trigger(d,c)}))}},a.prototype.findHover=function(d,e,g){for(var b=this.storage.getDisplayList(),c=new gS(d,e),a=b.length-1;a>=0;a--){var f=void 0;if(b[a]!==g&&!b[a].ignore&&(f=gU(b[a],d,e))&&(c.topTarget||(c.topTarget=b[a]),f!==gP)){c.target=b[a];break}}return c},a.prototype.processGesture=function(a,d){this._gestureMgr||(this._gestureMgr=new gM);var c=this._gestureMgr;"start"===d&&c.clear();var b=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if("end"===d&&c.clear(),b){var e=b.type;a.gestureEvent=e;var f=new gS;f.target=b.target,this.dispatchToElement(f,e,b.event)}},a}(n);function gU(b,c,d){if(b[b.rectHover?"rectContain":"contain"](c,d)){for(var a=b,e=void 0,f=!1;a;){if(a.ignoreClip&&(f=!0),!f){var h,g=a.getClipPath();if(g&&!g.contain(c,d))return!1;a.silent&&(e=!0)}a=a.__hostTarget||a.parent}return!e||gP}return!1}function gV(d,a,b){var c=d.painter;return a<0||a>c.getWidth()||b<0||b>c.getHeight()}j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){cD.prototype[a]=function(b){var d,c,e=b.zrX,f=b.zrY,g=gV(this,e,f);if("mouseup"===a&&g||(c=(d=this.findHover(e,f)).target),"mousedown"===a)this._downEl=c,this._downPoint=[b.zrX,b.zrY],this._upEl=c;else if("mouseup"===a)this._upEl=c;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||gl(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(d,a,b)}});var gW=cD;function gX(b,c,d,e){var a=c+1;if(a===d)return 1;if(0>e(b[a++],b[c])){for(;a<d&&0>e(b[a],b[a-1]);)a++;gY(b,c,a)}else for(;a<d&&e(b[a],b[a-1])>=0;)a++;return a-c}function gY(a,c,b){for(b--;c<b;){var d=a[c];a[c++]=a[b],a[b--]=d}}function gZ(b,g,i,c,j){for(c===g&&c++;c<i;c++){for(var e,h=b[c],a=g,f=c;a<f;)0>j(h,b[e=a+f>>>1])?f=e:a=e+1;var d=c-a;switch(d){case 3:b[a+3]=b[a+2];case 2:b[a+2]=b[a+1];case 1:b[a+1]=b[a];break;default:for(;d>0;)b[a+d]=b[a+d-1],d--}b[a]=h}}function g$(e,f,g,j,d,h){var b=0,c=0,a=1;if(h(e,f[g+d])>0){for(c=j-d;a<c&&h(e,f[g+d+a])>0;)b=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),b+=d,a+=d}else{for(c=d+1;a<c&&0>=h(e,f[g+d-a]);)b=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);var k=b;b=d-a,a=d-k}for(b++;b<a;){var i=b+(a-b>>>1);h(e,f[g+i])>0?b=i+1:a=i}return a}function g_(e,f,g,j,d,h){var b=0,c=0,a=1;if(0>h(e,f[g+d])){for(c=d+1;a<c&&0>h(e,f[g+d-a]);)b=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);var k=b;b=d-a,a=d-k}else{for(c=j-d;a<c&&h(e,f[g+d+a])>=0;)b=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),b+=d,a+=d}for(b++;b<a;){var i=b+(a-b>>>1);0>h(e,f[g+i])?a=i:b=i+1}return a}function g0(c,f,a,d){a||(a=0),d||(d=c.length);var e=d-a;if(!(e<2)){var b=0;if(e<32){b=gX(c,a,d,f),gZ(c,a,d,a+b,f);return}var h=function(a,d){var b,c,e=7,f=0,g=0;a.length;var h=[];function i(e){var i=b[e],f=c[e],l=b[e+1],h=c[e+1];c[e]=f+h,e===g-3&&(b[e+1]=b[e+2],c[e+1]=c[e+2]),g--;var m=g_(a[l],a,i,f,0,d);i+=m,f-=m,0!==f&&0!==(h=g$(a[i+f-1],a,l,h,h-1,d))&&(f<=h?j(i,f,l,h):k(i,f,l,h))}function j(o,f,p,i){var j,k,m,b=0;for(b=0;b<f;b++)h[b]=a[o+b];var g=0,l=p,c=o;if(a[c++]=a[l++],0== --i){for(b=0;b<f;b++)a[c+b]=h[g+b];return}if(1===f){for(b=0;b<i;b++)a[c+b]=a[l+b];a[c+i]=h[g];return}for(var n=e;;){j=0,k=0,m=!1;do if(0>d(a[l],h[g])){if(a[c++]=a[l++],k++,j=0,0== --i){m=!0;break}}else if(a[c++]=h[g++],j++,k=0,1== --f){m=!0;break}while((j|k)<n)if(m)break;do{if(0!==(j=g_(a[l],h,g,f,0,d))){for(b=0;b<j;b++)a[c+b]=h[g+b];if(c+=j,g+=j,f-=j,f<=1){m=!0;break}}if(a[c++]=a[l++],0== --i){m=!0;break}if(0!==(k=g$(h[g],a,l,i,0,d))){for(b=0;b<k;b++)a[c+b]=a[l+b];if(c+=k,l+=k,i-=k,0===i){m=!0;break}}if(a[c++]=h[g++],1== --f){m=!0;break}n--}while(j>=7||k>=7)if(m)break;n<0&&(n=0),n+=2}if((e=n)<1&&(e=1),1===f){for(b=0;b<i;b++)a[c+b]=a[l+b];a[c+i]=h[g]}else if(0===f)throw Error();else for(b=0;b<f;b++)a[c+b]=h[g+b]}function k(q,g,r,c){var b=0;for(b=0;b<c;b++)h[b]=a[r+b];var j=q+g-1,m=c-1,f=r+c-1,i=0,n=0;if(a[f--]=a[j--],0== --g){for(b=0,i=f-(c-1);b<c;b++)a[i+b]=h[b];return}if(1===c){for(f-=g,j-=g,n=f+1,i=j+1,b=g-1;b>=0;b--)a[n+b]=a[i+b];a[f]=h[m];return}for(var p=e;;){var k=0,l=0,o=!1;do if(0>d(h[m],a[j])){if(a[f--]=a[j--],k++,l=0,0== --g){o=!0;break}}else if(a[f--]=h[m--],l++,k=0,1== --c){o=!0;break}while((k|l)<p)if(o)break;do{if(0!=(k=g-g_(h[m],a,q,g,g-1,d))){for(f-=k,j-=k,g-=k,n=f+1,i=j+1,b=k-1;b>=0;b--)a[n+b]=a[i+b];if(0===g){o=!0;break}}if(a[f--]=h[m--],1== --c){o=!0;break}if(0!=(l=c-g$(a[j],h,0,c,c-1,d))){for(f-=l,m-=l,c-=l,n=f+1,i=m+1,b=0;b<l;b++)a[n+b]=h[i+b];if(c<=1){o=!0;break}}if(a[f--]=a[j--],0== --g){o=!0;break}p--}while(k>=7||l>=7)if(o)break;p<0&&(p=0),p+=2}if((e=p)<1&&(e=1),1===c){for(f-=g,j-=g,n=f+1,i=j+1,b=g-1;b>=0;b--)a[n+b]=a[i+b];a[f]=h[m]}else if(0===c)throw Error();else for(b=0,i=f-(c-1);b<c;b++)a[i+b]=h[b]}return b=[],c=[],{mergeRuns:function(){for(;g>1;){var a=g-2;if(a>=1&&c[a-1]<=c[a]+c[a+1]||a>=2&&c[a-2]<=c[a]+c[a-1])c[a-1]<c[a+1]&&a--;else if(c[a]>c[a+1])break;i(a)}},forceMergeRuns:function(){for(;g>1;){var a=g-2;a>0&&c[a-1]<c[a+1]&&a--,i(a)}},pushRun:function(a,d){b[g]=a,c[g]=d,g+=1}}}(c,f),i=function(a){for(var b=0;a>=32;)b|=1&a,a>>=1;return a+b}(e);do{if((b=gX(c,a,d,f))<i){var g=e;g>i&&(g=i),gZ(c,a,a+g,a+b,f),b=g}h.pushRun(a,b),h.mergeRuns(),e-=b,a+=b}while(0!==e)h.forceMergeRuns()}}var g1=1,g2=!1;function g3(){!g2&&(g2=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function g4(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var g5=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=g4}return a.prototype.traverse=function(b,c){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(b,c)},a.prototype.getDisplayList=function(c,a){a=a||!1;var b=this._displayList;return(c||!b.length)&&this.updateDisplayList(a),b},a.prototype.updateDisplayList=function(d){this._displayListLen=0;for(var b=this._roots,c=this._displayList,a=0,e=b.length;a<e;a++)this._updateAndAddDisplayable(b[a],null,d);c.length=this._displayListLen,g0(c,g4)},a.prototype._updateAndAddDisplayable=function(a,b,e){if(!a.ignore||e){a.beforeUpdate(),a.update(),a.afterUpdate();var g=a.getClipPath();if(a.ignoreClip)b=null;else if(g){b=b?b.slice():[];for(var d=g,h=a;d;)d.parent=h,d.updateTransform(),b.push(d),h=d,d=d.getClipPath()}if(a.childrenRef){for(var i=a.childrenRef(),f=0;f<i.length;f++){var j=i[f];a.__dirty&&(j.__dirty|=g1),this._updateAndAddDisplayable(j,b,e)}a.__dirty=0}else{var c=a;b&&b.length?c.__clipPaths=b:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(g3(),c.z=0),isNaN(c.z2)&&(g3(),c.z2=0),isNaN(c.zlevel)&&(g3(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var k=a.getDecalElement&&a.getDecalElement();k&&this._updateAndAddDisplayable(k,b,e);var l=a.getTextGuideLine();l&&this._updateAndAddDisplayable(l,b,e);var m=a.getTextContent();m&&this._updateAndAddDisplayable(m,b,e)}},a.prototype.addRoot=function(a){(!a.__zr||a.__zr.storage!==this)&&this._roots.push(a)},a.prototype.delRoot=function(a){if(a instanceof Array){for(var b=0,d=a.length;b<d;b++)this.delRoot(a[b]);return}var c=fQ(this._roots,a);c>=0&&this._roots.splice(c,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}(),g6=u.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)},cE={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var c,a=.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=.1):c=.4*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(b-=1))*Math.sin((b-c)*(2*Math.PI)/.4)))},elasticOut:function(b){var c,a=.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=.1):c=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*b)*Math.sin((b-c)*(2*Math.PI)/.4)+1)},elasticInOut:function(a){var c,b=.1;return 0===a?0:1===a?1:(!b||b<1?(b=1,c=.1):c=.4*Math.asin(1/b)/(2*Math.PI),(a*=2)<1)?-0.5*(b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/.4)):b*Math.pow(2,-10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return(a*=2)<1?.5*(a*a*(3.5949095*a-2.5949095)):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-cE.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*cE.bounceIn(2*a):.5*cE.bounceOut(2*a-1)+.5}},g7=cE,g8=Math.pow,cF=Math.sqrt,g9=cF(3),ha=1/3,hb=H(),hc=H(),hd=H();function he(a){return a> -0.00000001&&a<1e-8}function hf(a){return a>1e-8||a< -0.00000001}function hg(c,d,e,f,a){var b=1-a;return b*b*(b*c+3*a*d)+a*a*(a*f+3*b*e)}function hh(e,b,c,f,a){var d=1-a;return 3*(((b-e)*d+2*(c-b)*a)*d+(f-c)*a*a)}function hi(l,m,s,w,x,e){var c=w+3*(m-s)-l,b=3*(s-2*m+l),i=3*(m-l),t=l-x,d=b*b-3*c*i,g=b*i-9*c*t,f=0;if(he(d)&&he(g)){if(he(b))e[0]=0;else{var a=-i/b;a>=0&&a<=1&&(e[f++]=a)}}else{var n=g*g-4*d*(i*i-3*b*t);if(he(n)){var u=g/d,a=-b/c+u,h=-u/2;a>=0&&a<=1&&(e[f++]=a),h>=0&&h<=1&&(e[f++]=h)}else if(n>0){var v=cF(n),j=d*b+1.5*c*(-g+v),k=d*b+1.5*c*(-g-v);j=j<0?-g8(-j,ha):g8(j,ha),k=k<0?-g8(-k,ha):g8(k,ha);var a=(-b-(j+k))/(3*c);a>=0&&a<=1&&(e[f++]=a)}else{var o=Math.acos((2*d*b-3*c*g)/(2*cF(d*d*d)))/3,p=cF(d),q=Math.cos(o),a=(-b-2*p*q)/(3*c),h=(-b+p*(q+g9*Math.sin(o)))/(3*c),r=(-b+p*(q-g9*Math.sin(o)))/(3*c);a>=0&&a<=1&&(e[f++]=a),h>=0&&h<=1&&(e[f++]=h),r>=0&&r<=1&&(e[f++]=r)}}return f}function hj(f,g,j,m,d){var a=6*j-12*g+6*f,c=9*g+3*m-3*f-9*j,k=3*g-3*f,e=0;if(he(c)){if(hf(a)){var b=-k/a;b>=0&&b<=1&&(d[e++]=b)}}else{var h=a*a-4*c*k;if(he(h))d[0]=-a/(2*c);else if(h>0){var l=cF(h),b=(-a+l)/(2*c),i=(-a-l)/(2*c);b>=0&&b<=1&&(d[e++]=b),i>=0&&i<=1&&(d[e++]=i)}}return e}function hk(c,d,e,i,b,a){var f=(d-c)*b+c,g=(e-d)*b+d,j=(i-e)*b+e,h=(g-f)*b+f,k=(j-g)*b+g,l=(k-h)*b+h;a[0]=c,a[1]=f,a[2]=h,a[3]=l,a[4]=l,a[5]=k,a[6]=j,a[7]=i}function hl(g,h,i,j,k,l,m,n,s,t,p){var b,c,d,e,q,o=.005,a=1/0;hb[0]=s,hb[1]=t;for(var f=0;f<1;f+=.05)hc[0]=hg(g,i,k,m,f),hc[1]=hg(h,j,l,n,f),(e=cB(hb,hc))<a&&(b=f,a=e);a=1/0;for(var r=0;r<32&&!(o<1e-4);r++)c=b-o,d=b+o,hc[0]=hg(g,i,k,m,c),hc[1]=hg(h,j,l,n,c),e=cB(hc,hb),c>=0&&e<a?(b=c,a=e):(hd[0]=hg(g,i,k,m,d),hd[1]=hg(h,j,l,n,d),q=cB(hd,hb),d<=1&&q<a?(b=d,a=q):o*=.5);return p&&(p[0]=hg(g,i,k,m,b),p[1]=hg(h,j,l,n,b)),cF(a)}function hm(b,c,m,n,o,p,q,r,d){for(var e=b,f=c,g=0,s=1/d,a=1;a<=d;a++){var h=a*s,i=hg(b,m,o,q,h),j=hg(c,n,p,r,h),k=i-e,l=j-f;g+=Math.sqrt(k*k+l*l),e=i,f=j}return g}function cG(c,d,e,a){var b=1-a;return b*(b*c+2*a*d)+a*a*e}function hn(c,a,d,b){return 2*((1-b)*(a-c)+b*(d-a))}function ho(a,b,d){var c=a+d-2*b;return 0===c?.5:(a-b)/c}function hp(b,c,f,d,a){var e=(c-b)*d+b,g=(f-c)*d+c,h=(g-e)*d+e;a[0]=b,a[1]=e,a[2]=h,a[3]=h,a[4]=g,a[5]=f}function hq(e,f,g,h,i,j,q,r,n){var b,k=.005,a=1/0;hb[0]=q,hb[1]=r;for(var c=0;c<1;c+=.05){hc[0]=cG(e,g,i,c),hc[1]=cG(f,h,j,c);var d=cB(hb,hc);d<a&&(b=c,a=d)}a=1/0;for(var o=0;o<32&&!(k<1e-4);o++){var l=b-k,m=b+k;hc[0]=cG(e,g,i,l),hc[1]=cG(f,h,j,l);var d=cB(hc,hb);if(l>=0&&d<a)b=l,a=d;else{hd[0]=cG(e,g,i,m),hd[1]=cG(f,h,j,m);var p=cB(hd,hb);m<=1&&p<a?(b=m,a=p):k*=.5}}return n&&(n[0]=cG(e,g,i,b),n[1]=cG(f,h,j,b)),cF(a)}function hr(b,c,m,n,o,p,d){for(var e=b,f=c,g=0,q=1/d,a=1;a<=d;a++){var h=a*q,i=cG(b,m,o,h),j=cG(c,n,p,h),k=i-e,l=j-f;g+=Math.sqrt(k*k+l*l),e=i,f=j}return g}var hs=/cubic-bezier\(([0-9,\.e ]+)\)/;function ht(b){var c=b&&hs.exec(b);if(c){var a=c[1].split(","),d=+f2(a[0]),e=+f2(a[1]),f=+f2(a[2]),g=+f2(a[3]);if(isNaN(d+e+f+g))return;var h=[];return function(a){return a<=0?0:a>=1?1:hi(0,d,f,1,a,h)&&hg(0,e,g,1,h[0])}}}var hu=function(){function a(a){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=a.life||1e3,this._delay=a.delay||0,this.loop=a.loop||!1,this.onframe=a.onframe||y,this.ondestroy=a.ondestroy||y,this.onrestart=a.onrestart||y,a.easing&&this.setEasing(a.easing)}return a.prototype.step=function(b,f){if(this._inited||(this._startTime=b+this._delay,this._inited=!0),this._paused){this._pausedTime+=f;return}var c=this._life,d=b-this._startTime-this._pausedTime,a=d/c;a<0&&(a=0),a=Math.min(a,1);var e=this.easingFunc,g=e?e(a):a;if(this.onframe(g),1===a){if(!this.loop)return!0;var h=d%c;this._startTime=b-h,this._pausedTime=0,this.onrestart()}return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(a){this.easing=a,this.easingFunc=cw(a)?a:g7[a]||ht(a)},a}(),hv=function(a){this.value=a},hw=function(){function a(){this._len=0}return a.prototype.insert=function(b){var a=new hv(b);return this.insertEntry(a),a},a.prototype.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},a.prototype.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),Z=function(){function a(a){this._list=new hw,this._maxSize=10,this._map={},this._maxSize=a}return a.prototype.put=function(d,f){var b=this._list,e=this._map,g=null;if(null==e[d]){var h=b.len(),a=this._lastRemovedEntry;if(h>=this._maxSize&&h>0){var c=b.head;b.remove(c),delete e[c.key],g=c.value,this._lastRemovedEntry=c}a?a.value=f:a=new hv(f),a.key=d,b.insertEntry(a),e[d]=a}return g},a.prototype.get=function(c){var a=this._map[c],b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}(),hx={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hy(a){return(a=Math.round(a))<0?0:a>255?255:a}function hz(a){return a<0?0:a>1?1:a}function hA(b){var a=b;return a.length&&"%"===a.charAt(a.length-1)?hy(parseFloat(a)/100*255):hy(parseInt(a,10))}function hB(b){var a=b;return a.length&&"%"===a.charAt(a.length-1)?hz(parseFloat(a)/100):hz(parseFloat(a))}function hC(b,c,a){return(a<0?a+=1:a>1&&(a-=1),6*a<1)?b+(c-b)*a*6:2*a<1?c:3*a<2?b+(c-b)*(2/3-a)*6:b}function hD(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function hE(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}var hF=new Z(20),hG=null;function hH(b,a){hG&&hE(hG,a),hG=hF.put(b,hG||a.slice())}function hI(e,a){if(e){a=a||[];var h=hF.get(e);if(h)return hE(a,h);var d=(e+="").replace(/ /g,"").toLowerCase();if(d in hx)return hE(a,hx[d]),hH(e,a),a;var f=d.length;if("#"===d.charAt(0)){if(4===f||5===f){var c=parseInt(d.slice(1,4),16);if(!(c>=0&&c<=4095)){hD(a,0,0,0,1);return}return hD(a,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,5===f?parseInt(d.slice(4),16)/15:1),hH(e,a),a}if(7===f||9===f){var c=parseInt(d.slice(1,7),16);if(!(c>=0&&c<=16777215)){hD(a,0,0,0,1);return}return hD(a,(16711680&c)>>16,(65280&c)>>8,255&c,9===f?parseInt(d.slice(7),16)/255:1),hH(e,a),a}return}var g=d.indexOf("("),i=d.indexOf(")");if(-1!==g&&i+1===f){var k=d.substr(0,g),b=d.substr(g+1,i-(g+1)).split(","),j=1;switch(k){case"rgba":if(4!==b.length)return 3===b.length?hD(a,+b[0],+b[1],+b[2],1):hD(a,0,0,0,1);j=hB(b.pop());case"rgb":if(3!==b.length){hD(a,0,0,0,1);return}return hD(a,hA(b[0]),hA(b[1]),hA(b[2]),j),hH(e,a),a;case"hsla":if(4!==b.length){hD(a,0,0,0,1);return}return b[3]=hB(b[3]),hJ(b,a),hH(e,a),a;case"hsl":if(3!==b.length){hD(a,0,0,0,1);return}return hJ(b,a),hH(e,a),a;default:return}}hD(a,0,0,0,1)}}function hJ(a,c){var e=(parseFloat(a[0])%360+360)%360/360,f=hB(a[1]),b=hB(a[2]),d=b<=.5?b*(f+1):b+f-b*f,g=2*b-d;return hD(c=c||[],hy(255*hC(g,d,e+1/3)),hy(255*hC(g,d,e)),hy(255*hC(g,d,e-1/3)),1),4===a.length&&(c[3]=a[3]),c}function hK(d,c){var a=hI(d);if(a){for(var b=0;b<3;b++)c<0?a[b]=a[b]*(1-c)|0:a[b]=(255-a[b])*c+a[b]|0,a[b]>255?a[b]=255:a[b]<0&&(a[b]=0);return hO(a,4===a.length?"rgba":"rgb")}}function hL(f,b,a){if(b&&b.length&&f>=0&&f<=1){a=a||[];var g,l,q,h,m,r,i,n,s,j,o,t,k=f*(b.length-1),p=Math.floor(k),c=b[p],d=b[Math.ceil(k)],e=k-p;return a[0]=hy((g=c[0],l=d[0],g+(l-g)*(q=e))),a[1]=hy((h=c[1],m=d[1],h+(m-h)*(r=e))),a[2]=hy((i=c[2],n=d[2],i+(n-i)*(s=e))),a[3]=hz((j=c[3],o=d[3],j+(o-j)*(t=e))),a}}function hM(c,d,e,f){var b,a=hI(c);if(c)return a=function(d){if(d){var b,i,e=d[0]/255,f=d[1]/255,g=d[2]/255,h=Math.min(e,f,g),a=Math.max(e,f,g),c=a-h,j=(a+h)/2;if(0===c)b=0,i=0;else{i=j<.5?c/(a+h):c/(2-a-h);var k=((a-e)/6+c/2)/c,l=((a-f)/6+c/2)/c,m=((a-g)/6+c/2)/c;e===a?b=m-l:f===a?b=1/3+k-m:g===a&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)}var n=[360*b,i,j];return null!=d[3]&&n.push(d[3]),n}}(a),null!=d&&(a[0]=(b=Math.round(b=d))<0?0:b>360?360:b),null!=e&&(a[1]=hB(e)),null!=f&&(a[2]=hB(f)),hO(hJ(a),"rgba")}function hN(c,b){var a=hI(c);if(a&&null!=b)return a[3]=hz(b),hO(a,"rgba")}function hO(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}}function hP(b,c){var a=hI(b);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*c:0}var cH=T(21876).Buffer,hQ=Math.round;function hR(a){var c;if(a&&"transparent"!==a){if("string"==typeof a&&a.indexOf("rgba")> -1){var b=hI(a);b&&(a="rgb("+b[0]+","+b[1]+","+b[2]+")",c=b[3])}}else a="none";return{color:a,opacity:null==c?1:c}}function hS(a){return a<1e-4&&a> -0.0001}function hT(a){return hQ(1e3*a)/1e3}function hU(a){return hQ(1e4*a)/1e4}var hV={left:"start",right:"end",center:"middle",middle:"middle"};function hW(a){return a&&!!a.image}function hX(a){return"linear"===a.type}function hY(a){return"radial"===a.type}function hZ(a){return"url(#"+a+")"}function h$(b){var a=b.getGlobalScale(),c=Math.max(a[0],a[1]);return Math.max(Math.ceil(Math.log(c)/Math.log(10)),1)}function h_(a){var c=a.x||0,d=a.y||0,e=(a.rotation||0)*gb,f=f$(a.scaleX,1),g=f$(a.scaleY,1),h=a.skewX||0,i=a.skewY||0,b=[];return(c||d)&&b.push("translate("+c+"px,"+d+"px)"),e&&b.push("rotate("+e+")"),(1!==f||1!==g)&&b.push("scale("+f+","+g+")"),(h||i)&&b.push("skew("+hQ(h*gb)+"deg, "+hQ(i*gb)+"deg)"),b.join(" ")}var h0=u.hasGlobalWindow&&cw(window.btoa)?function(a){return window.btoa(unescape(a))}:void 0!==cH?function(a){return cH.from(a).toString("base64")}:function(a){return null},h1=Array.prototype.slice;function h2(c,d,g,h){for(var b,e,f,i=d.length,a=0;a<i;a++)c[a]=(b=d[a],e=g[a],f=h,(e-b)*f+b);return c}function h3(b,c,d,e){for(var f=c.length,a=0;a<f;a++)b[a]=c[a]+d[a]*e;return b}function h4(c,d,f,g){for(var e=d.length,h=e&&d[0].length,a=0;a<e;a++){c[a]||(c[a]=[]);for(var b=0;b<h;b++)c[a][b]=d[a][b]+f[a][b]*g}return c}function h5(c,d){for(var a=c.length,b=d.length,e=a>b?d:c,f=Math.min(a,b),g=e[f-1]||{color:[0,0,0,0],offset:0},h=f;h<Math.max(a,b);h++)e.push({offset:g.offset,color:g.color.slice()})}function h6(h,i,g){var b=h,c=i;if(b.push&&c.push){var f=b.length,e=c.length;if(f!==e){if(f>e)b.length=e;else for(var a=f;a<e;a++)b.push(1===g?c[a]:h1.call(c[a]))}for(var j=b[0]&&b[0].length,a=0;a<b.length;a++)if(1===g)isNaN(b[a])&&(b[a]=c[a]);else for(var d=0;d<j;d++)isNaN(b[a][d])&&(b[a][d]=c[a][d])}}function h7(a){if(fR(a)){var d=a.length;if(fR(a[0])){for(var c=[],b=0;b<d;b++)c.push(h1.call(a[b]));return c}return h1.call(a)}return a}function h8(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=null==a[3]?1:a[3],"rgba("+a.join(",")+")"}function h9(a){return 4===a||5===a}function ia(a){return 1===a||2===a}var ib=[0,0,0,0],ic=function(){function a(a){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=a}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(m,a,c){this._needsSort=!0;var h,i=this.keyframes,n=i.length,f=!1,b=6,d=a;if(fR(a)){var j,g=fR((j=a)&&j[0])?2:1;b=g,(1!==g||fV(a[0]))&&(2!==g||fV(a[0][0]))||(f=!0)}else if(fV(a)&&(h=a)==h)b=0;else if(fT(a)){if(isNaN(+a)){var k=hI(a);k&&(d=k,b=3)}else b=0}else if(fZ(a)){var l=fP({},d);l.colorStops=Y(a.colorStops,function(a){return{offset:a.offset,color:hI(a.color)}}),hX(a)?b=4:hY(a)&&(b=5),d=l}0===n?this.valType=b:(b!==this.valType||6===b)&&(f=!0),this.discrete=this.discrete||f;var e={time:m,value:d,rawValue:a,percent:0};return c&&(e.easing=c,e.easingFunc=cw(c)?c:g7[c]||ht(c)),i.push(e),e},a.prototype.prepare=function(k,d){var b=this.keyframes;this._needsSort&&b.sort(function(a,b){return a.time-b.time});for(var c=this.valType,e=b.length,l=b[e-1],h=this.discrete,m=ia(c),n=h9(c),a=0;a<e;a++){var g=b[a],i=g.value,j=l.value;g.percent=g.time/k,!h&&(m&&a!==e-1?h6(i,j,c):n&&h5(i.colorStops,j.colorStops))}if(!h&&5!==c&&d&&this.needsAnimate()&&d.needsAnimate()&&c===d.valType&&!d._finished){this._additiveTrack=d;for(var f=b[0].value,a=0;a<e;a++)0===c?b[a].additiveValue=b[a].value-f:3===c?b[a].additiveValue=h3([],b[a].value,f,-1):ia(c)&&(b[a].additiveValue=1===c?h3([],b[a].value,f,-1):h4([],b[a].value,f,-1))}},a.prototype.step=function(f,h){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var a,d,b,n=null!=this._additiveTrack,e=n?"additiveValue":"value",i=this.valType,j=this.keyframes,o=j.length,g=this.propName,q=3===i,x=this._lastFr,p=Math.min;if(1===o)d=b=j[0];else{if(h<0)a=0;else if(h<this._lastFrP){var I=p(x+1,o-1);for(a=I;a>=0&&!(j[a].percent<=h);a--);a=p(a,o-2)}else{for(a=x;a<o&&!(j[a].percent>h);a++);a=p(a-1,o-2)}b=j[a+1],d=j[a]}if(d&&b){this._lastFr=a,this._lastFrP=h;var y=b.percent-d.percent,c=0===y?1:p((h-d.percent)/y,1);b.easingFunc&&(c=b.easingFunc(c));var k=n?this._additiveValue:q?ib:f[g];if((ia(i)||q)&&!k&&(k=this._additiveValue=[]),this.discrete)f[g]=c<1?d.rawValue:b.rawValue;else if(ia(i))1===i?h2(k,d[e],b[e],c):function(c,d,i,j){for(var f=d.length,k=f&&d[0].length,a=0;a<f;a++){c[a]||(c[a]=[]);for(var e,g,h,b=0;b<k;b++)c[a][b]=(e=d[a][b],g=i[a][b],h=j,(g-e)*h+e)}return c}(k,d[e],b[e],c);else if(h9(i)){var r,z,J,s,A,K,t,B,L,u,C,M,v,D,N,l=d[e],m=b[e],E=4===i;(f[g]={type:E?"linear":"radial",x:(u=l.x,C=m.x,(C-u)*(M=c)+u),y:(v=l.y,D=m.y,(D-v)*(N=c)+v),colorStops:Y(l.colorStops,function(b,f){var a,d,g,e=m.colorStops[f];return{offset:(a=b.offset,d=e.offset,(d-a)*(g=c)+a),color:h8(h2([],b.color,e.color,c))}}),global:m.global},E)?(f[g].x2=(r=l.x2,z=m.x2,(z-r)*(J=c)+r),f[g].y2=(s=l.y2,A=m.y2,(A-s)*(K=c)+s)):f[g].r=(t=l.r,B=m.r,(B-t)*(L=c)+t)}else if(q)h2(k,d[e],b[e],c),n||(f[g]=h8(k));else{var w,F,G,H=(w=d[e],F=b[e],G=c,(F-w)*G+w);n?this._additiveValue=H:f[g]=H}n&&this._addToTarget(f)}}},a.prototype._addToTarget=function(a){var c=this.valType,b=this.propName,d=this._additiveValue;0===c?a[b]=a[b]+d:3===c?(hI(a[b],ib),h3(ib,ib,d,1),a[b]=h8(ib)):1===c?h3(a[b],a[b],d,1):2===c&&h4(a[b],a[b],d,1)},a}(),id=function(){function a(c,a,d,b){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=c,this._loop=a,a&&b){fN("Can' use additive animation on looped animation.");return}this._additiveAnimators=b,this._allowDiscrete=d}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(a){this._target=a},a.prototype.when=function(b,a,c){return this.whenWithKeys(b,a,ap(a),c)},a.prototype.whenWithKeys=function(d,l,g,h){for(var i=this._tracks,e=0;e<g.length;e++){var a=g[e],c=i[a];if(!c){c=i[a]=new ic(a);var b=void 0,f=this._getAdditiveTrack(a);if(f){var j=f.keyframes,k=j[j.length-1];b=k&&k.value,3===f.valType&&b&&(b=h8(b))}else b=this._target[a];if(null==b)continue;d>0&&c.addKeyframe(0,h7(b),h),this._trackKeys.push(a)}c.addKeyframe(d,h7(l[a]),h)}return this._maxTime=Math.max(this._maxTime,d),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(a){return this._maxTime=a,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var a=this._doneCbs;if(a)for(var c=a.length,b=0;b<c;b++)a[b].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var c=this.animation,a=this._abortedCbs;if(c&&c.removeClip(this._clip),this._clip=null,a)for(var b=0;b<a.length;b++)a[b].call(this)},a.prototype._setTracksFinished=function(){for(var c=this._tracks,b=this._trackKeys,a=0;a<b.length;a++)c[b[a]].setFinished()},a.prototype._getAdditiveTrack=function(e){var c,a=this._additiveAnimators;if(a)for(var b=0;b<a.length;b++){var d=a[b].getTrack(e);d&&(c=d)}return c},a.prototype.start=function(d){if(!(this._started>0)){this._started=1;for(var j=this,e=[],f=this._maxTime||0,b=0;b<this._trackKeys.length;b++){var g=this._trackKeys[b],a=this._tracks[g],k=this._getAdditiveTrack(g),h=a.keyframes,l=h.length;if(a.prepare(f,k),a.needsAnimate()){if(!this._allowDiscrete&&a.discrete){var i=h[l-1];i&&(j._target[a.propName]=i.rawValue),a.setFinished()}else e.push(a)}}if(e.length||this._force){var c=new hu({life:f,loop:this._loop,delay:this._delay||0,onframe:function(d){j._started=2;var b=j._additiveAnimators;if(b){for(var f=!1,a=0;a<b.length;a++)if(b[a]._clip){f=!0;break}f||(j._additiveAnimators=null)}for(var a=0;a<e.length;a++)e[a].step(j._target,d);var c=j._onframeCbs;if(c)for(var a=0;a<c.length;a++)c[a](j._target,d)},ondestroy:function(){j._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),d&&c.setEasing(d)}else this._doneCallback();return this}},a.prototype.stop=function(a){if(this._clip){var b=this._clip;a&&b.onframe(1),this._abortedCallback()}},a.prototype.delay=function(a){return this._delay=a,this},a.prototype.during=function(a){return a&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(a)),this},a.prototype.done=function(a){return a&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(a)),this},a.prototype.aborted=function(a){return a&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(a)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(a){return this._tracks[a]},a.prototype.getTracks=function(){var a=this;return Y(this._trackKeys,function(b){return a._tracks[b]})},a.prototype.stopTracks=function(c,g){if(!c.length||!this._clip)return!0;for(var e=this._tracks,f=this._trackKeys,a=0;a<c.length;a++){var b=e[c[a]];b&&!b.isFinished()&&(g?b.step(this._target,1):1===this._started&&b.step(this._target,0),b.setFinished())}for(var d=!0,a=0;a<f.length;a++)if(!e[f[a]].isFinished()){d=!1;break}return d&&this._abortedCallback(),d},a.prototype.saveTo=function(d,a,h){if(d){a=a||this._trackKeys;for(var b=0;b<a.length;b++){var e=a[b],c=this._tracks[e];if(!(!c||c.isFinished())){var f=c.keyframes,g=f[h?0:f.length-1];g&&(d[e]=h7(g.rawValue))}}}},a.prototype.__changeFinalValue=function(d,b){b=b||ap(d);for(var c=0;c<b.length;c++){var e=b[c],a=this._tracks[e];if(a){var f=a.keyframes;if(f.length>1){var g=f.pop();a.addKeyframe(g.time,d[e]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},a}();function ie(){return new Date().getTime()}var a6,cI,a7,ig=function(b){function a(c){var a=b.call(this)||this;return a._running=!1,a._time=0,a._pausedTime=0,a._pauseStart=0,a._paused=!1,c=c||{},a.stage=c.stage||{},a}return cp(a,b),a.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},a.prototype.addAnimator=function(a){a.animation=this;var b=a.getClip();b&&this.addClip(b)},a.prototype.removeClip=function(a){if(a.animation){var b=a.prev,c=a.next;b?b.next=c:this._head=c,c?c.prev=b:this._tail=b,a.next=a.prev=a.animation=null}},a.prototype.removeAnimator=function(a){var b=a.getClip();b&&this.removeClip(b),a.animation=null},a.prototype.update=function(d){for(var b=ie()-this._pausedTime,c=b-this._time,a=this._head;a;){var e=a.next;a.step(b,c)&&(a.ondestroy(),this.removeClip(a)),a=e}this._time=b,!d&&(this.trigger("frame",c),this.stage.update&&this.stage.update())},a.prototype._startLoop=function(){var b=this;function a(){b._running&&(g6(a),b._paused||b.update())}this._running=!0,g6(a)},a.prototype.start=function(){!this._running&&(this._time=ie(),this._pausedTime=0,this._startLoop())},a.prototype.stop=function(){this._running=!1},a.prototype.pause=function(){this._paused||(this._pauseStart=ie(),this._paused=!0)},a.prototype.resume=function(){this._paused&&(this._pausedTime+=ie()-this._pauseStart,this._paused=!1)},a.prototype.clear=function(){for(var a=this._head;a;){var b=a.next;a.prev=a.next=a.animation=null,a=b}this._head=this._tail=null},a.prototype.isFinished=function(){return null==this._head},a.prototype.animate=function(c,a){a=a||{},this.start();var b=new id(c,a.loop);return this.addAnimator(b),b},a}(n),ih=u.domSupported,ii=(cI={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a7=Y(a6=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],function(a){var b=a.replace("mouse","pointer");return cI.hasOwnProperty(b)?b:a}),{mouse:a6,touch:["touchstart","touchend","touchmove"],pointer:a7}),ij={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},ik=!1;function il(b){var a=b.pointerType;return"pen"===a||"touch"===a}function im(a){a&&(a.zrByTouch=!0)}function io(d,b){for(var a=b,c=!1;a&&9!==a.nodeType&&!(c=a.domBelongToZr||a!==b&&a===d.painterRoot);)a=a.parentNode;return c}var ip=function(b,a){this.stopPropagation=y,this.stopImmediatePropagation=y,this.preventDefault=y,this.type=a.type,this.target=this.currentTarget=b.dom,this.pointerType=a.pointerType,this.clientX=a.clientX,this.clientY=a.clientY},iq={mousedown:function(a){a=gG(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=gG(this.dom,a);var b=this.__mayPointerCapture;b&&(a.zrX!==b[0]||a.zrY!==b[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=gG(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){var b=(a=gG(this.dom,a)).toElement||a.relatedTarget;io(this,b)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){ik=!0,a=gG(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){!ik&&(a=gG(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=gG(this.dom,a),im(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),iq.mousemove.call(this,a),iq.mousedown.call(this,a)},touchmove:function(a){a=gG(this.dom,a),im(a),this.handler.processGesture(a,"change"),iq.mousemove.call(this,a)},touchend:function(a){a=gG(this.dom,a),im(a),this.handler.processGesture(a,"end"),iq.mouseup.call(this,a),+new Date- +this.__lastTouchMoment<300&&iq.click.call(this,a)},pointerdown:function(a){iq.mousedown.call(this,a)},pointermove:function(a){il(a)||iq.mousemove.call(this,a)},pointerup:function(a){iq.mouseup.call(this,a)},pointerout:function(a){il(a)||iq.mouseout.call(this,a)}};j(["click","dblclick","contextmenu"],function(a){iq[a]=function(b){b=gG(this.dom,b),this.trigger(a,b)}});var ir={pointermove:function(a){il(a)||ir.mousemove.call(this,a)},pointerup:function(a){ir.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var b=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function is(a,b,c,d){a.mounted[b]=c,a.listenerOpts[b]=d,gI(a.domTarget,b,c,d)}function it(a){var c=a.mounted;for(var b in c)c.hasOwnProperty(b)&&gJ(a.domTarget,b,c[b],a.listenerOpts[b]);a.mounted={}}var iu=function(a,b){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=a,this.domHandlers=b},iv=function(b){function a(c,e){var f,d,g,a=b.call(this)||this;return a.__pointerCapturing=!1,a.dom=c,a.painterRoot=e,a._localHandlerScope=new iu(c,iq),ih&&(a._globalHandlerScope=new iu(document,ir)),f=a,d=a._localHandlerScope,g=d.domHandlers,u.pointerEventsSupported?j(ii.pointer,function(a){is(d,a,function(b){g[a].call(f,b)})}):(u.touchEventsSupported&&j(ii.touch,function(a){is(d,a,function(c){var b;g[a].call(f,c),(b=d).touching=!0,null!=b.touchTimer&&(clearTimeout(b.touchTimer),b.touchTimer=null),b.touchTimer=setTimeout(function(){b.touching=!1,b.touchTimer=null},700)})}),j(ii.mouse,function(a){is(d,a,function(b){b=gF(b),d.touching||g[a].call(f,b)})})),a}return cp(a,b),a.prototype.dispose=function(){it(this._localHandlerScope),ih&&it(this._globalHandlerScope)},a.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},a.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,ih&& +this.__pointerCapturing^ +a){this.__pointerCapturing=a;var b=this._globalHandlerScope;a?function(a,b){u.pointerEventsSupported?j(ij.pointer,c):u.touchEventsSupported||j(ij.mouse,c);function c(c){is(b,c,function(d){if(d=gF(d),!io(a,d.target)){var e,f;d=(e=a,f=d,gG(e.dom,new ip(e,f),!0)),b.domHandlers[c].call(a,d)}},{capture:!0})}}(this,b):it(b)}},a}(n),a8=1;u.hasGlobalWindow&&(a8=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var iw=a8,ix="#333",iy="#ccc";function cJ(){return[1,0,0,1,0,0]}function cK(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function iz(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function iA(c,a,b){var d=a[0]*b[0]+a[2]*b[1],e=a[1]*b[0]+a[3]*b[1],f=a[0]*b[2]+a[2]*b[3],g=a[1]*b[2]+a[3]*b[3],h=a[0]*b[4]+a[2]*b[5]+a[4],i=a[1]*b[4]+a[3]*b[5]+a[5];return c[0]=d,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=i,c}function iB(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function iC(a,b,e){var f=b[0],g=b[2],h=b[4],i=b[1],j=b[3],k=b[5],c=Math.sin(e),d=Math.cos(e);return a[0]=f*d+i*c,a[1]=-f*c+i*d,a[2]=g*d+j*c,a[3]=-g*c+d*j,a[4]=d*h+c*k,a[5]=d*k-c*h,a}function iD(a,b,e){var c=e[0],d=e[1];return a[0]=b[0]*c,a[1]=b[1]*d,a[2]=b[2]*c,a[3]=b[3]*d,a[4]=b[4]*c,a[5]=b[5]*d,a}function iE(b,c){var d=c[0],e=c[2],h=c[4],f=c[1],g=c[3],i=c[5],a=d*g-f*e;return a?(a=1/a,b[0]=g*a,b[1]=-f*a,b[2]=-e*a,b[3]=d*a,b[4]=(e*i-g*h)*a,b[5]=(f*h-d*i)*a,b):null}var iF=cK;function iG(a){return a>5e-5||a< -0.00005}var iH=[],iI=[],iJ=cJ(),iK=Math.abs,cL=function(){var b;function a(){}return a.prototype.getLocalTransform=function(b){return a.getLocalTransform(this,b)},a.prototype.setPosition=function(a){this.x=a[0],this.y=a[1]},a.prototype.setScale=function(a){this.scaleX=a[0],this.scaleY=a[1]},a.prototype.setSkew=function(a){this.skewX=a[0],this.skewY=a[1]},a.prototype.setOrigin=function(a){this.originX=a[0],this.originY=a[1]},a.prototype.needLocalTransform=function(){return iG(this.rotation)||iG(this.x)||iG(this.y)||iG(this.scaleX-1)||iG(this.scaleY-1)||iG(this.skewX)||iG(this.skewY)},a.prototype.updateTransform=function(){var b=this.parent&&this.parent.transform,c=this.needLocalTransform(),a=this.transform;if(!(c||b)){a&&iF(a);return}a=a||cJ(),c?this.getLocalTransform(a):iF(a),b&&(c?iA(a,b,a):iz(a,b)),this.transform=a,this._resolveGlobalScaleRatio(a)},a.prototype._resolveGlobalScaleRatio=function(a){var b=this.globalScaleRatio;if(null!=b&&1!==b){this.getGlobalScale(iH);var c=iH[0]<0?-1:1,d=iH[1]<0?-1:1,e=((iH[0]-c)*b+c)/iH[0]||0,f=((iH[1]-d)*b+d)/iH[1]||0;a[0]*=e,a[1]*=e,a[2]*=f,a[3]*=f}this.invTransform=this.invTransform||cJ(),iE(this.invTransform,a)},a.prototype.getComputedTransform=function(){for(var a=this,b=[];a;)b.push(a),a=a.parent;for(;a=b.pop();)a.updateTransform();return this.transform},a.prototype.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=Math.atan2(a[1],a[0]),e=Math.PI/2+d-Math.atan2(a[3],a[2]);c=Math.sqrt(c)*Math.cos(e),b=Math.sqrt(b),this.skewX=e,this.skewY=0,this.rotation=-d,this.x=+a[4],this.y=+a[5],this.scaleX=b,this.scaleY=c,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(this.transform){var b=this.parent,a=this.transform;b&&b.transform&&(iA(iI,b.invTransform,a),a=iI);var c=this.originX,d=this.originY;(c||d)&&(iJ[4]=c,iJ[5]=d,iA(iI,a,iJ),iI[4]-=c,iI[5]-=d,a=iI),this.setLocalTransform(a)}},a.prototype.getGlobalScale=function(a){var b=this.transform;return(a=a||[],b)?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1]),a):(a[0]=1,a[1]=1,a)},a.prototype.transformCoordToLocal=function(c,d){var a=[c,d],b=this.invTransform;return b&&cC(a,a,b),a},a.prototype.transformCoordToGlobal=function(c,d){var a=[c,d],b=this.transform;return b&&cC(a,a,b),a},a.prototype.getLineScale=function(){var a=this.transform;return a&&iK(a[0]-1)>1e-10&&iK(a[3]-1)>1e-10?Math.sqrt(iK(a[0]*a[3]-a[2]*a[1])):1},a.prototype.copyTransform=function(a){iL(this,a)},a.getLocalTransform=function(b,a){a=a||[];var e=b.originX||0,f=b.originY||0,c=b.scaleX,d=b.scaleY,g=b.anchorX,h=b.anchorY,i=b.rotation||0,n=b.x,o=b.y,j=b.skewX?Math.tan(b.skewX):0,k=b.skewY?Math.tan(-b.skewY):0;if(e||f||g||h){var l=e+g,m=f+h;a[4]=-l*c-j*m*d,a[5]=-m*d-k*l*c}else a[4]=a[5]=0;return a[0]=c,a[3]=d,a[1]=k*c,a[2]=j*d,i&&iC(a,a,i),a[4]+=e+n,a[5]+=f+o,a},a.initDefaultProps=void((b=a.prototype).scaleX=b.scaleY=b.globalScaleRatio=1,b.x=b.y=b.originX=b.originY=b.skewX=b.skewY=b.rotation=b.anchorX=b.anchorY=0),a}(),O=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function iL(c,d){for(var a=0;a<O.length;a++){var b=O[a];c[b]=d[b]}}var ar=cL,k=function(){function a(a,b){this.x=a||0,this.y=b||0}return a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.equal=function(a){return a.x===this.x&&a.y===this.y},a.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},a.prototype.scale=function(a){this.x*=a,this.y*=a},a.prototype.scaleAndAdd=function(a,b){this.x+=a.x*b,this.y+=a.y*b},a.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},a.prototype.dot=function(a){return this.x*a.x+this.y*a.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var a=this.len();return this.x/=a,this.y/=a,this},a.prototype.distance=function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},a.prototype.distanceSquare=function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(a){if(a){var b=this.x,c=this.y;return this.x=a[0]*b+a[2]*c+a[4],this.y=a[1]*b+a[3]*c+a[5],this}},a.prototype.toArray=function(a){return a[0]=this.x,a[1]=this.y,a},a.prototype.fromArray=function(a){this.x=a[0],this.y=a[1]},a.set=function(a,b,c){a.x=b,a.y=c},a.copy=function(a,b){a.x=b.x,a.y=b.y},a.len=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},a.lenSquare=function(a){return a.x*a.x+a.y*a.y},a.dot=function(a,b){return a.x*b.x+a.y*b.y},a.add=function(a,b,c){a.x=b.x+c.x,a.y=b.y+c.y},a.sub=function(a,b,c){a.x=b.x-c.x,a.y=b.y-c.y},a.scale=function(a,b,c){a.x=b.x*c,a.y=b.y*c},a.scaleAndAdd=function(a,b,c,d){a.x=b.x+c.x*d,a.y=b.y+c.y*d},a.lerp=function(b,c,d,a){var e=1-a;b.x=e*c.x+a*d.x,b.y=e*c.y+a*d.y},a}(),iM=Math.min,iN=Math.max,iO=new k,iP=new k,iQ=new k,iR=new k,iS=new k,iT=new k,as=function(){function a(c,d,a,b){a<0&&(c+=a,a=-a),b<0&&(d+=b,b=-b),this.x=c,this.y=d,this.width=a,this.height=b}return a.prototype.union=function(a){var b=iM(a.x,this.x),c=iM(a.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=iN(a.x+a.width,this.x+this.width)-b:this.width=a.width,isFinite(this.y)&&isFinite(this.height)?this.height=iN(a.y+a.height,this.y+this.height)-c:this.height=a.height,this.x=b,this.y=c},a.prototype.applyTransform=function(b){a.applyTransform(this,this,b)},a.prototype.calculateTransform=function(b){var c=b.width/this.width,d=b.height/this.height,a=cJ();return iB(a,a,[-this.x,-this.y]),iD(a,a,[c,d]),iB(a,a,[b.x,b.y]),a},a.prototype.intersect=function(b,j){if(!b)return!1;b instanceof a||(b=a.create(b));var l=this.x,m=this.x+this.width,n=this.y,o=this.y+this.height,p=b.x,q=b.x+b.width,r=b.y,s=b.y+b.height,t=!(m<p||q<l||o<r||s<n);if(j){var h=1/0,i=0,d=Math.abs(m-p),e=Math.abs(q-l),f=Math.abs(o-r),g=Math.abs(s-n),c=Math.min(d,e),u=Math.min(f,g);m<p||q<l?c>i&&(i=c,d<e?k.set(iT,-d,0):k.set(iT,e,0)):c<h&&(h=c,d<e?k.set(iS,d,0):k.set(iS,-e,0)),o<r||s<n?u>i&&(i=u,f<g?k.set(iT,0,-f):k.set(iT,0,g)):c<h&&(h=c,f<g?k.set(iS,0,f):k.set(iS,0,-g))}return j&&k.copy(j,t?iS:iT),t},a.prototype.contain=function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(b){a.copy(this,b)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return 0===this.width||0===this.height},a.create=function(b){return new a(b.x,b.y,b.width,b.height)},a.copy=function(a,b){a.x=b.x,a.y=b.y,a.width=b.width,a.height=b.height},a.applyTransform=function(b,d,c){if(!c){b!==d&&a.copy(b,d);return}if(c[1]<1e-5&&c[1]> -0.00001&&c[2]<1e-5&&c[2]> -0.00001){var e=c[0],f=c[3],g=c[4],h=c[5];b.x=d.x*e+g,b.y=d.y*f+h,b.width=d.width*e,b.height=d.height*f,b.width<0&&(b.x+=b.width,b.width=-b.width),b.height<0&&(b.y+=b.height,b.height=-b.height);return}iO.x=iQ.x=d.x,iO.y=iR.y=d.y,iP.x=iR.x=d.x+d.width,iP.y=iQ.y=d.y+d.height,iO.transform(c),iR.transform(c),iP.transform(c),iQ.transform(c),b.x=iM(iO.x,iP.x,iQ.x,iR.x),b.y=iM(iO.y,iP.y,iQ.y,iR.y);var i=iN(iO.x,iP.x,iQ.x,iR.x),j=iN(iO.y,iP.y,iQ.y,iR.y);b.width=i-b.x,b.height=j-b.y},a}(),iU={};function iV(d,a){var b=iU[a=a||cr];b||(b=iU[a]=new Z(500));var c=b.get(d);return null==c&&(c=cs.measureText(d,a).width,b.put(d,c)),c}function iW(d,a,e,f){var b=iV(d,a),c=i$(a),g=iY(0,b,e),h=iZ(0,c,f);return new as(g,h,b,c)}function iX(h,d,e,f){var a=((h||"")+"").split("\n");if(1===a.length)return iW(a[0],d,e,f);for(var c=new as(0,0,0,0),b=0;b<a.length;b++){var g=iW(a[b],d,e,f);0===b?c.copy(g):c.union(g)}return c}function iY(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function iZ(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function i$(a){return iV("\u56FD",a)}function i_(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function i0(g,l,h){var k=l.position||"inside",a=null!=l.distance?l.distance:5,i=h.height,f=h.width,j=i/2,b=h.x,c=h.y,d="left",e="top";if(k instanceof Array)b+=i_(k[0],h.width),c+=i_(k[1],h.height),d=null,e=null;else switch(k){case"left":b-=a,c+=j,d="right",e="middle";break;case"right":b+=a+f,c+=j,e="middle";break;case"top":b+=f/2,c-=a,d="center",e="bottom";break;case"bottom":b+=f/2,c+=i+a,d="center";break;case"inside":b+=f/2,c+=j,d="center",e="middle";break;case"insideLeft":b+=a,c+=j,e="middle";break;case"insideRight":b+=f-a,c+=j,d="right",e="middle";break;case"insideTop":b+=f/2,c+=a,d="center";break;case"insideBottom":b+=f/2,c+=i-a,d="center",e="bottom";break;case"insideTopLeft":b+=a,c+=a;break;case"insideTopRight":b+=f-a,c+=a,d="right";break;case"insideBottomLeft":b+=a,c+=i-a,e="bottom";break;case"insideBottomRight":b+=f-a,c+=i-a,d="right",e="bottom"}return(g=g||{}).x=b,g.y=c,g.align=d,g.verticalAlign=e,g}var i1="__zr_normal__",i2=O.concat(["ignore"]),i3=ao(O,function(a,b){return a[b]=!0,a},{ignore:!1}),i4={},i5=new as(0,0,0,0),at=function(){function a(a){this.id=fM(),this.animators=[],this.currentStates=[],this.states={},this._init(a)}return a.prototype._init=function(a){this.attr(a)},a.prototype.drift=function(b,c,d){switch(this.draggable){case"horizontal":c=0;break;case"vertical":b=0}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=b,a[5]+=c,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(r){var g=this._textContent;if(g&&(!g.ignore||r)){this.textConfig||(this.textConfig={});var a=this.textConfig,i=a.local,b=g.innerTransformable,l=void 0,m=void 0,p=!1;b.parent=i?this:null;var q=!1;if(b.copyTransform(g),null!=a.position){var d=i5;a.layoutRect?d.copy(a.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(i4,a,d):i0(i4,a,d),b.x=i4.x,b.y=i4.y,l=i4.align,m=i4.verticalAlign;var j=a.origin;if(j&&null!=a.rotation){var n=void 0,o=void 0;"center"===j?(n=.5*d.width,o=.5*d.height):(n=i_(j[0],d.width),o=i_(j[1],d.height)),q=!0,b.originX=-b.x+n+(i?0:d.x),b.originY=-b.y+o+(i?0:d.y)}}null!=a.rotation&&(b.rotation=a.rotation);var h=a.offset;h&&(b.x+=h[0],b.y+=h[1],q||(b.originX=-h[0],b.originY=-h[1]));var s=null==a.inside?"string"==typeof a.position&&a.position.indexOf("inside")>=0:a.inside,e=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),c=void 0,f=void 0,k=void 0;s&&this.canBeInsideText()?(c=a.insideFill,f=a.insideStroke,(null==c||"auto"===c)&&(c=this.getInsideTextFill()),(null==f||"auto"===f)&&(f=this.getInsideTextStroke(c),k=!0)):(c=a.outsideFill,f=a.outsideStroke,(null==c||"auto"===c)&&(c=this.getOutsideFill()),(null==f||"auto"===f)&&(f=this.getOutsideStroke(c),k=!0)),((c=c||"#000")!==e.fill||f!==e.stroke||k!==e.autoStroke||l!==e.align||m!==e.verticalAlign)&&(p=!0,e.fill=c,e.stroke=f,e.autoStroke=k,e.align=l,e.verticalAlign=m,g.setDefaultTextStyle(e)),g.__dirty|=g1,p&&g.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(a){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?iy:ix},a.prototype.getOutsideStroke=function(f){var c=this.__zr&&this.__zr.getBackgroundColor(),a="string"==typeof c&&hI(c);a||(a=[255,255,255,1]);for(var d=a[3],e=this.__zr.isDarkMode(),b=0;b<3;b++)a[b]=a[b]*d+(e?0:255)*(1-d);return a[3]=1,hO(a,"rgba")},a.prototype.traverse=function(a,b){},a.prototype.attrKV=function(a,b){"textConfig"===a?this.setTextConfig(b):"textContent"===a?this.setTextContent(b):"clipPath"===a?this.setClipPath(b):"extra"===a?(this.extra=this.extra||{},fP(this.extra,b)):this[a]=b},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(a,e){if("string"==typeof a)this.attrKV(a,e);else if(aq(a))for(var c=ap(a),b=0;b<c.length;b++){var d=c[b];this.attrKV(d,a[d])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(f){this._innerSaveToNormal(f);for(var c=this._normalState,b=0;b<this.animators.length;b++){var a=this.animators[b],d=a.__fromStateTransition;if(!a.getLoop()&&(!d||d===i1)){var e=a.targetName,g=e?c[e]:c;a.saveTo(g)}}},a.prototype._innerSaveToNormal=function(b){var a=this._normalState;a||(a=this._normalState={}),b.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(b,a,i2)},a.prototype._savePrimaryToNormal=function(e,c,d){for(var b=0;b<d.length;b++){var a=d[b];null==e[a]||a in c||(c[a]=this[a])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(a){return this.states[a]},a.prototype.ensureState=function(a){var b=this.states;return b[a]||(b[a]={}),b[a]},a.prototype.clearStates=function(a){this.useState(i1,!1,a)},a.prototype.useState=function(a,c,f,k){var b,d=a===i1;if(this.hasState()||!d){var h=this.currentStates,g=this.stateTransition;if(!(fQ(h,a)>=0)|| !c&&1!==h.length){if(this.stateProxy&&!d&&(b=this.stateProxy(a)),b||(b=this.states&&this.states[a]),!b&&!d){fN("State "+a+" not exists.");return}d||this.saveCurrentToNormalState(b);var e=!!(b&&b.hoverLayer||k);e&&this._toggleHoverLayerFlag(!0),this._applyStateObj(a,b,this._normalState,c,!f&&!this.__inHover&&g&&g.duration>0,g);var i=this._textContent,j=this._textGuide;return i&&i.useState(a,c,f,e),j&&j.useState(a,c,f,e),d?(this.currentStates=[],this._normalState={}):c?this.currentStates.push(a):this.currentStates=[a],this._updateAnimationTargets(),this.markRedraw(),!e&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~g1),b}}},a.prototype.useStates=function(a,f,p){if(a.length){var g=[],j=this.currentStates,d=a.length,h=d===j.length;if(h){for(var b=0;b<d;b++)if(a[b]!==j[b]){h=!1;break}}if(!h){for(var b=0;b<d;b++){var k=a[b],c=void 0;this.stateProxy&&(c=this.stateProxy(k,a)),c||(c=this.states[k]),c&&g.push(c)}var l=g[d-1],e=!!(l&&l.hoverLayer||p);e&&this._toggleHoverLayerFlag(!0);var m=this._mergeStates(g),i=this.stateTransition;this.saveCurrentToNormalState(m),this._applyStateObj(a.join(","),m,this._normalState,!1,!f&&!this.__inHover&&i&&i.duration>0,i);var n=this._textContent,o=this._textGuide;n&&n.useStates(a,f,e),o&&o.useStates(a,f,e),this._updateAnimationTargets(),this.currentStates=a.slice(),this.markRedraw(),!e&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~g1)}}else this.clearStates()},a.prototype._updateAnimationTargets=function(){for(var a=0;a<this.animators.length;a++){var b=this.animators[a];b.targetName&&b.changeTarget(this[b.targetName])}},a.prototype.removeState=function(c){var a=fQ(this.currentStates,c);if(a>=0){var b=this.currentStates.slice();b.splice(a,1),this.useStates(b)}},a.prototype.replaceState=function(e,b,f){var a=this.currentStates.slice(),c=fQ(a,e),d=fQ(a,b)>=0;c>=0?d?a.splice(c,1):a[c]=b:f&&!d&&a.push(b),this.useStates(a)},a.prototype.toggleState=function(a,b){b?this.useState(a,!0):this.removeState(a)},a.prototype._mergeStates=function(e){for(var a,b={},c=0;c<e.length;c++){var d=e[c];fP(b,d),d.textConfig&&fP(a=a||{},d.textConfig)}return a&&(b.textConfig=a),b},a.prototype._applyStateObj=function(m,b,c,h,i,n){var j=!(b&&h);b&&b.textConfig?(this.textConfig=fP({},h?this.textConfig:c.textConfig),fP(this.textConfig,b.textConfig)):j&&c.textConfig&&(this.textConfig=c.textConfig);for(var e={},f=!1,d=0;d<i2.length;d++){var a=i2[d],k=i&&i3[a];b&&null!=b[a]?k?(f=!0,e[a]=b[a]):this[a]=b[a]:j&&null!=c[a]&&(k?(f=!0,e[a]=c[a]):this[a]=c[a])}if(!i)for(var d=0;d<this.animators.length;d++){var g=this.animators[d],l=g.targetName;g.getLoop()||g.__changeFinalValue(l?(b||c)[l]:b||c)}f&&this._transitionState(m,e,n)},a.prototype._attachComponent=function(a){if((!a.__zr||a.__hostTarget)&&a!==this){var b=this.__zr;b&&a.addSelfToZr(b),a.__zr=b,a.__hostTarget=this}},a.prototype._detachComponent=function(a){a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(a){this._clipPath&&this._clipPath!==a&&this.removeClipPath(),this._attachComponent(a),this._clipPath=a,this.markRedraw()},a.prototype.removeClipPath=function(){var a=this._clipPath;a&&(this._detachComponent(a),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(a){var b=this._textContent;b!==a&&(b&&b!==a&&this.removeTextContent(),a.innerTransformable=new ar,this._attachComponent(a),this._textContent=a,this.markRedraw())},a.prototype.setTextConfig=function(a){this.textConfig||(this.textConfig={}),fP(this.textConfig,a),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var a=this._textContent;a&&(a.innerTransformable=null,this._detachComponent(a),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(a){this._textGuide&&this._textGuide!==a&&this.removeTextGuideLine(),this._attachComponent(a),this._textGuide=a,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var a=this._textGuide;a&&(this._detachComponent(a),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=g1;var a=this.__zr;a&&(this.__inHover?a.refreshHover():a.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(a){this.__inHover=a;var b=this._textContent,c=this._textGuide;b&&(b.__inHover=a),c&&(c.__inHover=a)},a.prototype.addSelfToZr=function(a){if(this.__zr!==a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this._clipPath&&this._clipPath.addSelfToZr(a),this._textContent&&this._textContent.addSelfToZr(a),this._textGuide&&this._textGuide.addSelfToZr(a)}},a.prototype.removeSelfFromZr=function(a){if(this.__zr){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this._clipPath&&this._clipPath.removeSelfFromZr(a),this._textContent&&this._textContent.removeSelfFromZr(a),this._textGuide&&this._textGuide.removeSelfFromZr(a)}},a.prototype.animate=function(a,c,d){var e=a?this[a]:this,b=new id(e,c,d);return a&&(b.targetName=a),this.addAnimator(b,a),b},a.prototype.addAnimator=function(b,c){var a=this.__zr,d=this;b.during(function(){d.updateDuringAnimation(c)}).done(function(){var a=d.animators,c=fQ(a,b);c>=0&&a.splice(c,1)}),this.animators.push(b),a&&a.animation.addAnimator(b),a&&a.wakeUp()},a.prototype.updateDuringAnimation=function(a){this.markRedraw()},a.prototype.stopAnimation=function(c,f){for(var d=this.animators,g=d.length,e=[],a=0;a<g;a++){var b=d[a];c&&c!==b.scope?e.push(b):b.stop(f)}return this.animators=e,this},a.prototype.animateTo=function(a,b,c){i6(this,a,b,c)},a.prototype.animateFrom=function(a,b,c){i6(this,a,b,c,!0)},a.prototype._transitionState=function(c,d,e,f){for(var b=i6(this,d,e,f),a=0;a<b.length;a++)b[a].__fromStateTransition=c},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var b=a.prototype;b.type="element",b.name="",b.ignore=b.silent=b.isGroup=b.draggable=b.dragging=b.ignoreClip=b.__inHover=!1,b.__dirty=g1;function c(a,c,d,e){Object.defineProperty(b,a,{get:function(){return!this[c]&&f(this,this[c]=[]),this[c]},set:function(a){this[d]=a[0],this[e]=a[1],this[c]=a,f(this,a)}});function f(b,a){Object.defineProperty(a,0,{get:function(){return b[d]},set:function(a){b[d]=a}}),Object.defineProperty(a,1,{get:function(){return b[e]},set:function(a){b[e]=a}})}}Object.defineProperty&&(c("position","_legacyPos","x","y"),c("scale","_legacyScale","scaleX","scaleY"),c("origin","_legacyOrigin","originX","originY"))}(),a}();function i6(e,i,a,j,k){var b=[];i9(e,"",e,i,a=a||{},j,b,k);var l=b.length,m=!1,f=a.done,n=a.aborted,g=function(){m=!0,--l<=0&&(m?f&&f():n&&n())},h=function(){--l<=0&&(m?f&&f():n&&n())};!l&&f&&f(),b.length>0&&a.during&&b[0].during(function(c,b){a.during(b)});for(var d=0;d<b.length;d++){var c=b[d];g&&c.done(g),h&&c.aborted(h),a.force&&c.duration(a.duration),c.start(a.easing)}return b}function i7(b,c,d){for(var a=0;a<d;a++)b[a]=c[a]}function i8(b,c,a){if(fR(c[a])){if(fR(b[a])||(b[a]=[]),fX(c[a])){var g=c[a].length;b[a].length!==g&&(b[a]=new c[a].constructor(g),i7(b[a],c[a],g))}else{var i,d=c[a],f=b[a],h=d.length;if(fR((i=d)[0]))for(var j=d[0].length,e=0;e<h;e++)f[e]?i7(f[e],d[e],j):f[e]=Array.prototype.slice.call(d[e]);else i7(f,d,h);f.length=d.length}}else b[a]=c[a]}h(at,n),h(at,ar);function i9(j,h,e,i,f,n,r,k){for(var u=ap(i),v=f.duration,x=f.delay,w=f.additive,o=f.setToFinal,y=!aq(n),l=j.animators,b=[],s=0;s<u.length;s++){var a=u[s],g=i[a];if(null!=g&&null!=e[a]&&(y||n[a])){if(!aq(g)||fR(g)||fZ(g))b.push(a);else{if(h){k||(e[a]=g,j.updateDuringAnimation(h));continue}i9(j,a,e[a],g,f,n&&n[a],r,k)}}else k||(e[a]=g,j.updateDuringAnimation(h),b.push(a))}var m=b.length;if(!w&&m)for(var c=0;c<l.length;c++){var d=l[c];if(d.targetName===h&&d.stopTracks(b)){var z=fQ(l,d);l.splice(z,1)}}if(f.force||(m=(b=fS(b,function(c){var a,b;return a=i[c],b=e[c],!(a===b||fR(a)&&fR(b)&&function e(b,c){var d=b.length;if(d!==c.length)return!1;for(var a=0;a<d;a++)if(b[a]!==c[a])return!1;return!0}(a,b))})).length),m>0||f.force&&!r.length){var p=void 0,t=void 0,q=void 0;if(k){t={},o&&(p={});for(var c=0;c<m;c++){var a=b[c];t[a]=e[a],o?p[a]=i[a]:e[a]=i[a]}}else if(o){q={};for(var c=0;c<m;c++){var a=b[c];q[a]=h7(e[a]),i8(e,i,a)}}var d=new id(e,!1,!1,w?fS(l,function(a){return a.targetName===h}):null);d.targetName=h,f.scope&&(d.scope=f.scope),o&&p&&d.whenWithKeys(0,p,b),q&&d.whenWithKeys(0,q,b),d.whenWithKeys(null==v?500:v,k?t:i,b).delay(x||0),j.addAnimator(d,h),r.push(d)}}var a9=at,ba=function(b){function a(c){var a=b.call(this)||this;return a.isGroup=!0,a._children=[],a.attr(c),a}return cp(a,b),a.prototype.childrenRef=function(){return this._children},a.prototype.children=function(){return this._children.slice()},a.prototype.childAt=function(a){return this._children[a]},a.prototype.childOfName=function(c){for(var b=this._children,a=0;a<b.length;a++)if(b[a].name===c)return b[a]},a.prototype.childCount=function(){return this._children.length},a.prototype.add=function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},a.prototype.addBefore=function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},a.prototype.replace=function(b,c){var a=fQ(this._children,b);return a>=0&&this.replaceAt(c,a),this},a.prototype.replaceAt=function(a,c){var d=this._children,b=d[c];if(a&&a!==this&&a.parent!==this&&a!==b){d[c]=a,b.parent=null;var e=this.__zr;e&&b.removeSelfFromZr(e),this._doAdd(a)}return this},a.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__zr;b&&b!==a.__zr&&a.addSelfToZr(b),b&&b.refresh()},a.prototype.remove=function(b){var a=this.__zr,c=this._children,d=fQ(c,b);return d<0||(c.splice(d,1),b.parent=null,a&&b.removeSelfFromZr(a),a&&a.refresh()),this},a.prototype.removeAll=function(){for(var a=this._children,c=this.__zr,b=0;b<a.length;b++){var d=a[b];c&&d.removeSelfFromZr(c),d.parent=null}return a.length=0,this},a.prototype.eachChild=function(c,d){for(var b=this._children,a=0;a<b.length;a++){var e=b[a];c.call(d,e,a)}return this},a.prototype.traverse=function(c,d){for(var a=0;a<this._children.length;a++){var b=this._children[a],e=c.call(d,b);b.isGroup&&!e&&b.traverse(c,d)}return this},a.prototype.addSelfToZr=function(c){b.prototype.addSelfToZr.call(this,c);for(var a=0;a<this._children.length;a++)this._children[a].addSelfToZr(c)},a.prototype.removeSelfFromZr=function(c){b.prototype.removeSelfFromZr.call(this,c);for(var a=0;a<this._children.length;a++)this._children[a].removeSelfFromZr(c)},a.prototype.getBoundingRect=function(h){for(var b=new as(0,0,0,0),f=h||this._children,i=[],a=null,d=0;d<f.length;d++){var c=f[d];if(!c.ignore&&!c.invisible){var e=c.getBoundingRect(),g=c.getLocalTransform(i);g?(as.applyTransform(b,e,g),(a=a||b.clone()).union(b)):(a=a||e.clone()).union(e)}}return a||b},a}(a9);ba.prototype.type="group";var t=ba,ja={},jb={},jc=function(){function a(f,g,a){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,a=a||{},this.dom=g,this.id=f;var c=new g5,d=a.renderer||"canvas";ja[d]||(d=ap(ja)[0]),a.useDirtyRect=null!=a.useDirtyRect&&a.useDirtyRect;var b=new ja[d](g,c,a,f),e=a.ssr||b.ssrOnly;this.storage=c,this.painter=b;var h=u.node||u.worker||e?null:new iv(b.getViewportRoot(),b.root);this.handler=new gW(c,b,h,b.root),this.animation=new ig({stage:{update:e?null:function(){return i._flush(!0)}}}),e||this.animation.start()}return a.prototype.add=function(a){a&&(this.storage.addRoot(a),a.addSelfToZr(this),this.refresh())},a.prototype.remove=function(a){a&&(this.storage.delRoot(a),a.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b),this.refresh()},a.prototype.setBackgroundColor=function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this.refresh(),this._backgroundColor=a,this._darkMode=function(a){if(!a)return!1;if("string"==typeof a)return .4>hP(a,1);if(a.colorStops){for(var c=a.colorStops,d=0,e=c.length,b=0;b<e;b++)d+=hP(c[b].color,1);return(d/=e)<.4}return!1}(a)},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(a){this._darkMode=a},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(a){a||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},a.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},a.prototype.flush=function(){this._flush(!1)},a.prototype._flush=function(b){var a,c=ie();this._needsRefresh&&(a=!0,this.refreshImmediately(b)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var d=ie();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:d-c})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(a){this._sleepAfterStill=a},a.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},a.prototype.resize=function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},a.prototype.clearAnimation=function(){this.animation.clear()},a.prototype.getWidth=function(){return this.painter.getWidth()},a.prototype.getHeight=function(){return this.painter.getHeight()},a.prototype.setCursorStyle=function(a){this.handler.setCursorStyle(a)},a.prototype.findHover=function(a,b){return this.handler.findHover(a,b)},a.prototype.on=function(a,b,c){return this.handler.on(a,b,c),this},a.prototype.off=function(a,b){this.handler.off(a,b)},a.prototype.trigger=function(a,b){this.handler.trigger(a,b)},a.prototype.clear=function(){for(var b=this.storage.getRoots(),a=0;a<b.length;a++)b[a]instanceof t&&b[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},a.prototype.dispose=function(){var a;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete jb[a=this.id]},a}();function jd(b,c){var a=new jc(fM(),b,c);return jb[a.id]=a,a}function bb(a,g,h,j){var c=g[0],e=g[1],b=h[0],d=h[1],f=e-c,i=d-b;if(0===f)return 0===i?b:(b+d)/2;if(j){if(f>0){if(a<=c)return b;if(a>=e)return d}else{if(a>=c)return b;if(a<=e)return d}}else{if(a===c)return b;if(a===e)return d}return(a-c)/f*i+b}function je(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}if(fT(a)){var c;return(c=a).replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a)}return null==a?NaN:+a}function au(b,a,c){return null==a&&(a=10),a=Math.min(Math.max(0,a),20),b=(+b).toFixed(a),c?b:+b}function bc(a){return a.sort(function(a,b){return a-b}),a}function jf(a){if(isNaN(a=+a))return 0;if(a>1e-14){for(var b=1,c=0;c<15;c++,b*=10)if(Math.round(a*b)/b===a)return c}return jg(a)}function jg(d){var a=d.toString().toLowerCase(),b=a.indexOf("e"),e=b>0?+a.slice(b+1):0,f=b>0?b:a.length,c=a.indexOf(".");return Math.max(0,(c<0?0:f-1-c)-e)}function jh(a,b){var c=Math.log,d=Math.LN10,f=Math.floor(c(a[1]-a[0])/d),g=Math.round(c(Math.abs(b[1]-b[0]))/d),e=Math.min(Math.max(-f+g,0),20);return isFinite(e)?e:20}function ji(a,b){var c=Math.max(jf(a),jf(b)),d=a+b;return c>20?d:au(d,c)}function jj(b){var a=2*Math.PI;return(b%a+a)%a}function jk(a){return a> -0.0001&&a<1e-4}var jl=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function jm(b){if(b instanceof Date)return b;if(fT(b)){var a=jl.exec(b);if(!a)return new Date(NaN);if(!a[8])return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,a[7]?+a[7].substring(0,3):0);var c=+a[4]||0;return"Z"!==a[8].toUpperCase()&&(c-=+a[8].slice(0,3)),new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,c,+(a[5]||0),+a[6]||0,a[7]?+a[7].substring(0,3):0))}return null==b?new Date(NaN):new Date(Math.round(b))}function jn(a){if(0===a)return 0;var b=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,b)>=10&&b++,b}function jo(b,e){var f,c=jn(b),d=Math.pow(10,c),a=b/d;return b=(e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*d,c>= -20?+b.toFixed(c<0?-c:0):b}function jp(a,f){var d=(a.length-1)*f+1,b=Math.floor(d),c=+a[b-1],e=d-b;return e?c+e*(a[b]-c):c}function jq(b){b.sort(function(a,b){return h(a,b,0)?-1:1});for(var f=-1/0,g=1,c=0;c<b.length;){for(var d=b[c].interval,e=b[c].close,a=0;a<2;a++)d[a]<=f&&(d[a]=f,e[a]=a?1:1-g),f=d[a],g=e[a];d[0]===d[1]&&e[0]*e[1]!=1?b.splice(c,1):c++}return b;function h(b,c,a){return b.interval[a]<c.interval[a]||b.interval[a]===c.interval[a]&&(b.close[a]-c.close[a]==(a?-1:1)|| !a&&h(b,c,1))}}function jr(a){var b=parseFloat(a);return b==a&&(0!==b||!fT(a)||0>=a.indexOf("x"))?b:NaN}function js(a){return!isNaN(jr(a))}function cM(){return Math.round(9*Math.random())}function jt(b,a){return 0===a?b:jt(a,b%a)}function ju(a,b){return null==a?b:null==b?a:a*b/jt(a,b)}var jv="series\0",cN="\0_ec_\0";function jw(a){return a instanceof Array?a:null==a?[]:[a]}function jx(a,b,e){if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(var d=0,f=e.length;d<f;d++){var c=e[d];!a.emphasis[b].hasOwnProperty(c)&&a[b].hasOwnProperty(c)&&(a.emphasis[b][c]=a[b][c])}}}var jy=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function jz(a){return!aq(a)||cv(a)||a instanceof Date?a:a.value}function jA(a){return aq(a)&&!(a instanceof Array)}function jB(c,a,d){var e="normalMerge"===d,f="replaceMerge"===d;c=c||[],a=(a||[]).slice();var g=s();j(a,function(b,c){if(!aq(b)){a[c]=null;return}});var b=jC(c,g,d);return(e||f)&&jD(b,c,g,a),e&&jE(b,a),e||f?jF(b,a,f):"replaceAll"===d&&jG(b,a),jH(b),b}function jC(d,f,e){var c=[];if("replaceAll"===e)return c;for(var b=0;b<d.length;b++){var a=d[b];a&&null!=a.id&&f.set(a.id,b),c.push({existing:"replaceMerge"===e||jM(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return c}function jD(b,c,d,a){j(a,function(e,i){if(e&&null!=e.id){var h=jJ(e.id),f=d.get(h);if(null!=f){var g=b[f];f1(!g.newOption,'Duplicated option on id "'+h+'".'),g.newOption=e,g.existing=c[f],a[i]=null}}})}function jE(b,a){j(a,function(c,f){if(c&&null!=c.name)for(var d=0;d<b.length;d++){var e=b[d].existing;if(!b[d].newOption&&e&&(null==e.id||null==c.id)&&!jM(c)&&!jM(e)&&jI("name",e,c)){b[d].newOption=c,a[f]=null;return}}})}function jF(b,a,c){j(a,function(d){if(d){for(var a,e=0;(a=b[e])&&(a.newOption||jM(a.existing)||a.existing&&null!=d.id&&!jI("id",d,a.existing));)e++;a?(a.newOption=d,a.brandNew=c):b.push({newOption:d,brandNew:c,existing:null,keyInfo:null}),e++}})}function jG(b,a){j(a,function(a){b.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})}function jH(a){var b=s();j(a,function(a){var c=a.existing;c&&b.set(c.id,a)}),j(a,function(c){var a=c.newOption;f1(!a||null==a.id||!b.get(a.id)||b.get(a.id)===c,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&b.set(a.id,c),c.keyInfo||(c.keyInfo={})}),j(a,function(d,f){var e=d.existing,c=d.newOption,a=d.keyInfo;if(aq(c)){if(a.name=null!=c.name?jJ(c.name):e?e.name:jv+f,e)a.id=jJ(e.id);else if(null!=c.id)a.id=jJ(c.id);else{var g=0;do a.id="\0"+a.name+"\0"+g++;while(b.get(a.id))}b.set(a.id,d)}})}function jI(a,d,e){var b=jK(d[a],null),c=jK(e[a],null);return null!=b&&null!=c&&b===c}function jJ(a){return jK(a,"")}function jK(a,b){return null==a?b:fT(a)?a:fV(a)||fU(a)?a+"":b}function jL(b){var a=b.name;return!!(a&&a.indexOf(jv))}function jM(a){return a&&null!=a.id&&0===jJ(a.id).indexOf(cN)}function jN(b,a){return null!=a.dataIndexInside?a.dataIndexInside:null!=a.dataIndex?cv(a.dataIndex)?Y(a.dataIndex,function(a){return b.indexOfRawIndex(a)}):b.indexOfRawIndex(a.dataIndex):null!=a.name?cv(a.name)?Y(a.name,function(a){return b.indexOfName(a)}):b.indexOfName(a.name):void 0}function a(){var a="__ec_inner_"+jO++;return function(b){return b[a]||(b[a]={})}}var jO=cM();function jP(i,e,a){var b=jQ(e,a),f=b.mainTypeSpecified,c=b.queryOptionMap,g=b.others,h=g,d=a?a.defaultMainType:null;return!f&&d&&c.set(d,{}),c.each(function(e,b){var c=jT(i,b,e,{useDefault:d===b,enableAll:!a||null==a.enableAll||a.enableAll,enableNone:!a||null==a.enableNone||a.enableNone});h[b+"Models"]=c.models,h[b+"Model"]=c.models[0]}),h}function jQ(a,g){if(fT(a)){var b,c={};c[a+"Index"]=0,b=c}else b=a;var d=s(),e={},f=!1;return j(b,function(c,b){if("dataIndex"===b||"dataIndexInside"===b){e[b]=c;return}var h=b.match(/^(\w+)(Index|Id|Name)$/)||[],a=h[1],i=(h[2]||"").toLowerCase();!(!a||!i||g&&g.includeMainTypes&&0>fQ(g.includeMainTypes,a))&&(f=f||!!a,(d.get(a)||d.set(a,{}))[i]=c)}),{mainTypeSpecified:f,queryOptionMap:d,others:e}}var jR={useDefault:!0,enableAll:!1,enableNone:!1},jS={useDefault:!1,enableAll:!0,enableNone:!0};function jT(g,h,d,c){c=c||jR;var b=d.index,e=d.id,f=d.name,a={models:null,specified:null!=b||null!=e||null!=f};if(!a.specified){var i=void 0;return a.models=c.useDefault&&(i=g.getComponent(h))?[i]:[],a}return"none"===b|| !1===b?(f1(c.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):("all"===b&&(f1(c.enableAll,'`"all"` is not a valid value on index option.'),b=e=f=null),a.models=g.queryComponents({mainType:h,index:b,id:e,name:f}),a)}function jU(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function jV(a,d){var b=s(),c=[];return j(a,function(e){var a=d(e);(b.get(a)||(c.push(a),b.set(a,[]))).push(e)}),{keys:c,buckets:b}}function jW(r,d,e,b,f){var l=null==d||"auto"===d;if(null==b)return b;if(fV(b)){var g,m,s,h=(g=e||0,m=b,(m-g)*(s=f)+g);return au(h,l?Math.max(jf(e||0),jf(b)):d)}if(fT(b))return f<1?e:b;for(var i=[],c=e,j=b,t=Math.max(c?c.length:0,j.length),a=0;a<t;++a){var n=r.getDimensionInfo(a);if(n&&"ordinal"===n.type)i[a]=(f<1&&c?c:j)[a];else{var k,o,u,p=c&&c[a]?c[a]:0,q=j[a],h=(k=p,o=q,(o-k)*(u=f)+k);i[a]=au(h,l?Math.max(jf(p),jf(q)):d)}}return i}var jX="___EC__COMPONENT__CONTAINER___",jY="___EC__EXTENDED_CLASS___";function jZ(b){var a={main:"",sub:""};if(b){var c=b.split(".");a.main=c[0]||"",a.sub=c[1]||""}return a}function av(a,b){a.$constructor=a,a.extend=function(c){var a,b=this;return j$(b)?a=function(b){function a(){return b.apply(this,arguments)||this}return cp(a,b),a}(b):function(a,d){var b=a.prototype;function e(){}for(var c in e.prototype=d.prototype,a.prototype=new e,b)b.hasOwnProperty(c)&&(a.prototype[c]=b[c]);a.prototype.constructor=a,a.superClass=d}(a=function(){(c.$constructor||b).apply(this,arguments)},this),fP(a.prototype,c),a[jY]=!0,a.extend=this.extend,a.superCall=j_,a.superApply=j0,a.superClass=b,a}}function j$(a){return cw(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function bd(a,b){a.extend=b.extend}var cO=Math.round(10*Math.random());function j_(c,d){for(var b=[],a=2;a<arguments.length;a++)b[a-2]=arguments[a];return this.superClass.prototype[d].apply(c,b)}function j0(a,b,c){return this.superClass.prototype[b].apply(a,c)}function $(a){var b={};a.registerClass=function(a){var e=a.type||a.prototype.type;if(e){g=e,f1(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal'),a.prototype.type=e;var f,c,g,d=jZ(e);if(d.sub){if(d.sub!==jX){(f=d,c=b[f.main],c&&c[jX]||((c=b[f.main]={})[jX]=!0),c)[d.sub]=a}}else b[d.main]=a}return a},a.getClass=function(d,c,e){var a=b[d];if(a&&a[jX]&&(a=c?a[c]:null),e&&!a)throw Error(c?"Component "+d+"."+(c||"")+" is used but not imported.":d+".type should be specified.");return a},a.getClassesByMainType=function(d){var e=jZ(d),c=[],a=b[e.main];return a&&a[jX]?j(a,function(a,b){b!==jX&&c.push(a)}):c.push(a),c},a.hasClass=function(a){return!!b[jZ(a).main]},a.getAllClassMainTypes=function(){var a=[];return j(b,function(c,b){a.push(b)}),a},a.hasSubTypes=function(c){var a=b[jZ(c).main];return a&&a[jX]}}function I(b,c){for(var a=0;a<b.length;a++)b[a][1]||(b[a][1]=b[a][0]);return c=c||!1,function(i,e,f){for(var g={},a=0;a<b.length;a++){var d=b[a][1];if(!(e&&fQ(e,d)>=0||f&&0>fQ(f,d))){var h=i.getShallow(d,c);null!=h&&(g[b[a][0]]=h)}}return g}}var j1=I([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),cP=function(){function a(){}return a.prototype.getAreaStyle=function(a,b){return j1(this,a,b)},a}(),j2=new Z(50);function j3(a){if("string"!=typeof a)return a;var b=j2.get(a);return b&&b.image}function j4(b,a,d,f,g){if(!b)return a;if("string"!=typeof b)return b;if(a&&a.__zrImageSrc===b||!d)return a;var c=j2.get(b),e={hostEl:d,cb:f,cbPayload:g};return c?j6(a=c.image)||c.pending.push(e):((a=cs.loadImage(b,j5,j5)).__zrImageSrc=b,j2.put(b,a.__cachedImgObj={image:a,pending:[e]})),a}function j5(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload),c.hostEl.dirty()}a.pending.length=0}function j6(a){return a&&a.width&&a.height}var j7=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function j8(e,d,f,g,c){if(!d)return"";var a=(e+"").split("\n");c=j9(d,f,g,c);for(var b=0,h=a.length;b<h;b++)a[b]=ka(a[b],c);return a.join("\n")}function j9(e,f,c,b){b=b||{};var a=fP({},b);a.font=f,c=f$(c,"..."),a.maxIterations=f$(b.maxIterations,2);var j=a.minChar=f$(b.minChar,0);a.cnCharWidth=iV("\u56FD",f);var h=a.ascCharWidth=iV("a",f);a.placeholder=f$(b.placeholder,"");for(var d=e=Math.max(0,e-1),i=0;i<j&&d>=h;i++)d-=h;var g=iV(c,f);return g>d&&(c="",g=0),d=e-g,a.ellipsis=c,a.ellipsisWidth=g,a.contentWidth=d,a.containerWidth=e,a}function ka(a,b){var f=b.containerWidth,g=b.font,d=b.contentWidth;if(!f)return"";var c=iV(a,g);if(c<=f)return a;for(var e=0;;e++){if(c<=d||e>=b.maxIterations){a+=b.ellipsis;break}var h=0===e?kb(a,d,b.ascCharWidth,b.cnCharWidth):c>0?Math.floor(a.length*d/c):0;a=a.substr(0,h),c=iV(a,g)}return""===a&&(a=b.placeholder),a}function kb(b,e,f,g){for(var c=0,a=0,h=b.length;a<h&&c<e;a++){var d=b.charCodeAt(a);c+=0<=d&&d<=127?f:g}return a}var kc=function(){},kd=function(a){this.tokens=[],a&&(this.tokens=a)},ke=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function kf(u,g,n,a,j){var d,k,o=""===g,c=j&&n.rich[j]||{},e=u.lines,p=c.font||n.font,q=!1;if(a){var l=c.padding,r=l?l[1]+l[3]:0;if(null!=c.width&&"auto"!==c.width){var s=i_(c.width,a.width)+r;e.length>0&&s+a.accumWidth>a.width&&(d=g.split("\n"),q=!0),a.accumWidth=s}else{var m=ki(g,p,a.width,a.breakAll,a.accumWidth);a.accumWidth=m.accumWidth+r,k=m.linesWidths,d=m.lines}}else d=g.split("\n");for(var f=0;f<d.length;f++){var h=d[f],b=new kc;if(b.styleName=j,b.text=h,b.isLineHolder=!h&&!o,"number"==typeof c.width?b.width=c.width:b.width=k?k[f]:iV(h,p),f||q)e.push(new kd([b]));else{var i=(e[e.length-1]||(e[0]=new kd)).tokens,t=i.length;1===t&&i[0].isLineHolder?i[0]=b:(h||!t||o)&&i.push(b)}}}var kg=ao(",&?/;] ".split(""),function(a,b){return a[b]=!0,a},{});function kh(a){var c,b;return!((b=(c=a).charCodeAt(0))>=33)||!(b<=383)||!!kg[a]}function ki(i,n,l,o,m){for(var e=[],h=[],b="",a="",d=0,c=0,j=0;j<i.length;j++){var f=i.charAt(j);if("\n"===f){a&&(b+=a,c+=d),e.push(b),h.push(c),b="",a="",d=0,c=0;continue}var g=iV(f,n),k=!o&&!kh(f);if(e.length?c+g>l:m+c+g>l){c?(b||a)&&(k?(b||(b=a,a="",c=d=0),e.push(b),h.push(c-d),a+=f,d+=g,b="",c=d):(a&&(b+=a,a="",d=0),e.push(b),h.push(c),b=f,c=g)):k?(e.push(a),h.push(d),a=f,d=g):(e.push(f),h.push(g));continue}c+=g,k?(a+=f,d+=g):(a&&(b+=a,a="",d=0),b+=f)}return e.length||b||(b=i,a="",d=0),a&&(b+=a),b&&(e.push(b),h.push(c)),1===e.length&&(c+=m),{accumWidth:c,lines:e,linesWidths:h}}var cQ="__zr_style_"+Math.round(10*Math.random()),aw={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},ax={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};aw[cQ]=!0;var kj=["z","z2","invisible"],kk=["invisible"],cR=function(c){var b;function a(a){return c.call(this,a)||this}return cp(a,c),a.prototype._init=function(b){for(var e=ap(b),d=0;d<e.length;d++){var a=e[d];"style"===a?this.useStyle(b[a]):c.prototype.attrKV.call(this,a,b[a])}this.style||this.useStyle({})},a.prototype.beforeBrush=function(){},a.prototype.afterBrush=function(){},a.prototype.innerBeforeBrush=function(){},a.prototype.innerAfterBrush=function(){},a.prototype.shouldBePainted=function(d,e,f,g){var b=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&kn(this,d,e)||b&&!b[0]&&!b[3])return!1;if(f&&this.__clipPaths){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(g&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},a.prototype.contain=function(a,b){return this.rectContain(a,b)},a.prototype.traverse=function(a,b){a.call(b,this)},a.prototype.rectContain=function(b,c){var a=this.transformCoordToLocal(b,c);return this.getBoundingRect().contain(a[0],a[1])},a.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var g=this.transform,h=this.getBoundingRect(),d=this.style,b=d.shadowBlur||0,e=d.shadowOffsetX||0,f=d.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new as(0,0,0,0)),g?as.applyTransform(a,h,g):a.copy(h),(b||e||f)&&(a.width+=2*b+Math.abs(e),a.height+=2*b+Math.abs(f),a.x=Math.min(a.x,a.x+e-b),a.y=Math.min(a.y,a.y+f-b));var c=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-c),a.y=Math.floor(a.y-c),a.width=Math.ceil(a.width+1+2*c),a.height=Math.ceil(a.height+1+2*c))}return a},a.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new as(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},a.prototype.getPrevPaintRect=function(){return this._prevPaintRect},a.prototype.animateStyle=function(a){return this.animate("style",a)},a.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():this.markRedraw()},a.prototype.attrKV=function(b,a){"style"!==b?c.prototype.attrKV.call(this,b,a):this.style?this.setStyle(a):this.useStyle(a)},a.prototype.setStyle=function(a,b){return"string"==typeof a?this.style[a]=b:fP(this.style,a),this.dirtyStyle(),this},a.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},a.prototype.dirty=function(){this.dirtyStyle()},a.prototype.styleChanged=function(){return!!(2&this.__dirty)},a.prototype.styleUpdated=function(){this.__dirty&=-3},a.prototype.createStyle=function(a){return f8(aw,a)},a.prototype.useStyle=function(a){a[cQ]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},a.prototype.isStyleObject=function(a){return a[cQ]},a.prototype._innerSaveToNormal=function(a){c.prototype._innerSaveToNormal.call(this,a);var b=this._normalState;a.style&&!b.style&&(b.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(a,b,kj)},a.prototype._applyStateObj=function(k,e,f,g,i,l){c.prototype._applyStateObj.call(this,k,e,f,g,i,l);var b,h=!(e&&g);if(e&&e.style?i?g?b=e.style:(b=this._mergeStyle(this.createStyle(),f.style),this._mergeStyle(b,e.style)):(b=this._mergeStyle(this.createStyle(),g?this.style:f.style),this._mergeStyle(b,e.style)):h&&(b=f.style),b){if(i){var j=this.style;if(this.style=this.createStyle(h?{}:j),h)for(var m=ap(j),d=0;d<m.length;d++){var a=m[d];a in b&&(b[a]=b[a],this.style[a]=j[a])}for(var n=ap(b),d=0;d<n.length;d++){var a=n[d];this.style[a]=this.style[a]}this._transitionState(k,{style:b},l,this.getAnimationStyleProps())}else this.useStyle(b)}for(var o=this.__inHover?kk:kj,d=0;d<o.length;d++){var a=o[d];e&&null!=e[a]?this[a]=e[a]:h&&null!=f[a]&&(this[a]=f[a])}},a.prototype._mergeStates=function(b){for(var a,e=c.prototype._mergeStates.call(this,b),d=0;d<b.length;d++){var f=b[d];f.style&&(a=a||{},this._mergeStyle(a,f.style))}return a&&(e.style=a),e},a.prototype._mergeStyle=function(a,b){return fP(a,b),a},a.prototype.getAnimationStyleProps=function(){return ax},a.initDefaultProps=void((b=a.prototype).type="displayable",b.invisible=!1,b.z=0,b.z2=0,b.zlevel=0,b.culling=!1,b.cursor="pointer",b.rectHover=!1,b.incremental=!1,b._rect=null,b.dirtyRectTolerance=0,b.__dirty=2|g1),a}(a9),kl=new as(0,0,0,0),km=new as(0,0,0,0);function kn(a,b,c){return kl.copy(a.getBoundingRect()),a.transform&&kl.applyTransform(a.transform),km.width=b,km.height=c,!kl.intersect(km)}var P=cR,ko=Math.min,kp=Math.max,kq=Math.sin,kr=Math.cos,ks=2*Math.PI,kt=H(),ku=H(),kv=H();function kw(b,h,i){if(0!==b.length){for(var a=b[0],c=a[0],d=a[0],e=a[1],f=a[1],g=1;g<b.length;g++)c=ko(c,(a=b[g])[0]),d=kp(d,a[0]),e=ko(e,a[1]),f=kp(f,a[1]);h[0]=c,h[1]=e,i[0]=d,i[1]=f}}function kx(a,b,c,d,e,f){e[0]=ko(a,c),e[1]=ko(b,d),f[0]=kp(a,c),f[1]=kp(b,d)}var ky=[],kz=[];function kA(d,e,i,j,k,l,f,g,a,b){var m=hj,n=hg,h=m(d,i,k,f,ky);a[0]=1/0,a[1]=1/0,b[0]=-1/0,b[1]=-1/0;for(var c=0;c<h;c++){var o=n(d,i,k,f,ky[c]);a[0]=ko(o,a[0]),b[0]=kp(o,b[0])}h=m(e,j,l,g,kz);for(var c=0;c<h;c++){var p=n(e,j,l,g,kz[c]);a[1]=ko(p,a[1]),b[1]=kp(p,b[1])}a[0]=ko(d,a[0]),b[0]=kp(d,b[0]),a[0]=ko(f,a[0]),b[0]=kp(f,b[0]),a[1]=ko(e,a[1]),b[1]=kp(e,b[1]),a[1]=ko(g,a[1]),b[1]=kp(g,b[1])}function kB(a,b,e,f,c,d,g,h){var i=ho,j=cG,m=kp(ko(i(a,e,c),1),0),n=kp(ko(i(b,f,d),1),0),k=j(a,e,c,m),l=j(b,f,d,n);g[0]=ko(a,c,k),g[1]=ko(b,d,l),h[0]=kp(a,c,k),h[1]=kp(b,d,l)}function kC(c,d,e,f,a,b,j,g,h){var k=gn,l=go,m=Math.abs(a-b);if(m%ks<1e-4&&m>1e-4){g[0]=c-e,g[1]=d-f,h[0]=c+e,h[1]=d+f;return}if(kt[0]=kr(a)*e+c,kt[1]=kq(a)*f+d,ku[0]=kr(b)*e+c,ku[1]=kq(b)*f+d,k(g,kt,ku),l(h,kt,ku),(a%=ks)<0&&(a+=ks),(b%=ks)<0&&(b+=ks),a>b&&!j?b+=ks:a<b&&j&&(a+=ks),j){var n=b;b=a,a=n}for(var i=0;i<b;i+=Math.PI/2)i>a&&(kv[0]=kr(i)*e+c,kv[1]=kq(i)*f+d,k(g,kv,g),l(h,kv,h))}var kD={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},kE=[],kF=[],kG=[],kH=[],kI=[],kJ=[],kK=Math.min,kL=Math.max,kM=Math.cos,kN=Math.sin,kO=Math.abs,cS=Math.PI,kP=2*cS,kQ="undefined"!=typeof Float32Array,kR=[];function kS(a){return Math.round(a/cS*1e8)/1e8%2*cS}function kT(c,d){var a=kS(c[0]);a<0&&(a+=kP);var e=a-c[0],b=c[1];b+=e,!d&&b-a>=kP?b=a+kP:d&&a-b>=kP?b=a-kP:!d&&a>b?b=a+(kP-kS(a-b)):d&&a<b&&(b=a-(kP-kS(b-a))),c[0]=a,c[1]=b}var Q=function(){var b;function a(a){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,a&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(b,c,a){(a=a||0)>0&&(this._ux=kO(a/iw/b)||0,this._uy=kO(a/iw/c)||0)},a.prototype.setDPR=function(a){this.dpr=a},a.prototype.setContext=function(a){this._ctx=a},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(a,b){return this._drawPendingPt(),this.addData(kD.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},a.prototype.lineTo=function(a,b){var c=kO(a-this._xi),d=kO(b-this._yi),e=c>this._ux||d>this._uy;if(this.addData(kD.L,a,b),this._ctx&&e&&this._ctx.lineTo(a,b),e)this._xi=a,this._yi=b,this._pendingPtDist=0;else{var f=c*c+d*d;f>this._pendingPtDist&&(this._pendingPtX=a,this._pendingPtY=b,this._pendingPtDist=f)}return this},a.prototype.bezierCurveTo=function(c,d,e,f,a,b){return this._drawPendingPt(),this.addData(kD.C,c,d,e,f,a,b),this._ctx&&this._ctx.bezierCurveTo(c,d,e,f,a,b),this._xi=a,this._yi=b,this},a.prototype.quadraticCurveTo=function(c,d,a,b){return this._drawPendingPt(),this.addData(kD.Q,c,d,a,b),this._ctx&&this._ctx.quadraticCurveTo(c,d,a,b),this._xi=a,this._yi=b,this},a.prototype.arc=function(d,e,a,b,c,f){this._drawPendingPt(),kR[0]=b,kR[1]=c,kT(kR,f),b=kR[0];var g=(c=kR[1])-b;return this.addData(kD.A,d,e,a,a,b,g,0,f?0:1),this._ctx&&this._ctx.arc(d,e,a,b,c,f),this._xi=kM(c)*a+d,this._yi=kN(c)*a+e,this},a.prototype.arcTo=function(a,b,c,d,e){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},a.prototype.rect=function(a,b,c,d){return this._drawPendingPt(),this._ctx&&this._ctx.rect(a,b,c,d),this.addData(kD.R,a,b,c,d),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(kD.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&a.closePath(),this._xi=b,this._yi=c,this},a.prototype.fill=function(a){a&&a.fill(),this.toStatic()},a.prototype.stroke=function(a){a&&a.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(c){var a=c.length;!(this.data&&this.data.length===a)&&kQ&&(this.data=new Float32Array(a));for(var b=0;b<a;b++)this.data[b]=c[b];this._len=a},a.prototype.appendPath=function(b){b instanceof Array||(b=[b]);for(var e=b.length,f=0,c=this._len,a=0;a<e;a++)f+=b[a].len();kQ&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+f));for(var a=0;a<e;a++)for(var g=b[a].data,d=0;d<g.length;d++)this.data[c++]=g[d];this._len=c},a.prototype.addData=function(c,d,e,f,g,h,i,j,k){if(this._saveData){var a=this.data;this._len+arguments.length>a.length&&(this._expandData(),a=this.data);for(var b=0;b<arguments.length;b++)a[this._len++]=arguments[b]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var b=[],a=0;a<this._len;a++)b[a]=this.data[a];this.data=b}},a.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var a=this.data;a instanceof Array&&(a.length=this._len,kQ&&this._len>11&&(this.data=new Float32Array(a)))}},a.prototype.getBoundingRect=function(){kG[0]=kG[1]=kI[0]=kI[1]=Number.MAX_VALUE,kH[0]=kH[1]=kJ[0]=kJ[1]=-Number.MAX_VALUE;var a,b=this.data,c=0,d=0,e=0,f=0;for(a=0;a<this._len;){var n=b[a++],m=1===a;switch(m&&(c=b[a],d=b[a+1],e=c,f=d),n){case kD.M:c=e=b[a++],d=f=b[a++],kI[0]=e,kI[1]=f,kJ[0]=e,kJ[1]=f;break;case kD.L:kx(c,d,b[a],b[a+1],kI,kJ),c=b[a++],d=b[a++];break;case kD.C:kA(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],kI,kJ),c=b[a++],d=b[a++];break;case kD.Q:kB(c,d,b[a++],b[a++],b[a],b[a+1],kI,kJ),c=b[a++],d=b[a++];break;case kD.A:var h=b[a++],i=b[a++],j=b[a++],k=b[a++],g=b[a++],l=b[a++]+g;a+=1;var o=!b[a++];m&&(e=kM(g)*j+h,f=kN(g)*k+i),kC(h,i,j,k,g,l,o,kI,kJ),c=kM(l)*j+h,d=kN(l)*k+i;break;case kD.R:e=c=b[a++],f=d=b[a++];var p=b[a++],q=b[a++];kx(e,f,e+p,f+q,kI,kJ);break;case kD.Z:c=e,d=f}gn(kG,kG,kI),go(kH,kH,kJ)}return 0===a&&(kG[0]=kG[1]=kH[0]=kH[1]=0),new as(kG[0],kG[1],kH[0]-kG[0],kH[1]-kG[1])},a.prototype._calculateLength=function(){var b=this.data,r=this._len,z=this._ux,A=this._uy,c=0,d=0,h=0,i=0;this._pathSegLen||(this._pathSegLen=[]);for(var B=this._pathSegLen,l=0,C=0,a=0;a<r;){var D=b[a++],s=1===a;s&&(c=b[a],d=b[a+1],h=c,i=d);var e=-1;switch(D){case kD.M:c=h=b[a++],d=i=b[a++];break;case kD.L:var f=b[a++],g=b[a++],j=f-c,k=g-d;(kO(j)>z||kO(k)>A||a===r-1)&&(e=Math.sqrt(j*j+k*k),c=f,d=g);break;case kD.C:var m=b[a++],n=b[a++],f=b[a++],g=b[a++],t=b[a++],u=b[a++];e=hm(c,d,m,n,f,g,t,u,10),c=t,d=u;break;case kD.Q:var m=b[a++],n=b[a++],f=b[a++],g=b[a++];e=hr(c,d,m,n,f,g,10),c=f,d=g;break;case kD.A:var v=b[a++],w=b[a++],o=b[a++],p=b[a++],q=b[a++],x=b[a++],y=x+q;a+=1,b[a++],s&&(h=kM(q)*o+v,i=kN(q)*p+w),e=kL(o,p)*kK(kP,Math.abs(x)),c=kM(y)*o+v,d=kN(y)*p+w;break;case kD.R:h=c=b[a++],i=d=b[a++];var E=b[a++],F=b[a++];e=2*E+2*F;break;case kD.Z:var j=h-c,k=i-d;e=Math.sqrt(j*j+k*k),c=h,d=i}e>=0&&(B[C++]=e,l+=e)}return this._pathLen=l,l},a.prototype.rebuildPath=function(d,I){var o,p,f,g,i,j,l,X,k,J,K,b=this.data,R=this._ux,S=this._uy,T=this._len,m=I<1,e=0,q=0,x=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,k=I*this._pathLen))lo:for(var a=0;a<T;){var L=b[a++],M=1===a;switch(M&&(f=b[a],g=b[a+1],o=f,p=g),L!==kD.L&&x>0&&(d.lineTo(J,K),x=0),L){case kD.M:o=f=b[a++],p=g=b[a++],d.moveTo(f,g);break;case kD.L:i=b[a++],j=b[a++];var E=kO(i-f),F=kO(j-g);if(E>R||F>S){if(m){var c=l[q++];if(e+c>k){var h=(k-e)/c;d.lineTo(f*(1-h)+i*h,g*(1-h)+j*h);break lo}e+=c}d.lineTo(i,j),f=i,g=j,x=0}else{var N=E*E+F*F;N>x&&(J=i,K=j,x=N)}break;case kD.C:var y=b[a++],z=b[a++],r=b[a++],s=b[a++],G=b[a++],H=b[a++];if(m){var c=l[q++];if(e+c>k){var h=(k-e)/c;hk(f,y,r,G,h,kE),hk(g,z,s,H,h,kF),d.bezierCurveTo(kE[1],kF[1],kE[2],kF[2],kE[3],kF[3]);break lo}e+=c}d.bezierCurveTo(y,z,r,s,G,H),f=G,g=H;break;case kD.Q:var y=b[a++],z=b[a++],r=b[a++],s=b[a++];if(m){var c=l[q++];if(e+c>k){var h=(k-e)/c;hp(f,y,r,h,kE),hp(g,z,s,h,kF),d.quadraticCurveTo(kE[1],kF[1],kE[2],kF[2]);break lo}e+=c}d.quadraticCurveTo(y,z,r,s),f=r,g=s;break;case kD.A:var C=b[a++],D=b[a++],t=b[a++],u=b[a++],v=b[a++],O=b[a++],U=b[a++],P=!b[a++],V=t>u?t:u,W=kO(t-u)>.001,A=v+O,Q=!1;if(m){var c=l[q++];e+c>k&&(A=v+O*(k-e)/c,Q=!0),e+=c}if(W&&d.ellipse?d.ellipse(C,D,t,u,U,v,A,P):d.arc(C,D,V,v,A,P),Q)break lo;M&&(o=kM(v)*t+C,p=kN(v)*u+D),f=kM(A)*t+C,g=kN(A)*u+D;break;case kD.R:o=f=b[a],p=g=b[a+1],i=b[a++],j=b[a++];var w=b[a++],B=b[a++];if(m){var c=l[q++];if(e+c>k){var n=k-e;d.moveTo(i,j),d.lineTo(i+kK(n,w),j),(n-=w)>0&&d.lineTo(i+w,j+kK(n,B)),(n-=B)>0&&d.lineTo(i+kL(w-n,0),j+B),(n-=w)>0&&d.lineTo(i,j+kL(B-n,0));break lo}e+=c}d.rect(i,j,w,B);break;case kD.Z:if(m){var c=l[q++];if(e+c>k){var h=(k-e)/c;d.lineTo(f*(1-h)+o*h,g*(1-h)+p*h);break lo}e+=c}d.closePath(),f=o,g=p}}},a.prototype.clone=function(){var b=new a,c=this.data;return b.data=c.slice?c.slice():Array.prototype.slice.call(c),b._len=this._len,b},a.CMD=kD,a.initDefaultProps=void((b=a.prototype)._saveData=!0,b._ux=0,b._uy=0,b._pendingPtDist=0,b._version=0),a}();function kU(b,f,c,g,i,d,e){if(0===i)return!1;var a=i,h=0,k=b;if(e>f+a&&e>g+a||e<f-a&&e<g-a||d>b+a&&d>c+a||d<b-a&&d<c-a)return!1;if(b===c)return Math.abs(d-b)<=a/2;h=(f-g)/(b-c);var j=h*d-e+(k=(b*g-c*f)/(b-c));return j*j/(h*h+1)<=a/2*a/2}function kV(d,e,f,g,h,i,j,k,l,b,c){if(0===l)return!1;var a=l;return(!(c>e+a)||!(c>g+a)||!(c>i+a)||!(c>k+a))&&(!(c<e-a)||!(c<g-a)||!(c<i-a)||!(c<k-a))&&(!(b>d+a)||!(b>f+a)||!(b>h+a)||!(b>j+a))&&(!(b<d-a)||!(b<f-a)||!(b<h-a)||!(b<j-a))&&hl(d,e,f,g,h,i,j,k,b,c,null)<=a/2}function kW(d,e,f,g,h,i,j,b,c){if(0===j)return!1;var a=j;return(!(c>e+a)||!(c>g+a)||!(c>i+a))&&(!(c<e-a)||!(c<g-a)||!(c<i-a))&&(!(b>d+a)||!(b>f+a)||!(b>h+a))&&(!(b<d-a)||!(b<f-a)||!(b<h-a))&&hq(d,e,f,g,h,i,b,c,null)<=a/2}var kX=2*Math.PI;function kY(a){return(a%=kX)<0&&(a+=kX),a}var kZ=2*Math.PI;function k$(j,k,f,b,a,l,g,d,e){if(0===g)return!1;var h=g,i=Math.sqrt((d-=j)*d+(e-=k)*e);if(i-h>f||i+h<f)return!1;if(Math.abs(b-a)%kZ<1e-4)return!0;if(l){var m=b;b=kY(a),a=kY(m)}else b=kY(b),a=kY(a);b>a&&(a+=kZ);var c=Math.atan2(e,d);return c<0&&(c+=kZ),c>=b&&c<=a||c+kZ>=b&&c+kZ<=a}function k_(e,a,i,b,f,c){if(c>a&&c>b||c<a&&c<b||b===a)return 0;var d=(c-a)/(b-a),g=b<a?1:-1;(1===d||0===d)&&(g=b<a?.5:-0.5);var h=d*(i-e)+e;return h===f?1/0:h>f?g:0}var k0=Q.CMD,k1=2*Math.PI,k2=[-1,-1,-1],k3=[-1,-1];function k4(){var a=k3[0];k3[0]=k3[1],k3[1]=a}function k5(n,c,o,e,p,f,q,d,r,b){if(b>c&&b>e&&b>f&&b>d||b<c&&b<e&&b<f&&b<d)return 0;var m=hi(c,e,f,d,b,k2);if(0===m)return 0;for(var g=0,i=-1,j=void 0,k=void 0,l=0;l<m;l++){var h=k2[l],a=0===h||1===h?.5:1;!(hg(n,o,p,q,h)<r)&&(i<0&&(i=hj(c,e,f,d,k3),k3[1]<k3[0]&&i>1&&k4(),j=hg(c,e,f,d,k3[0]),i>1&&(k=hg(c,e,f,d,k3[1]))),2===i?h<k3[0]?g+=j<c?a:-a:h<k3[1]?g+=k<j?a:-a:g+=d<k?a:-a:h<k3[0]?g+=j<c?a:-a:g+=d<j?a:-a)}return g}function k6(j,a,k,f,l,b,m,c){if(c>a&&c>f&&c>b||c<a&&c<f&&c<b)return 0;var n=function(f,i,l,m,e){var c=f-2*i+l,b=2*(i-f),j=f-m,d=0;if(he(c)){if(hf(b)){var a=-j/b;a>=0&&a<=1&&(e[d++]=a)}}else{var g=b*b-4*c*j;if(he(g)){var a=-b/(2*c);a>=0&&a<=1&&(e[d++]=a)}else if(g>0){var k=cF(g),a=(-b+k)/(2*c),h=(-b-k)/(2*c);a>=0&&a<=1&&(e[d++]=a),h>=0&&h<=1&&(e[d++]=h)}}return d}(a,f,b,c,k2);if(0===n)return 0;var g=ho(a,f,b);if(g>=0&&g<=1){for(var h=0,o=cG(a,f,b,g),e=0;e<n;e++){var d=0===k2[e]||1===k2[e]?.5:1,i=cG(j,k,l,k2[e]);!(i<m)&&(k2[e]<g?h+=o<a?d:-d:h+=b<o?d:-d)}return h}var d=0===k2[0]||1===k2[0]?.5:1,i=cG(j,k,l,k2[0]);return i<m?0:b<a?d:-d}function k7(g,o,f,a,c,j,h,d){if((d-=o)>f||d< -f)return 0;var k=Math.sqrt(f*f-d*d);k2[0]=-k,k2[1]=k;var l=Math.abs(a-c);if(l<1e-4)return 0;if(l>=k1-1e-4){a=0,c=k1;var e=j?1:-1;return h>=k2[0]+g&&h<=k2[1]+g?e:0}if(a>c){var p=a;a=c,c=p}a<0&&(a+=k1,c+=k1);for(var m=0,i=0;i<2;i++){var n=k2[i];if(n+g>h){var b=Math.atan2(d,n),e=j?1:-1;b<0&&(b=k1+b),(b>=a&&b<=c||b+k1>=a&&b+k1<=c)&&(b>Math.PI/2&&b<1.5*Math.PI&&(e=-e),m+=e)}}return m}function k8(t,l,m,f,e){for(var u,z,j,k,b=t.data,A=t.len(),i=0,d=0,c=0,h=0,g=0,a=0;a<A;){var v=b[a++],w=1===a;switch(v===k0.M&&a>1&&!m&&(i+=k_(d,c,h,g,f,e)),w&&(d=b[a],c=b[a+1],h=d,g=c),v){case k0.M:h=b[a++],g=b[a++],d=h,c=g;break;case k0.L:if(m){if(kU(d,c,b[a],b[a+1],l,f,e))return!0}else i+=k_(d,c,b[a],b[a+1],f,e)||0;d=b[a++],c=b[a++];break;case k0.C:if(m){if(kV(d,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],l,f,e))return!0}else i+=k5(d,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],f,e)||0;d=b[a++],c=b[a++];break;case k0.Q:if(m){if(kW(d,c,b[a++],b[a++],b[a],b[a+1],l,f,e))return!0}else i+=k6(d,c,b[a++],b[a++],b[a],b[a+1],f,e)||0;d=b[a++],c=b[a++];break;case k0.A:var o=b[a++],q=b[a++],s=b[a++],p=b[a++],n=b[a++],r=b[a++];a+=1;var x=!!(1-b[a++]);j=Math.cos(n)*s+o,k=Math.sin(n)*p+q,w?(h=j,g=k):i+=k_(d,c,j,k,f,e);var y=(f-o)*p/s+o;if(m){if(k$(o,q,p,n,n+r,x,l,y,e))return!0}else i+=k7(o,q,p,n,n+r,x,y,e);d=Math.cos(n+r)*s+o,c=Math.sin(n+r)*p+q;break;case k0.R:h=d=b[a++],g=c=b[a++];var B=b[a++],C=b[a++];if(j=h+B,k=g+C,m){if(kU(h,g,j,g,l,f,e)||kU(j,g,j,k,l,f,e)||kU(j,k,h,k,l,f,e)||kU(h,k,h,g,l,f,e))return!0}else i+=k_(j,g,j,k,f,e),i+=k_(h,k,h,g,f,e);break;case k0.Z:if(m){if(kU(d,c,h,g,l,f,e))return!0}else i+=k_(d,c,h,g,f,e);d=h,c=g}}return!m&&(u=c,!(1e-4>Math.abs(u-(z=g))))&&(i+=k_(d,c,h,g,f,e)||0),0!==i}var cT=x({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},aw),k9={style:x({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},ax.style)},la=O.concat(["invisible","culling","z","z2","zlevel","parent"]),c=function(c){var b;function a(a){return c.call(this,a)||this}return cp(a,c),a.prototype.update=function(){var h=this;c.prototype.update.call(this);var b=this.style;if(b.decal){var d=this._decalEl=this._decalEl||new a;d.buildPath===a.prototype.buildPath&&(d.buildPath=function(a){h.buildPath(a,h.shape)}),d.silent=!0;var e=d.style;for(var f in b)e[f]!==b[f]&&(e[f]=b[f]);e.fill=b.fill?b.decal:null,e.decal=null,e.shadowColor=null,b.strokeFirst&&(e.stroke=null);for(var g=0;g<la.length;++g)d[la[g]]=this[la[g]];d.__dirty|=g1}else this._decalEl&&(this._decalEl=null)},a.prototype.getDecalElement=function(){return this._decalEl},a.prototype._init=function(e){var f=ap(e);this.shape=this.getDefaultShape();var g=this.getDefaultStyle();g&&this.useStyle(g);for(var d=0;d<f.length;d++){var a=f[d],b=e[a];"style"===a?this.style?fP(this.style,b):this.useStyle(b):"shape"===a?fP(this.shape,b):c.prototype.attrKV.call(this,a,b)}this.style||this.useStyle({})},a.prototype.getDefaultStyle=function(){return null},a.prototype.getDefaultShape=function(){return{}},a.prototype.canBeInsideText=function(){return this.hasFill()},a.prototype.getInsideTextFill=function(){var a=this.style.fill;if("none"!==a){if(fT(a)){var b=hP(a,0);return b>.5?ix:b>.2?"#eee":iy}if(a)return iy}return ix},a.prototype.getInsideTextStroke=function(c){var a=this.style.fill;if(fT(a)){var b=this.__zr,d=!!(b&&b.isDarkMode()),e=.4>hP(c,0);if(d===e)return a}},a.prototype.buildPath=function(a,b,c){},a.prototype.pathUpdated=function(){this.__dirty&=-5},a.prototype.getUpdatedPathProxy=function(a){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},a.prototype.createPathProxy=function(){this.path=new Q(!1)},a.prototype.hasStroke=function(){var a=this.style,b=a.stroke;return!(null==b||"none"===b||!(a.lineWidth>0))},a.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},a.prototype.getBoundingRect=function(){var a=this._rect,f=this.style,g=!a;if(g){var h=!1;this.path||(h=!0,this.createPathProxy());var e=this.path;(h||4&this.__dirty)&&(e.beginPath(),this.buildPath(e,this.shape,!1),this.pathUpdated()),a=e.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var b=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||g){b.copy(a);var d=f.strokeNoScale?this.getLineScale():1,c=f.lineWidth;if(!this.hasFill()){var i=this.strokeContainThreshold;c=Math.max(c,null==i?4:i)}d>1e-10&&(b.width+=c/d,b.height+=c/d,b.x-=c/d/2,b.y-=c/d/2)}return b}return a},a.prototype.contain=function(a,b){var d=this.transformCoordToLocal(a,b),m=this.getBoundingRect(),e=this.style;if(a=d[0],b=d[1],m.contain(a,b)){var f,g,n,h=this.path;if(this.hasStroke()){var i,j,k,o,c=e.lineWidth,l=e.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(c=Math.max(c,this.strokeContainThreshold)),i=h,j=c/l,k=a,k8(i,j,!0,k,o=b)))return!0}if(this.hasFill())return f=h,g=a,k8(f,0,!1,g,n=b)}return!1},a.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},a.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},a.prototype.animateShape=function(a){return this.animate("shape",a)},a.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():"shape"===a?this.dirtyShape():this.markRedraw()},a.prototype.attrKV=function(a,b){"shape"===a?this.setShape(b):c.prototype.attrKV.call(this,a,b)},a.prototype.setShape=function(b,c){var a=this.shape;return a||(a=this.shape={}),"string"==typeof b?a[b]=c:fP(a,b),this.dirtyShape(),this},a.prototype.shapeChanged=function(){return!!(4&this.__dirty)},a.prototype.createStyle=function(a){return f8(cT,a)},a.prototype._innerSaveToNormal=function(a){c.prototype._innerSaveToNormal.call(this,a);var b=this._normalState;a.shape&&!b.shape&&(b.shape=fP({},this.shape))},a.prototype._applyStateObj=function(i,b,e,f,g,j){var a;if(c.prototype._applyStateObj.call(this,i,b,e,f,g,j),b&&b.shape?g?f?a=b.shape:(a=fP({},e.shape),fP(a,b.shape)):(a=fP({},f?this.shape:e.shape),fP(a,b.shape)):b&&f||(a=e.shape),a){if(g){this.shape=fP({},this.shape);for(var k={},l=ap(a),h=0;h<l.length;h++){var d=l[h];"object"==typeof a[d]?this.shape[d]=a[d]:k[d]=a[d]}this._transitionState(i,{shape:k},j)}else this.shape=a,this.dirtyShape()}},a.prototype._mergeStates=function(b){for(var a,e=c.prototype._mergeStates.call(this,b),d=0;d<b.length;d++){var f=b[d];f.shape&&(a=a||{},this._mergeStyle(a,f.shape))}return a&&(e.shape=a),e},a.prototype.getAnimationStyleProps=function(){return k9},a.prototype.isZeroArea=function(){return!1},a.extend=function(b){var d=function(c){function a(a){var d=c.call(this,a)||this;return b.init&&b.init.call(d,a),d}return cp(a,c),a.prototype.getDefaultStyle=function(){return ct(b.style)},a.prototype.getDefaultShape=function(){return ct(b.shape)},a}(a);for(var c in b)"function"==typeof b[c]&&(d.prototype[c]=b[c]);return d},a.initDefaultProps=void((b=a.prototype).type="path",b.strokeContainThreshold=5,b.segmentIgnoreThreshold=0,b.subPixelOptimize=!1,b.autoBatch=!1,b.__dirty=6|g1),a}(P),lb=x({strokeFirst:!0,font:cr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},cT),be=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.hasStroke=function(){var a=this.style,b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0},a.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},a.prototype.createStyle=function(a){return f8(lb,a)},a.prototype.setBoundingRect=function(a){this._rect=a},a.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var c=a.text;null!=c?c+="":c="";var b=iX(c,a.font,a.textAlign,a.textBaseline);if(b.x+=a.x||0,b.y+=a.y||0,this.hasStroke()){var d=a.lineWidth;b.x-=d/2,b.y-=d/2,b.width+=d,b.height+=d}this._rect=b}return this._rect},a.initDefaultProps=void(a.prototype.dirtyRectTolerance=10),a}(P);be.prototype.type="tspan";var lc=be,ld=x({x:0,y:0},aw),le={style:x({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},ax.style)},bf=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.createStyle=function(a){return f8(ld,a)},a.prototype._getSize=function(a){var b=this.style,e=b[a];if(null!=e)return e;var c,d=(c=b.image)&&"string"!=typeof c&&c.width&&c.height?b.image:this.__image;if(!d)return 0;var f="width"===a?"height":"width",g=b[f];return null==g?d[a]:d[a]/d[f]*g},a.prototype.getWidth=function(){return this._getSize("width")},a.prototype.getHeight=function(){return this._getSize("height")},a.prototype.getAnimationStyleProps=function(){return le},a.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new as(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},a}(P);bf.prototype.type="image";var cU=bf,lf=Math.round;function lg(a,b,f){if(b){var c=b.x1,g=b.x2,d=b.y1,h=b.y2;a.x1=c,a.x2=g,a.y1=d,a.y2=h;var e=f&&f.lineWidth;return e&&(lf(2*c)===lf(2*g)&&(a.x1=a.x2=cV(c,e,!0)),lf(2*d)===lf(2*h)&&(a.y1=a.y2=cV(d,e,!0))),a}}function lh(a,b,h){if(b){var d=b.x,e=b.y,f=b.width,g=b.height;a.x=d,a.y=e,a.width=f,a.height=g;var c=h&&h.lineWidth;return c&&(a.x=cV(d,c,!0),a.y=cV(e,c,!0),a.width=Math.max(cV(d+f,c,!1)-a.x,0===f?0:1),a.height=Math.max(cV(e+g,c,!1)-a.y,0===g?0:1)),a}}function cV(b,c,d){if(!c)return b;var a=lf(2*b);return(a+lf(c))%2==0?a/2:(a+(d?1:-1))/2}var li=function(){this.x=0,this.y=0,this.width=0,this.height=0},lj={},bg=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new li},a.prototype.buildPath=function(s,l){if(this.subPixelOptimize){var k,n,a,b,c,d,h,i,j,f,g,e,o,p,q,r,m=lh(lj,l,this.style);o=m.x,p=m.y,q=m.width,r=m.height,m.r=l.r,l=m}else o=l.x,p=l.y,q=l.width,r=l.height;l.r?(k=s,i=(n=l).x,j=n.y,f=n.width,g=n.height,e=n.r,f<0&&(i+=f,f=-f),g<0&&(j+=g,g=-g),"number"==typeof e?a=b=c=d=e:e instanceof Array?1===e.length?a=b=c=d=e[0]:2===e.length?(a=c=e[0],b=d=e[1]):3===e.length?(a=e[0],b=d=e[1],c=e[2]):(a=e[0],b=e[1],c=e[2],d=e[3]):a=b=c=d=0,a+b>f&&(h=a+b,a*=f/h,b*=f/h),c+d>f&&(h=c+d,c*=f/h,d*=f/h),b+c>g&&(h=b+c,b*=g/h,c*=g/h),a+d>g&&(h=a+d,a*=g/h,d*=g/h),k.moveTo(i+a,j),k.lineTo(i+f-b,j),0!==b&&k.arc(i+f-b,j+b,b,-Math.PI/2,0),k.lineTo(i+f,j+g-c),0!==c&&k.arc(i+f-c,j+g-c,c,0,Math.PI/2),k.lineTo(i+d,j+g),0!==d&&k.arc(i+d,j+g-d,d,Math.PI/2,Math.PI),k.lineTo(i,j+a),0!==a&&k.arc(i+a,j+a,a,Math.PI,1.5*Math.PI)):s.rect(o,p,q,r)},a.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},a}(c);bg.prototype.type="rect";var z=bg,lk={fill:"#000"},ll={style:x({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},ax.style)},cW=function(b){function a(c){var a=b.call(this)||this;return a.type="text",a._children=[],a._defaultStyle=lk,a.attr(c),a}return cp(a,b),a.prototype.childrenRef=function(){return this._children},a.prototype.update=function(){b.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var c=0;c<this._children.length;c++){var a=this._children[c];a.zlevel=this.zlevel,a.z=this.z,a.z2=this.z2,a.culling=this.culling,a.cursor=this.cursor,a.invisible=this.invisible}},a.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):b.prototype.updateTransform.call(this)},a.prototype.getLocalTransform=function(a){var c=this.innerTransformable;return c?c.getLocalTransform(a):b.prototype.getLocalTransform.call(this,a)},a.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),b.prototype.getComputedTransform.call(this)},a.prototype._updateSubTexts=function(){this._childCursor=0,ls(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},a.prototype.addSelfToZr=function(c){b.prototype.addSelfToZr.call(this,c);for(var a=0;a<this._children.length;a++)this._children[a].__zr=c},a.prototype.removeSelfFromZr=function(c){b.prototype.removeSelfFromZr.call(this,c);for(var a=0;a<this._children.length;a++)this._children[a].__zr=null},a.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new as(0,0,0,0),e=this._children,h=[],b=null,c=0;c<e.length;c++){var f=e[c],d=f.getBoundingRect(),g=f.getLocalTransform(h);g?(a.copy(d),a.applyTransform(g),(b=b||a.clone()).union(a)):(b=b||d.clone()).union(d)}this._rect=b||a}return this._rect},a.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||lk},a.prototype.setTextContent=function(a){},a.prototype._mergeStyle=function(a,c){if(!c)return a;var d=c.rich,b=a.rich||d&&{};return fP(a,c),d&&b?(this._mergeRich(b,d),a.rich=b):b&&(a.rich=b),a},a.prototype._mergeRich=function(b,d){for(var e=ap(d),c=0;c<e.length;c++){var a=e[c];b[a]=b[a]||{},fP(b[a],d[a])}},a.prototype.getAnimationStyleProps=function(){return ll},a.prototype._getOrCreateChild=function(b){var a=this._children[this._childCursor];return a&&a instanceof b||(a=new b),this._children[this._childCursor++]=a,a.__zr=this.__zr,a.parent=this,a},a.prototype._updatePlainTexts=function(){var a=this.style,w=a.font||cr,d=a.padding,x=lx(a),c=function t(e,a){null!=e&&(e+="");var b,h=a.overflow,f=a.padding,j=a.font,n=i$(j),k=f$(a.lineHeight,n),p=!!a.backgroundColor,q="truncate"===a.lineOverflow,c=a.width;b=null!=c&&("break"===h||"breakAll"===h)?e?ki(e,a.font,c,"breakAll"===h,0).lines:[]:e?e.split("\n"):[];var l=b.length*k,i=f$(a.height,l);if(l>i&&q){var r=Math.floor(i/k);b=b.slice(0,r)}if(e&&"truncate"===h&&null!=c)for(var s=j9(c,j,a.ellipsis,{minChar:a.truncateMinChar,placeholder:a.placeholder}),d=0;d<b.length;d++)b[d]=ka(b[d],s);for(var o=i,g=0,d=0;d<b.length;d++)g=Math.max(iV(b[d],j),g);null==c&&(c=g);var m=g;return f&&(o+=f[0]+f[2],m+=f[1]+f[3],c+=f[1]+f[3]),p&&(m=c),{lines:b,height:i,outerWidth:m,outerHeight:o,lineHeight:k,calculatedLineHeight:n,contentWidth:g,contentHeight:l,width:c}}(x,a),l=ly(a),y=!!a.backgroundColor,m=c.outerHeight,n=c.outerWidth,z=c.contentWidth,o=c.lines,p=c.lineHeight,e=this._defaultStyle,i=a.x||0,q=a.y||0,g=a.align||e.align||"left",h=a.verticalAlign||e.verticalAlign||"top",r=i,f=iZ(q,c.contentHeight,h);if(l||d){var A=iY(i,n,g),B=iZ(q,m,h);l&&this._renderBackground(a,a,A,B,n,m)}f+=p/2,d&&(r=lw(i,g,d),"top"===h?f+=d[0]:"bottom"===h&&(f-=d[2]));for(var s=0,t=!1,C=lv(("fill"in a)?a.fill:(t=!0,e.fill)),u=lu(("stroke"in a)?a.stroke:y||e.autoStroke&&!t?null:(s=2,e.stroke)),D=a.textShadowBlur>0,E=null!=a.width&&("truncate"===a.overflow||"break"===a.overflow||"breakAll"===a.overflow),v=c.calculatedLineHeight,j=0;j<o.length;j++){var k=this._getOrCreateChild(lc),b=k.createStyle();k.useStyle(b),b.text=o[j],b.x=r,b.y=f,g&&(b.textAlign=g),b.textBaseline="middle",b.opacity=a.opacity,b.strokeFirst=!0,D&&(b.shadowBlur=a.textShadowBlur||0,b.shadowColor=a.textShadowColor||"transparent",b.shadowOffsetX=a.textShadowOffsetX||0,b.shadowOffsetY=a.textShadowOffsetY||0),b.stroke=u,b.fill=C,u&&(b.lineWidth=a.lineWidth||s,b.lineDash=a.lineDash,b.lineDashOffset=a.lineDashOffset||0),b.font=w,lq(b,a),f+=p,E&&k.setBoundingRect(new as(iY(b.x,a.width,b.textAlign),iZ(b.y,v,b.textBaseline),z,v))}},a.prototype._updateRichTexts=function(){var a=this.style,e=function I(f,c){var q,b=new ke;if(null!=f&&(f+=""),!f)return b;for(var k=c.width,v=c.height,r=c.overflow,w=("break"===r||"breakAll"===r)&&null!=k?{width:k,accumWidth:0,breakAll:"breakAll"===r}:null,l=j7.lastIndex=0;null!=(q=j7.exec(f));){var A=q.index;A>l&&kf(b,f.substring(l,A),c,w),kf(b,q[2],c,w,q[1]),l=j7.lastIndex}l<f.length&&kf(b,f.substring(l,f.length),c,w);var x=[],y=0,B=0,m=c.padding,F="truncate"===r,G="truncate"===c.lineOverflow;function C(a,b,c){a.width=b,a.lineHeight=c,y+=c,B=Math.max(B,b)}outer:for(var e=0;e<b.lines.length;e++){for(var g=b.lines[e],s=0,t=0,n=0;n<g.tokens.length;n++){var a=g.tokens[n],d=a.styleName&&c.rich[a.styleName]||{},h=a.textPadding=d.padding,z=h?h[1]+h[3]:0,o=a.font=d.font||c.font;a.contentHeight=i$(o);var p=f$(d.height,a.contentHeight);if(a.innerHeight=p,h&&(p+=h[0]+h[2]),a.height=p,a.lineHeight=f_(d.lineHeight,c.lineHeight,p),a.align=d&&d.align||c.align,a.verticalAlign=d&&d.verticalAlign||"middle",G&&null!=v&&y+a.lineHeight>v){n>0?(g.tokens=g.tokens.slice(0,n),C(g,t,s),b.lines=b.lines.slice(0,e+1)):b.lines=b.lines.slice(0,e);break outer}var i=d.width,D=null==i||"auto"===i;if("string"==typeof i&&"%"===i.charAt(i.length-1))a.percentWidth=i,x.push(a),a.contentWidth=iV(a.text,o);else{if(D){var E=d.backgroundColor,j=E&&E.image;j&&(j=j3(j),j6(j)&&(a.width=Math.max(a.width,j.width*p/j.height)))}var u=F&&null!=k?k-t:null;null!=u&&u<a.width?!D||u<z?(a.text="",a.width=a.contentWidth=0):(a.text=j8(a.text,u-z,o,c.ellipsis,{minChar:c.truncateMinChar}),a.width=a.contentWidth=iV(a.text,o)):a.contentWidth=iV(a.text,o)}a.width+=z,t+=a.width,d&&(s=Math.max(s,a.lineHeight))}C(g,t,s)}b.outerWidth=b.width=f$(k,B),b.outerHeight=b.height=f$(v,y),b.contentHeight=y,b.contentWidth=B,m&&(b.outerWidth+=m[1]+m[3],b.outerHeight+=m[0]+m[2]);for(var e=0;e<x.length;e++){var a=x[e],H=a.percentWidth;a.width=parseInt(H,10)/100*b.width}return b}(lx(a),a),q=e.width,r=e.outerWidth,s=e.outerHeight,k=a.padding,y=a.x||0,z=a.y||0,t=this._defaultStyle,A=a.align||t.align,B=a.verticalAlign||t.verticalAlign,u=iY(y,r,A),v=iZ(z,s,B),g=u,f=v;k&&(g+=k[3],f+=k[0]);var w=g+q;ly(a)&&this._renderBackground(a,a,u,v,r,s);for(var l=!!a.backgroundColor,m=0;m<e.lines.length;m++){for(var n=e.lines[m],h=n.tokens,x=h.length,i=n.lineHeight,o=n.width,c=0,d=g,p=w,j=x-1,b=void 0;c<x&&(!(b=h[c]).align||"left"===b.align);)this._placeToken(b,a,i,f,d,"left",l),o-=b.width,d+=b.width,c++;for(;j>=0&&"right"===(b=h[j]).align;)this._placeToken(b,a,i,f,p,"right",l),o-=b.width,p-=b.width,j--;for(d+=(q-(d-g)-(w-p)-o)/2;c<=j;)b=h[c],this._placeToken(b,a,i,f,d+b.width/2,"center",l),d+=b.width,c++;f+=i}},a.prototype._placeToken=function(b,d,l,h,e,g,t){var c=d.rich[b.styleName]||{};c.text=b.text;var m=b.verticalAlign,f=h+l/2;"top"===m?f=h+b.height/2:"bottom"===m&&(f=h+l-b.height/2),!b.isLineHolder&&ly(c)&&this._renderBackground(c,d,"right"===g?e-b.width:"center"===g?e-b.width/2:e,f-b.height/2,b.width,b.height);var u=!!c.backgroundColor,i=b.textPadding;i&&(e=lw(e,g,i),f-=b.height/2-i[0]-b.innerHeight/2);var j=this._getOrCreateChild(lc),a=j.createStyle();j.useStyle(a);var k=this._defaultStyle,n=!1,o=0,p=lv("fill"in c?c.fill:"fill"in d?d.fill:(n=!0,k.fill)),q=lu("stroke"in c?c.stroke:"stroke"in d?d.stroke:u||t||k.autoStroke&&!n?null:(o=2,k.stroke)),v=c.textShadowBlur>0||d.textShadowBlur>0;a.text=b.text,a.x=e,a.y=f,v&&(a.shadowBlur=c.textShadowBlur||d.textShadowBlur||0,a.shadowColor=c.textShadowColor||d.textShadowColor||"transparent",a.shadowOffsetX=c.textShadowOffsetX||d.textShadowOffsetX||0,a.shadowOffsetY=c.textShadowOffsetY||d.textShadowOffsetY||0),a.textAlign=g,a.textBaseline="middle",a.font=b.font||cr,a.opacity=f_(c.opacity,d.opacity,1),lq(a,c),q&&(a.lineWidth=f_(c.lineWidth,d.lineWidth,o),a.lineDash=f$(c.lineDash,d.lineDash),a.lineDashOffset=d.lineDashOffset||0,a.stroke=q),p&&(a.fill=p);var r=b.contentWidth,s=b.contentHeight;j.setBoundingRect(new as(iY(a.x,r,a.textAlign),iZ(a.y,s,a.textBaseline),r,s))},a.prototype._renderBackground=function(a,q,k,l,m,n){var b,h,d=a.backgroundColor,i=a.borderWidth,j=a.borderColor,o=d&&d.image,p=d&&!o,r=a.borderRadius,s=this;if(p||a.lineHeight||i&&j){(b=this._getOrCreateChild(z)).useStyle(b.createStyle()),b.style.fill=null;var e=b.shape;e.x=k,e.y=l,e.width=m,e.height=n,e.r=r,b.dirtyShape()}if(p){var c=b.style;c.fill=d||null,c.fillOpacity=f$(a.fillOpacity,1)}else if(o){(h=this._getOrCreateChild(cU)).onload=function(){s.dirtyStyle()};var f=h.style;f.image=d.image,f.x=k,f.y=l,f.width=m,f.height=n}if(i&&j){var c=b.style;c.lineWidth=i,c.stroke=j,c.strokeOpacity=f$(a.strokeOpacity,1),c.lineDash=a.borderDash,c.lineDashOffset=a.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(c.strokeFirst=!0,c.lineWidth*=2)}var g=(b||h).style;g.shadowBlur=a.shadowBlur||0,g.shadowColor=a.shadowColor||"transparent",g.shadowOffsetX=a.shadowOffsetX||0,g.shadowOffsetY=a.shadowOffsetY||0,g.opacity=f_(a.opacity,q.opacity,1)},a.makeFont=function(a){var b="";return lr(a)&&(b=[a.fontStyle,a.fontWeight,lp(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),b&&f2(b)||a.textFont||a.font},a}(P),lm={left:!0,right:1,center:1},ln={top:1,bottom:1,middle:1},lo=["fontStyle","fontWeight","fontSize","fontFamily"];function lp(a){return"string"==typeof a&&(-1!==a.indexOf("px")|| -1!==a.indexOf("rem")|| -1!==a.indexOf("em"))?a:isNaN(+a)?"12px":a+"px"}function lq(d,e){for(var a=0;a<lo.length;a++){var b=lo[a],c=e[b];null!=c&&(d[b]=c)}}function lr(a){return null!=a.fontSize||a.fontFamily||a.fontWeight}function ls(a){return lt(a),j(a.rich,lt),a}function lt(a){if(a){a.font=cW.makeFont(a);var b=a.align;"middle"===b&&(b="center"),a.align=null==b||lm[b]?b:"left";var c=a.verticalAlign;"center"===c&&(c="middle"),a.verticalAlign=null==c||ln[c]?c:"top",a.padding&&(a.padding=cy(a.padding))}}function lu(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function lv(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function lw(b,c,a){return"right"===c?b-a[1]:"center"===c?b+a[3]/2-a[1]/2:b+a[3]}function lx(b){var a=b.text;return null!=a&&(a+=""),a}function ly(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}var bh=cW,lz=a(),lA=function(c,d,e,a){if(a){var b=lz(a);b.dataIndex=e,b.dataType=d,b.seriesIndex=c,"group"===a.type&&a.traverse(function(b){var a=lz(b);a.seriesIndex=c,a.dataIndex=e,a.dataType=d})}},lB=1,lC={},lD=a(),lE=a(),lF=["emphasis","blur","select"],lG=["normal","emphasis","blur","select"],ay=10,az="highlight",aA="downplay",aB="select",aC="unselect",aD="toggleSelect";function lH(a){return null!=a&&"none"!==a}var lI=new Z(100);function lJ(a){if(fT(a)){var b=lI.get(a);return b||(b=hK(a,-0.1),lI.put(a,b)),b}if(fZ(a)){var c=fP({},a);return c.colorStops=Y(a.colorStops,function(a){return{offset:a.offset,color:hK(a.color,-0.1)}}),c}return a}function lK(a,c,b){a.onHoverStateChange&&(a.hoverState||0)!==b&&a.onHoverStateChange(c),a.hoverState=b}function lL(a){lK(a,"emphasis",2)}function lM(a){2===a.hoverState&&lK(a,"normal",0)}function lN(a){lK(a,"blur",1)}function lO(a){1===a.hoverState&&lK(a,"normal",0)}function lP(a){a.selected=!0}function lQ(a){a.selected=!1}function lR(a,d,e){var b,c,f;b=a,c=d,c(b,f=e),a.isGroup&&a.traverse(function(c){var a,b,f;a=c,b=d,b(a,f=e)})}function lS(a,b){switch(b){case"emphasis":a.hoverState=2;break;case"normal":a.hoverState=0;break;case"blur":a.hoverState=1;break;case"select":a.selected=!0}}function lT(a,k){var e,g,b,h,i,j,d,f=this.states[a];if(this.style){if("emphasis"===a)return function(d,l,i,a){var j=i&&fQ(i,"select")>=0,e=!1;if(d instanceof c){var f=lD(d),g=j&&f.selectFill||f.normalFill,h=j&&f.selectStroke||f.normalStroke;if(lH(g)||lH(h)){var b=(a=a||{}).style||{};"inherit"===b.fill?(e=!0,a=fP({},a),b=fP({},b),b.fill=g):!lH(b.fill)&&lH(g)?(e=!0,a=fP({},a),b=fP({},b),b.fill=lJ(g)):!lH(b.stroke)&&lH(h)&&(e||(a=fP({},a),b=fP({},b)),b.stroke=lJ(h)),a.style=b}}if(a&&null==a.z2){e||(a=fP({},a));var k=d.z2EmphasisLift;a.z2=d.z2+(null!=k?k:ay)}return a}(this,a,k,f);if("blur"===a)return e=this,g=a,b=f,h=fQ(e.currentStates,g)>=0,i=e.style.opacity,j=h?null:function(c,d,i,g){for(var j=c.style,e={},a=0;a<d.length;a++){var f=d[a],h=j[f];e[f]=null==h?g&&g[f]:h}for(var a=0;a<c.animators.length;a++){var b=c.animators[a];b.__fromStateTransition&&0>b.__fromStateTransition.indexOf(i)&&"style"===b.targetName&&b.saveTo(e,d)}return e}(e,["opacity"],g,{opacity:1}),d=(b=b||{}).style||{},null==d.opacity&&(b=fP({},b),d=fP({opacity:h?i:.1*j.opacity},d),b.style=d),b;if("select"===a)return function(b,d,a){if(a&&null==a.z2){a=fP({},a);var c=b.z2SelectLift;a.z2=b.z2+(null!=c?c:9)}return a}(this,a,f)}return f}function lU(a){a.stateProxy=lT;var b=a.getTextContent(),c=a.getTextGuideLine();b&&(b.stateProxy=lT),c&&(c.stateProxy=lT)}function lV(a,b){l1(a,b)||a.__highByOuter||lR(a,lL)}function lW(a,b){l1(a,b)||a.__highByOuter||lR(a,lM)}function lX(a,b){a.__highByOuter|=1<<(b||0),lR(a,lL)}function lY(a,b){(a.__highByOuter&=~(1<<(b||0)))||lR(a,lM)}function lZ(a){lR(a,lN)}function l$(a){lR(a,lO)}function l_(a){lR(a,lP)}function l0(a){lR(a,lQ)}function l1(a,b){return a.__highDownSilentOnTouch&&b.zrByTouch}function l2(a){var b=a.getModel(),d=[],c=[];b.eachComponent(function(h,b){var f=lE(b),e="series"===h,g=e?a.getViewOfSeriesModel(b):a.getViewOfComponentModel(b);e||c.push(g),f.isBlured&&(g.group.traverse(function(a){lO(a)}),e&&d.push(b)),f.isBlured=!1}),j(c,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(d,!1,b)})}function l3(c,d,e,f){var b=f.getModel();function h(d,b){for(var a=0;a<b.length;a++){var c=d.getItemGraphicEl(b[a]);c&&l$(c)}}if(e=e||"coordinateSystem",null!=c&&d&&"none"!==d){var g=b.getSeriesByIndex(c),a=g.coordinateSystem;a&&a.master&&(a=a.master);var i=[];b.eachSeries(function(b){var k=g===b,c=b.coordinateSystem;c&&c.master&&(c=c.master);var m=c&&a?c===a:k;if(!("series"===e&&!k||"coordinateSystem"===e&&!m||"series"===d&&k)){if(f.getViewOfSeriesModel(b).group.traverse(function(a){lN(a)}),fR(d))h(b.getData(),d);else if(aq(d))for(var l=ap(d),j=0;j<l.length;j++)h(b.getData(l[j]),d[l[j]]);i.push(b),lE(b).isBlured=!0}}),b.eachComponent(function(c,d){if("series"!==c){var a=f.getViewOfComponentModel(d);a&&a.toggleBlurSeries&&a.toggleBlurSeries(i,!0,b)}})}}function l4(c,d,e){if(null!=c&&null!=d){var a=e.getModel().getComponent(c,d);if(a){lE(a).isBlured=!0;var b=e.getViewOfComponentModel(a);b&&b.focusBlurEnabled&&b.group.traverse(function(a){lN(a)})}}}function l5(a,f,g,h){var i,b={focusSelf:!1,dispatchers:null};if(null==a||"series"===a||null==f||null==g)return b;var j=h.getModel().getComponent(a,f);if(!j)return b;var c=h.getViewOfComponentModel(j);if(!c||!c.findHighDownDispatchers)return b;for(var d=c.findHighDownDispatchers(g),e=0;e<d.length;e++)if("self"===lz(d[e]).focus){i=!0;break}return{focusSelf:i,dispatchers:d}}function l6(a){j(a.getAllData(),function(b){var c=b.data,d=b.type;c.eachItemGraphicEl(function(b,c){a.isSelected(c,d)?l_(b):l0(b)})})}function l7(a,b,c){md(a,!0),lR(a,lU),l9(a,b,c)}function l8(a,b,c,d){var e;d?md(e=a,!1):l7(a,b,c)}function l9(c,b,d){var a=lz(c);null!=b?(a.focus=b,a.blurScope=d):a.focus&&(a.focus=null)}var ma=["emphasis","blur","select"],mb={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function mc(f,g,a,c){a=a||"itemStyle";for(var b=0;b<ma.length;b++){var d=ma[b],e=g.getModel([d,a]);f.ensureState(d).style=c?c(e):e[mb[a]]()}}function md(b,d){var c=!1===d,a=b;b.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=b.highDownSilentOnTouch),(!c||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!c)}function me(a){return!!(a&&a.__highDownDispatcher)}function mf(b){var a=b.type;return a===aB||a===aC||a===aD}function mg(b){var a=b.type;return a===az||a===aA}var mh=a();function mi(j,a,h,f,k){if(a&&a.ecModel){var b,i=a.ecModel.getUpdatePayload();b=i&&i.animation}var l=a&&a.isAnimationEnabled(),g="update"===j;if(!l)return null;var c=void 0,e=void 0,d=void 0;return f?(c=f$(f.duration,200),e=f$(f.easing,"cubicOut"),d=0):(c=a.getShallow(g?"animationDurationUpdate":"animationDuration"),e=a.getShallow(g?"animationEasingUpdate":"animationEasing"),d=a.getShallow(g?"animationDelayUpdate":"animationDelay")),b&&(null!=b.duration&&(c=b.duration),null!=b.easing&&(e=b.easing),null!=b.delay&&(d=b.delay)),cw(d)&&(d=d(h,k)),cw(c)&&(c=c(h)),{duration:c||0,delay:d,easing:e}}function mj(g,c,h,f,a,b,d){var k,i=!1;cw(a)?(d=b,b=a,a=null):aq(a)&&(b=a.cb,d=a.during,i=a.isFrom,k=a.removeOpt,a=a.dataIndex);var j="leave"===g;j||c.stopAnimation("leave");var e=mi(g,f,a,j?k||{}:null,f&&f.getAnimationDelayParams?f.getAnimationDelayParams(c,a):null);if(e&&e.duration>0){var m=e.duration,n=e.delay,o=e.easing,l={duration:m,delay:n||0,easing:o,done:b,force:!!b||!!d,setToFinal:!j,scope:g,during:d};i?c.animateFrom(h,l):c.animateTo(h,l)}else c.stopAnimation(),i||c.attr(h),d&&d(1),b&&b()}function mk(a,b,c,d,e,f){mj("update",a,b,c,d,e,f)}function ml(a,b,c,d,e,f){mj("enter",a,b,c,d,e,f)}function mm(a){if(!a.__zr)return!0;for(var b=0;b<a.animators.length;b++)if("leave"===a.animators[b].scope)return!0;return!1}function mn(a,b,c,d,e,f){!mm(a)&&mj("leave",a,b,c,d,e,f)}function mo(a,b,c,d){a.removeTextContent(),a.removeTextGuideLine(),mn(a,{style:{opacity:0}},b,c,d)}function mp(a,b,c){function d(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(a){a.isGroup||mo(a,b,c,d)}):mo(a,b,c,d)}function mq(a){mh(a).oldStyle=a.style}var mr={};function ms(a,d){for(var b=0;b<lF.length;b++){var e=lF[b],f=d[e],c=a.ensureState(e);c.style=c.style||{},c.style.text=f}var g=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:d.normal}),a.useStates(g,!0)}function mt(a,h,d){var b,c=a.labelFetcher,e=a.labelDataIndex,i=a.labelDimIndex,j=h.normal;c&&(b=c.getFormattedLabel(e,"normal",null,i,j&&j.get("formatter"),null!=d?{interpolatedValue:d}:null)),null==b&&(b=cw(a.defaultText)?a.defaultText(e,a,d):a.defaultText);for(var k={normal:b},f=0;f<lF.length;f++){var g=lF[f],l=h[g];k[g]=f$(c?c.getFormattedLabel(e,g,null,i,l&&l.get("formatter")):null,b)}return k}function mu(b,h,c,i){c=c||mr;for(var f=b instanceof bh,n=!1,d=0;d<lG.length;d++){var e=h[lG[d]];if(e&&e.getShallow("show")){n=!0;break}}var a=f?b:b.getTextContent();if(n){!f&&(a||(a=new bh,b.setTextContent(a)),b.stateProxy&&(a.stateProxy=b.stateProxy));var o=mt(c,h),j=h.normal,l=!!j.getShallow("show"),k=mw(j,i&&i.normal,c,!1,!f);k.text=o.normal,f||b.setTextConfig(mx(j,c,!1));for(var d=0;d<lF.length;d++){var g=lF[d],e=h[g];if(e){var m=a.ensureState(g),p=!!f$(e.getShallow("show"),l);p!==l&&(m.ignore=!p),m.style=mw(e,i&&i[g],c,!0,!f),m.style.text=o[g],!f&&(b.ensureState(g).textConfig=mx(e,c,!0))}}a.silent=!!j.getShallow("silent"),null!=a.style.x&&(k.x=a.style.x),null!=a.style.y&&(k.y=a.style.y),a.ignore=!l,a.useStyle(k),a.dirty(),c.enableTextSetter&&(mF(a).setLabelText=function(b){var d=mt(c,h,b);ms(a,d)})}else a&&(a.ignore=!0);b.dirty()}function mv(c,a){a=a||"label";for(var d={normal:c.getModel(a)},b=0;b<lF.length;b++){var e=lF[b];d[e]=c.getModel([e,a])}return d}function mw(c,b,d,e,f){var a={};return my(a,c,d,e,f),b&&fP(a,b),a}function mx(b,c,f){c=c||{};var d,a={},e=b.getShallow("rotate"),g=f$(b.getShallow("distance"),f?null:5),h=b.getShallow("offset");return"outside"===(d=b.getShallow("position")||(f?null:"inside"))&&(d=c.defaultOutsidePosition||"top"),null!=d&&(a.position=d),null!=h&&(a.offset=h),null!=e&&(e*=Math.PI/180,a.rotation=e),null!=g&&(a.distance=g),a.outsideFill="inherit"===b.get("color")?c.inheritColor||null:"auto",a}function my(b,a,c,g,h){c=c||mr;var d,i=a.ecModel,j=i&&i.option.textStyle,e=mz(a);if(e){for(var f in d={},e)if(e.hasOwnProperty(f)){var m=a.getModel(["rich",f]);mD(d[f]={},m,j,c,g,h,!1,!0)}}d&&(b.rich=d);var k=a.get("overflow");k&&(b.overflow=k);var l=a.get("minMargin");null!=l&&(b.margin=l),mD(b,a,j,c,g,h,!0,!1)}function mz(a){for(var b;a&&a!==a.ecModel;){var d=(a.option||mr).rich;if(d){b=b||{};for(var e=ap(d),c=0;c<e.length;c++)b[e[c]]=1}a=a.parentModel}return b}var mA=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],mB=["align","lineHeight","width","height","tag","verticalAlign"],mC=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function mD(a,b,d,g,l,m,s,t){d=!l&&d||mr;var j=g&&g.inheritColor,h=b.getShallow("color"),i=b.getShallow("textBorderColor"),k=f$(b.getShallow("opacity"),d.opacity);("inherit"===h||"auto"===h)&&(h=j||null),("inherit"===i||"auto"===i)&&(i=j||null),m||(h=h||d.color,i=i||d.textBorderColor),null!=h&&(a.fill=h),null!=i&&(a.stroke=i);var n=f$(b.getShallow("textBorderWidth"),d.textBorderWidth);null!=n&&(a.lineWidth=n);var o=f$(b.getShallow("textBorderType"),d.textBorderType);null!=o&&(a.lineDash=o);var p=f$(b.getShallow("textBorderDashOffset"),d.textBorderDashOffset);null!=p&&(a.lineDashOffset=p),l||null!=k||t||(k=g&&g.defaultOpacity),null!=k&&(a.opacity=k),l||m||null!=a.fill||!g.inheritColor||(a.fill=g.inheritColor);for(var c=0;c<mA.length;c++){var e=mA[c],f=f$(b.getShallow(e),d[e]);null!=f&&(a[e]=f)}for(var c=0;c<mB.length;c++){var e=mB[c],f=b.getShallow(e);null!=f&&(a[e]=f)}if(null==a.verticalAlign){var q=b.getShallow("baseline");null!=q&&(a.verticalAlign=q)}if(!s||!g.disableBox){for(var c=0;c<mC.length;c++){var e=mC[c],f=b.getShallow(e);null!=f&&(a[e]=f)}var r=b.getShallow("borderType");null!=r&&(a.borderDash=r),("auto"===a.backgroundColor||"inherit"===a.backgroundColor)&&j&&(a.backgroundColor=j),("auto"===a.borderColor||"inherit"===a.borderColor)&&j&&(a.borderColor=j)}}function mE(b,c){var a=c&&c.getModel("textStyle");return f2([b.fontStyle||a&&a.getShallow("fontStyle")||"",b.fontWeight||a&&a.getShallow("fontWeight")||"",(b.fontSize||a&&a.getShallow("fontSize")||12)+"px",b.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var mF=a();function mG(b,c,e,f){if(b){var a=mF(b);a.prevValue=a.value,a.value=e;var d=c.normal;a.valueAnimation=d.get("valueAnimation"),a.valueAnimation&&(a.precision=d.get("precision"),a.defaultInterpolatedText=f,a.statesModels=c)}}function mH(b,c,e,d,f){var a=mF(b);if(a.valueAnimation&&a.prevValue!==a.value){var g=a.defaultInterpolatedText,h=f$(a.interpolatedValue,a.prevValue),i=a.value;b.percent=0,(null==a.prevValue?ml:mk)(b,{percent:1},d,c,null,function(j){var d=jW(e,a.precision,h,i,j);a.interpolatedValue=1===j?null:d;var k=mt({labelDataIndex:c,labelFetcher:f,defaultText:g?g(d):d+""},a.statesModels,d);ms(b,k)})}}var aE,bi,mI=["textStyle","color"],mJ=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],mK=new bh,cX=function(){function a(){}return a.prototype.getTextColor=function(b){var a=this.ecModel;return this.getShallow("color")||(!b&&a?a.get(mI):null)},a.prototype.getFont=function(){return mE({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(c){for(var b={text:c,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},a=0;a<mJ.length;a++)b[mJ[a]]=this.getShallow(mJ[a]);return mK.useStyle(b),mK.update(),mK.getBoundingRect()},a}(),bj=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],mL=I(bj),cY=function(){function a(){}return a.prototype.getLineStyle=function(a){return mL(this,a)},a}(),bk=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],mM=I(bk),cZ=function(){function a(){}return a.prototype.getItemStyle=function(a,b){return mM(this,a,b)},a}(),A=function(){function a(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}return a.prototype.init=function(c,d,e){for(var b=[],a=3;a<arguments.length;a++)b[a-3]=arguments[a]},a.prototype.mergeOption=function(a,b){an(this.option,a,!0)},a.prototype.get=function(a,b){return null==a?this.option:this._doGet(this.parsePath(a),!b&&this.parentModel)},a.prototype.getShallow=function(c,e){var a=this.option,b=null==a?a:a[c];if(null==b&&!e){var d=this.parentModel;d&&(b=d.getShallow(c))}return b},a.prototype.getModel=function(c,b){var d=null!=c,e=d?this.parsePath(c):null,f=d?this._doGet(e):this.option;return b=b||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(e)),new a(f,b,this.ecModel)},a.prototype.isEmpty=function(){return null==this.option},a.prototype.restoreData=function(){},a.prototype.clone=function(){return new this.constructor(ct(this.option))},a.prototype.parsePath=function(a){return"string"==typeof a?a.split("."):a},a.prototype.resolveParentPath=function(a){return a},a.prototype.isAnimationEnabled=function(){if(!u.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(b,d){var a=this.option;if(!b)return a;for(var c=0;c<b.length&&(!b[c]||null!=(a=a&&"object"==typeof a?a[b[c]]:null));c++);return null==a&&d&&(a=d._doGet(this.resolveParentPath(b),d.parentModel)),a},a}();av(A),aE=A,bi=["__\0is_clz",cO++].join("_"),aE.prototype[bi]=!0,aE.isInstance=function(a){return!!(a&&a[bi])},h(A,cY),h(A,cZ),h(A,cP),h(A,cX);var _=A,mN=Math.round(10*Math.random());function mO(a){return[a||"",mN++].join("_")}function mP(a,b){return an(an({},a,!0),b,!0)}var mQ={},mR={},mS=u.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")> -1?"ZH":"EN";function bl(a,b){mR[a=a.toUpperCase()]=new _(b),mQ[a]=b}function mT(a){return mR[a]}bl("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),bl("ZH",{time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}});var aa=36e5,J=24*aa,bm=365*J,ab={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},ac="{yyyy}-{MM}-{dd}",mU={year:"{yyyy}",month:"{yyyy}-{MM}",day:ac,hour:ac+" "+ab.hour,minute:ac+" "+ab.minute,second:ac+" "+ab.second,millisecond:ab.none},mV=["year","month","day","hour","minute","second","millisecond"],mW=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function mX(a,b){return a+="","0000".substr(0,b-a.length)+a}function mY(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function mZ(a){return a===mY(a)}function m$(n,o,a,e){var b=jm(n),h=b[m1(a)](),c=b[m2(a)]()+1,i=b[m3(a)](),f=b["get"+(a?"UTC":"")+"Day"](),g=b[m4(a)](),j=(g-1)%12+1,k=b[m5(a)](),l=b[m6(a)](),m=b[m7(a)](),d=(e instanceof _?e:mT(e||mS)||mR.EN).getModel("time"),p=d.get("month"),q=d.get("monthAbbr"),r=d.get("dayOfWeek"),s=d.get("dayOfWeekAbbr");return(o||"").replace(/{yyyy}/g,h+"").replace(/{yy}/g,h%100+"").replace(/{Q}/g,Math.floor((c-1)/3)+1+"").replace(/{MMMM}/g,p[c-1]).replace(/{MMM}/g,q[c-1]).replace(/{MM}/g,mX(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,mX(i,2)).replace(/{d}/g,i+"").replace(/{eeee}/g,r[f]).replace(/{ee}/g,s[f]).replace(/{e}/g,f+"").replace(/{HH}/g,mX(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,mX(j+"",2)).replace(/{h}/g,j+"").replace(/{mm}/g,mX(k,2)).replace(/{m}/g,k+"").replace(/{ss}/g,mX(l,2)).replace(/{s}/g,l+"").replace(/{SSS}/g,mX(m,3)).replace(/{S}/g,m+"")}function m_(h,a){var b=jm(h),i=b[m2(a)]()+1,j=b[m3(a)](),k=b[m4(a)](),l=b[m5(a)](),m=b[m6(a)](),n=b[m7(a)](),c=0===n,d=c&&0===m,e=d&&0===l,f=e&&0===k,g=f&&1===j;if(g&&1===i)return"year";if(g)return"month";if(f)return"day";if(e)return"hour";if(d)return"minute";else if(c)return"second";else return"millisecond"}function m0(c,d,a){var b=fV(c)?jm(c):c;switch(d=d||m_(c,a)){case"year":return b[m1(a)]();case"half-year":return b[m2(a)]()>=6?1:0;case"quarter":return Math.floor((b[m2(a)]()+1)/4);case"month":return b[m2(a)]();case"day":return b[m3(a)]();case"half-day":return b[m4(a)]()/24;case"hour":return b[m4(a)]();case"minute":return b[m5(a)]();case"second":return b[m6(a)]();case"millisecond":return b[m7(a)]()}}function m1(a){return a?"getUTCFullYear":"getFullYear"}function m2(a){return a?"getUTCMonth":"getMonth"}function m3(a){return a?"getUTCDate":"getDate"}function m4(a){return a?"getUTCHours":"getHours"}function m5(a){return a?"getUTCMinutes":"getMinutes"}function m6(a){return a?"getUTCSeconds":"getSeconds"}function m7(a){return a?"getUTCMilliseconds":"getMilliseconds"}function m8(a){return a?"setUTCFullYear":"setFullYear"}function m9(a){return a?"setUTCMonth":"setMonth"}function na(a){return a?"setUTCDate":"setDate"}function nb(a){return a?"setUTCHours":"setHours"}function nc(a){return a?"setUTCMinutes":"setMinutes"}function nd(a){return a?"setUTCSeconds":"setSeconds"}function ne(a){return a?"setUTCMilliseconds":"setMilliseconds"}function nf(a){if(!js(a))return fT(a)?a:"-";var b=(a+"").split(".");return b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(b.length>1?"."+b[1]:"")}function ng(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(b,a){return a.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var nh=cy,ni=/([&<>"'])/g,nj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function nk(a){return null==a?"":(a+"").replace(ni,function(b,a){return nj[a]})}function nl(a,b,i){function c(a){return a&&f2(a)?a:"-"}function d(a){return!!(null!=a&&!isNaN(a)&&isFinite(a))}var e="time"===b,f=a instanceof Date;if(e||f){var g=e?jm(a):a;if(!isNaN(+g))return m$(g,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",i);if(f)return"-"}if("ordinal"===b)return fU(a)?c(a):fV(a)&&d(a)?a+"":"-";var h=jr(a);return d(h)?nf(h):fU(a)?c(a):"boolean"==typeof a?a+"":"-"}var nm=["a","b","c","d","e","f","g"],nn=function(b,a){return"{"+b+(null==a?"":a)+"}"};function no(b,a,j){cv(a)||(a=[a]);var g=a.length;if(!g)return"";for(var e=a[0].$vars||[],f=0;f<e.length;f++){var h=nm[f];b=b.replace(nn(h),nn(h,0))}for(var c=0;c<g;c++)for(var d=0;d<e.length;d++){var i=a[c][e[d]];b=b.replace(nn(nm[d],c),j?nk(i):i)}return b}function np(a,b){return b=b||"transparent",fT(a)?a:aq(a)&&a.colorStops&&(a.colorStops[0]||{}).color||b}function nq(b,a){if("_blank"===a||"blank"===a){var c=window.open();c.opener=null,c.location.href=b}else window.open(b,a)}var nr=j,ns=["left","right","top","bottom","width","height"],nt=[["width","left","right"],["height","top","bottom"]];function aF(d,c,e,a,b){var f=0,g=0;null==a&&(a=1/0),null==b&&(b=1/0);var h=0;c.eachChild(function(j,q){var l,m,i=j.getBoundingRect(),n=c.childAt(q+1),k=n&&n.getBoundingRect();if("horizontal"===d){var o=i.width+(k?-k.x+i.x:0);(l=f+o)>a||j.newline?(f=0,l=o,g+=h+e,h=i.height):h=Math.max(h,i.height)}else{var p=i.height+(k?-k.y+i.y:0);(m=g+p)>b||j.newline?(f+=h+e,g=0,m=p,h=i.width):h=Math.max(h,i.width)}!j.newline&&(j.x=f,j.y=g,j.markRedraw(),"horizontal"===d?f=l+e:g=m+e)})}var nu=aF;function nv(a,i,b){var c=i.width,d=i.height,e=je(a.left,c),f=je(a.top,d),g=je(a.right,c),h=je(a.bottom,d);return(isNaN(e)||isNaN(parseFloat(a.left)))&&(e=0),(isNaN(g)||isNaN(parseFloat(a.right)))&&(g=c),(isNaN(f)||isNaN(parseFloat(a.top)))&&(f=0),(isNaN(h)||isNaN(parseFloat(a.bottom)))&&(h=d),b=nh(b||0),{width:Math.max(g-e-b[1]-b[3],0),height:Math.max(h-f-b[0]-b[2],0)}}function nw(c,n,d){d=nh(d||0);var e=n.width,f=n.height,g=je(c.left,e),h=je(c.top,f),l=je(c.right,e),m=je(c.bottom,f),a=je(c.width,e),b=je(c.height,f),i=d[2]+d[0],j=d[1]+d[3],k=c.aspect;switch(isNaN(a)&&(a=e-l-j-g),isNaN(b)&&(b=f-m-i-h),null!=k&&(isNaN(a)&&isNaN(b)&&(k>e/f?a=.8*e:b=.8*f),isNaN(a)&&(a=k*b),isNaN(b)&&(b=a/k)),isNaN(g)&&(g=e-l-a-j),isNaN(h)&&(h=f-m-b-i),c.left||c.right){case"center":g=e/2-a/2-d[3];break;case"right":g=e-a-j}switch(c.top||c.bottom){case"middle":case"center":h=f/2-b/2-d[0];break;case"bottom":h=f-b-i}g=g||0,h=h||0,isNaN(a)&&(a=e-j-g-(l||0)),isNaN(b)&&(b=f-i-h-(m||0));var o=new as(g+d[3],h+d[0],a,b);return o.margin=d,o}function nx(a,e,l,m,b,c){var d,f=!b||!b.hv||b.hv[0],g=!b||!b.hv||b.hv[1],h=b&&b.boundingMode||"all";if((c=c||a).x=a.x,c.y=a.y,!f&&!g)return!1;if("raw"===h)d="group"===a.type?new as(0,0,+e.width||0,+e.height||0):a.getBoundingRect();else if(d=a.getBoundingRect(),a.needLocalTransform()){var n=a.getLocalTransform();(d=d.clone()).applyTransform(n)}var i=nw(x({width:d.width,height:d.height},e),l,m),j=f?i.x-d.x:0,k=g?i.y-d.y:0;return"raw"===h?(c.x=j,c.y=k):(c.x+=j,c.y+=k),c===a&&a.markRedraw(),!0}function ny(b){var a=b.layoutMode||b.constructor.layoutMode;return aq(a)?a:a?{type:a}:null}function nz(b,g,c){var a=c&&c.ignoreSize;cv(a)||(a=[a,a]);var e=h(nt[0],0),f=h(nt[1],1);function h(c,l){var d={},k=0,e={},m=0;if(nr(c,function(a){e[a]=b[a]}),nr(c,function(a){i(g,a)&&(d[a]=e[a]=g[a]),j(d,a)&&k++,j(e,a)&&m++}),a[l])return j(g,c[1])?e[c[2]]=null:j(g,c[2])&&(e[c[1]]=null),e;if(2===m||!k)return e;if(k>=2)return d;for(var h=0;h<c.length;h++){var f=c[h];if(!i(d,f)&&i(b,f)){d[f]=b[f];break}}return d}function i(a,b){return a.hasOwnProperty(b)}function j(a,b){return null!=a[b]&&"auto"!==a[b]}function d(a,b,c){nr(a,function(a){b[a]=c[a]})}d(nt[0],b,e),d(nt[1],b,f)}function nA(a){return nB({},a)}function nB(a,b){return b&&a&&nr(ns,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}m(aF,"vertical"),m(aF,"horizontal");var bn,c$,nC=a(),R=function(c){var b;function a(b,d,e){var a=c.call(this,b,d,e)||this;return a.uid=mO("ec_cpt_model"),a}return cp(a,c),a.prototype.init=function(a,c,b){this.mergeDefaultAndTheme(a,b)},a.prototype.mergeDefaultAndTheme=function(a,c){var b=ny(this),d=b?nA(a):{};an(a,c.getTheme().get(this.mainType)),an(a,this.getDefaultOption()),b&&nz(a,d,b)},a.prototype.mergeOption=function(a,c){an(this.option,a,!0);var b=ny(this);b&&nz(this.option,a,b)},a.prototype.optionUpdated=function(a,b){},a.prototype.getDefaultOption=function(){var g,b=this.constructor;if(!(g=b)||!g[jY])return b.defaultOption;var c=nC(this);if(!c.defaultOption){for(var d=[],a=b;a;){var h=a.prototype.defaultOption;h&&d.push(h),a=a.superClass}for(var e={},f=d.length-1;f>=0;f--)e=an(e,d[f],!0);c.defaultOption=e}return c.defaultOption},a.prototype.getReferringComponents=function(a,b){return jT(this.ecModel,a,{index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)},b)},a.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},a.prototype.getZLevelKey=function(){return""},a.prototype.setZLevel=function(a){this.option.zlevel=a},a.protoInitialize=void((b=a.prototype).type="component",b.id="",b.name="",b.mainType="",b.subType="",b.componentIndex=0),a}(_);bd(R,_),$(R),c$={},(bn=R).registerSubTypeDefaulter=function(a,b){c$[jZ(a).main]=b},bn.determineSubType=function(b,c){var a=c.type;if(!a){var d=jZ(b).main;bn.hasSubTypes(b)&&c$[d]&&(a=c$[d](c))}return a},function(a,b){function c(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function d(a,c){var b=[];return j(a,function(a){fQ(c,a)>=0&&b.push(a)}),b}a.topologicalTravel=function(f,o,p,q){if(f.length){var g,h,i,k=(g=o,h={},i=[],j(g,function(a){var e=c(h,a),k=e.originalDeps=b(a),f=d(k,g);e.entryCount=f.length,0===e.entryCount&&i.push(a),j(f,function(b){0>fQ(e.predecessor,b)&&e.predecessor.push(b);var d=c(h,b);0>fQ(d.successor,b)&&d.successor.push(a)})}),{graph:h,noEntryList:i}),r=k.graph,l=k.noEntryList,e={};for(j(f,function(a){e[a]=!0});l.length;){var a=l.pop(),m=r[a],n=!!e[a];n&&(p.call(q,a,m.originalDeps.slice()),delete e[a]),j(m.successor,n?t:s)}j(e,function(){throw Error("")})}function s(a){r[a].entryCount--,0===r[a].entryCount&&l.push(a)}function t(a){e[a]=!0,s(a)}}}(R,function(b){var a=[];return j(R.getClassesByMainType(b),function(b){a=a.concat(b.dependencies||b.prototype.dependencies||[])}),a=Y(a,function(a){return jZ(a).main}),"dataset"!==b&&0>=fQ(a,"dataset")&&a.unshift("dataset"),a});var d=R,bo="";"undefined"!=typeof navigator&&(bo=navigator.platform||"");var K="rgba(0, 0, 0, 0.2)",nD={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:K,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:K,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:K,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:K,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:K,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:K,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:bo.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},nE=s(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),aG="original",S="arrayRows",aH="objectRows",aI="keyedColumns",c_="typedArray",nF="unknown",bp="column",nG={Must:1,Might:2,Not:3},nH=a();function nI(a,c,i){var l,k,b={},d=nK(c);if(!d||!a)return b;var e=[],f=[],g=nH(c.ecModel).datasetMap,h=d.uid+"_"+i.seriesLayoutBy;j(a=a.slice(),function(c,e){var d=aq(c)?c:a[e]={name:c};"ordinal"===d.type&&null==l&&(l=e,k=o(d)),b[d.name]=[]});var m=g.get(h)||g.set(h,{categoryWayDim:k,valueWayDim:0});function n(b,c,d){for(var a=0;a<d;a++)b.push(c+a)}function o(b){var a=b.dimsDef;return a?a.length:1}return j(a,function(g,h){var d=g.name,a=o(g);if(null==l){var c=m.valueWayDim;n(b[d],c,a),n(f,c,a),m.valueWayDim+=a}else if(l===h)n(b[d],0,a),n(e,0,a);else{var c=m.categoryWayDim;n(b[d],c,a),n(f,c,a),m.categoryWayDim+=a}}),e.length&&(b.itemName=e),f.length&&(b.seriesName=f),b}function nJ(g,c,i){var d,a={};if(!nK(g))return a;var e=c.sourceFormat,h=c.dimensionsDefine;(e===aH||e===aI)&&j(h,function(a,b){(aq(a)?a.name:a)==="name"&&(d=b)});var b=function(){for(var a={},f={},g=[],b=0,m=Math.min(5,i);b<m;b++){var j=nM(c.data,e,c.seriesLayoutBy,h,c.startIndex,b);g.push(j);var k=j===nG.Not;if(k&&null==a.v&&b!==d&&(a.v=b),null!=a.n&&a.n!==a.v&&(k||g[a.n]!==nG.Not)||(a.n=b),l(a)&&g[a.n]!==nG.Not)return a;k||(j===nG.Might&&null==f.v&&b!==d&&(f.v=b),null!=f.n&&f.n!==f.v||(f.n=b))}function l(a){return null!=a.v&&null!=a.n}return l(a)?a:l(f)?f:null}();if(b){a.value=[b.v];var f=null!=d?d:b.n;a.itemName=[f],a.seriesName=[f]}return a}function nK(a){if(!a.get("data",!0))return jT(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},jR).models[0]}function nL(a,b){return nM(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function nM(e,g,r,l,m,h){var b,d,j;if(fX(e))return nG.Not;if(l){var f=l[h];aq(f)?(d=f.name,j=f.type):fT(f)&&(d=f)}if(null!=j)return"ordinal"===j?nG.Must:nG.Not;if(g===S){var k=e;if("row"===r){for(var c=k[h],a=0;a<(c||[]).length&&a<5;a++)if(null!=(b=t(c[m+a])))return b}else for(var a=0;a<k.length&&a<5;a++){var n=k[m+a];if(n&&null!=(b=t(n[h])))return b}}else if(g===aH){var o=e;if(!d)return nG.Not;for(var a=0;a<o.length&&a<5;a++){var i=o[a];if(i&&null!=(b=t(i[d])))return b}}else if(g===aI){var s=e;if(!d)return nG.Not;var c=s[d];if(!c||fX(c))return nG.Not;for(var a=0;a<c.length&&a<5;a++)if(null!=(b=t(c[a])))return b}else if(g===aG)for(var p=e,a=0;a<p.length&&a<5;a++){var i=p[a],q=jz(i);if(!cv(q))return nG.Not;if(null!=(b=t(q[h])))return b}function t(a){var b=fT(a);return null!=a&&isFinite(a)&&""!==a?b?nG.Might:nG.Not:b&&"-"!==a?nG.Must:void 0}return nG.Not}var nN=s(),nO=a(),nP=a(),bq=function(){function a(){}return a.prototype.getColorFromPalette=function(a,b,c){var d=jw(this.get("color",!0));return nR(this,nO,d,this.get("colorLayer",!0),a,b,c)},a.prototype.clearColorPalette=function(){nS(this,nO)},a}();function nQ(a,b,c,d){var e=jw(a.get(["aria","decal","decals"]));return nR(a,nP,e,null,b,c,d)}function nR(k,l,f,g,b,d,h){d=d||k;var c=l(d),i=c.paletteIdx||0,e=c.paletteNameMap=c.paletteNameMap||{};if(e.hasOwnProperty(b))return e[b];var a=null!=h&&g?function(a,d){for(var c=a.length,b=0;b<c;b++)if(a[b].length>d)return a[b];return a[c-1]}(g,h):f;if((a=a||f)&&a.length){var j=a[i];return b&&(e[b]=j),c.paletteIdx=(i+1)%a.length,j}}function nS(a,b){b(a).paletteIdx=0,b(a).paletteNameMap={}}var nT="\0_ec_inner",br=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.init=function(d,e,f,a,b,c){a=a||{},this.option=null,this._theme=new _(a),this._locale=new _(b),this._optionManager=c},a.prototype.setOption=function(b,c,d){var a=nY(c);this._optionManager.setOption(b,d,a),this._resetOption(null,a)},a.prototype.resetOption=function(a,b){return this._resetOption(a,nY(b))},a.prototype._resetOption=function(a,d){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var e=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this._mergeOption(e,d)):e1(this,e),b=!0}if(("timeline"===a||"media"===a)&&this.restoreData(),!a||"recreate"===a||"timeline"===a){var f=c.getTimelineOption(this);f&&(b=!0,this._mergeOption(f,d))}if(!a||"recreate"===a||"media"===a){var g=c.getMediaOption(this);g.length&&j(g,function(a){b=!0,this._mergeOption(a,d)},this)}return b},a.prototype.mergeOption=function(a){this._mergeOption(a,null)},a.prototype._mergeOption=function(e,a){var b,g=this.option,h=this._componentsMap,i=this._componentsCount,f=[],k=s(),c=a&&a.replaceMergeMainTypeMap;b=this,nH(b).datasetMap=s(),j(e,function(b,a){null!=b&&(d.hasClass(a)?a&&(f.push(a),k.set(a,!0)):g[a]=null==g[a]?ct(b):an(g[a],b,!0))}),c&&c.each(function(b,a){d.hasClass(a)&&!k.get(a)&&(f.push(a),k.set(a,!0))}),d.topologicalTravel(f,d.getAllClassMainTypes(),function(a){var s,b,l,m,n=function(d,e,a){var b=nN.get(e);if(!b)return a;var c=b(d);return c?a.concat(c):a}(this,a,jw(e[a])),f=h.get(a),o=f?c&&c.get(a)?"replaceMerge":"normalMerge":"replaceAll",k=jB(f,n,o);b=k,l=a,m=d,j(b,function(a){var d,b,c,e,f=a.newOption;aq(f)&&(a.keyInfo.mainType=l,a.keyInfo.subType=(d=l,b=f,c=a.existing,e=m,b.type?b.type:c?c.subType:e.determineSubType(d,b)))}),g[a]=null,h.set(a,null),i.set(a,0);var p=[],q=[],r=0;j(k,function(c,h){var b=c.existing,e=c.newOption;if(e){var i="series"===a,f=d.getClass(a,c.keyInfo.subType,!i);if(!f)return;if("tooltip"===a){if(s)return;s=!0}if(b&&b.constructor===f)b.name=c.keyInfo.name,b.mergeOption(e,this),b.optionUpdated(e,!1);else{var g=fP({componentIndex:h},c.keyInfo);b=new f(e,this,this,g),fP(b,g),c.brandNew&&(b.__requireNewView=!0),b.init(e,this,this),b.optionUpdated(null,!0)}}else b&&(b.mergeOption({},this),b.optionUpdated({},!1));b?(p.push(b.option),q.push(b),r++):(p.push(void 0),q.push(void 0))},this),g[a]=p,h.set(a,q),i.set(a,r),"series"===a&&e_(this)},this),this._seriesIndices||e_(this)},a.prototype.getOption=function(){var a=ct(this.option);return j(a,function(h,f){if(d.hasClass(f)){for(var b=jw(h),e=b.length,g=!1,c=e-1;c>=0;c--)b[c]&&!jM(b[c])?g=!0:(b[c]=null,!g&&e--);b.length=e,a[f]=b}}),delete a[nT],a},a.prototype.getTheme=function(){return this._theme},a.prototype.getLocaleModel=function(){return this._locale},a.prototype.setUpdatePayload=function(a){this._payload=a},a.prototype.getUpdatePayload=function(){return this._payload},a.prototype.getComponent=function(e,c){var a=this._componentsMap.get(e);if(a){var d=a[c||0];if(d)return d;if(null==c){for(var b=0;b<a.length;b++)if(a[b])return a[b]}}},a.prototype.queryComponents=function(a){var c,d=a.mainType;if(!d)return[];var e=a.index,f=a.id,g=a.name,b=this._componentsMap.get(d);return b&&b.length?(null!=e?(c=[],j(jw(e),function(a){b[a]&&c.push(b[a])})):c=null!=f?nW("id",f,b):null!=g?nW("name",g,b):fS(b,function(a){return!!a}),nX(c,a)):[]},a.prototype.findComponents=function(b){var a,d,e,f,g,i=b.query,c=b.mainType,h=(a=i,d=c+"Index",e=c+"Id",f=c+"Name",a&&(null!=a[d]||null!=a[e]||null!=a[f])?{mainType:c,index:a[d],id:a[e],name:a[f]}:null),j=h?this.queryComponents(h):fS(this._componentsMap.get(c),function(a){return!!a});return g=nX(j,b),b.filter?fS(g,b.filter):g},a.prototype.eachComponent=function(a,e,g){var f=this._componentsMap;if(cw(a)){var h=e,i=a;f.each(function(a,d){for(var b=0;a&&b<a.length;b++){var c=a[b];c&&i.call(h,d,c,c.componentIndex)}})}else for(var b=fT(a)?f.get(a):aq(a)?this.findComponents(a):null,c=0;b&&c<b.length;c++){var d=b[c];d&&e.call(g,d,d.componentIndex)}},a.prototype.getSeriesByName=function(a){var b=jK(a,null);return fS(this._componentsMap.get("series"),function(a){return!!a&&null!=b&&a.name===b})},a.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},a.prototype.getSeriesByType=function(a){return fS(this._componentsMap.get("series"),function(b){return!!b&&b.subType===a})},a.prototype.getSeries=function(){return fS(this._componentsMap.get("series"),function(a){return!!a})},a.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},a.prototype.eachSeries=function(a,b){e0(this),j(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},a.prototype.eachRawSeries=function(a,b){j(this._componentsMap.get("series"),function(c){c&&a.call(b,c,c.componentIndex)})},a.prototype.eachSeriesByType=function(a,b,c){e0(this),j(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},a.prototype.eachRawSeriesByType=function(a,b,c){return j(this.getSeriesByType(a),b,c)},a.prototype.isSeriesFiltered=function(a){return e0(this),null==this._seriesIndicesMap.get(a.componentIndex)},a.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},a.prototype.filterSeries=function(b,c){e0(this);var a=[];j(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];b.call(c,e,d)&&a.push(d)},this),this._seriesIndices=a,this._seriesIndicesMap=s(a)},a.prototype.restoreData=function(c){e_(this);var a=this._componentsMap,b=[];a.each(function(c,a){d.hasClass(a)&&b.push(a)}),d.topologicalTravel(b,d.getAllClassMainTypes(),function(b){j(a.get(b),function(a){a&&("series"!==b||!nU(a,c))&&a.restoreData()})})},a.internalField=void(e_=function(a){var b=a._seriesIndices=[];j(a._componentsMap.get("series"),function(a){a&&b.push(a.componentIndex)}),a._seriesIndicesMap=s(b)},e0=function(a){},e1=function(a,b){a.option={},a.option[nT]=1,a._componentsMap=s({series:[]}),a._componentsCount=s();var c=b.aria;aq(c)&&null==c.enabled&&(c.enabled=!0),nV(b,a._theme.option),an(b,nD,!1),a._mergeOption(b,null)}),a}(_);function nU(b,a){if(a){var c=a.seriesIndex,d=a.seriesId,e=a.seriesName;return null!=c&&b.componentIndex!==c||null!=d&&b.id!==d||null!=e&&b.name!==e}}function nV(a,b){var c=a.color&&!a.colorLayer;j(b,function(e,b){("colorLayer"!==b||!c)&&(d.hasClass(b)||("object"==typeof e?a[b]=a[b]?an(a[b],e,!1):ct(e):null!=a[b]||(a[b]=e)))})}function nW(c,a,b){if(cv(a)){var d=s();return j(a,function(a){null!=a&&null!=jK(a,null)&&d.set(a,!0)}),fS(b,function(a){return a&&d.get(a[c])})}var e=jK(a,null);return fS(b,function(a){return a&&null!=e&&a[c]===e})}function nX(a,b){return b.hasOwnProperty("subType")?fS(a,function(a){return a&&a.subType===b.subType}):a}function nY(a){var b=s();return a&&j(jw(a.replaceMerge),function(a){b.set(a,!0)}),{replaceMergeMainTypeMap:b}}h(br,bq);var c0=br,nZ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],c1=function(a){j(nZ,function(b){this[b]=cu(a[b],a)},this)},n$={},n_=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(b,c){var a=[];j(n$,function(d,f){var e=d.create(b,c);a=a.concat(e||[])}),this._coordinateSystems=a},a.prototype.update=function(a,b){j(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(a,b){n$[a]=b},a.get=function(a){return n$[a]},a}(),n0=/^(min|max)?(.+)$/,c2=function(){function a(a){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=a}return a.prototype.setOption=function(b,d,e){b&&(j(jw(b.series),function(a){a&&a.data&&fX(a.data)&&f4(a.data)}),j(jw(b.dataset),function(a){a&&a.source&&fX(a.source)&&f4(a.source)})),b=ct(b);var c=this._optionBackup,a=n1(b,d,!c);this._newBaseOption=a.baseOption,c?(a.timelineOptions.length&&(c.timelineOptions=a.timelineOptions),a.mediaList.length&&(c.mediaList=a.mediaList),a.mediaDefault&&(c.mediaDefault=a.mediaDefault)):this._optionBackup=a},a.prototype.mountOption=function(b){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],ct(b?a.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(d){var a,b=this._timelineOptions;if(b.length){var c=d.getComponent("timeline");c&&(a=ct(b[c.getCurrentIndex()]))}return a},a.prototype.getMediaOption=function(i){var f=this._api.getWidth(),g=this._api.getHeight(),c=this._mediaList,e=this._mediaDefault,a=[],d=[];if(!c.length&&!e)return d;for(var b=0,h=c.length;b<h;b++)n2(c[b].query,f,g)&&a.push(b);return!a.length&&e&&(a=[-1]),a.length&&!n4(a,this._currentMediaIndices)&&(d=Y(a,function(a){return ct(-1===a?e.option:c[a].option)})),this._currentMediaIndices=a,d},a}();function n1(a,m,n){var i,b,e=[],c=a.baseOption,f=a.timeline,d=a.options,g=a.media,h=!!a.media,k=!!(d||f||c&&c.timeline);function l(a){j(m,function(b){b(a,n)})}return c?(b=c).timeline||(b.timeline=f):((k||h)&&(a.options=a.media=null),b=a),h&&cv(g)&&j(g,function(a){a&&a.option&&(a.query?e.push(a):i||(i=a))}),l(b),j(d,function(a){return l(a)}),j(e,function(a){return l(a.option)}),{baseOption:b,timelineOptions:d||[],mediaDefault:i,mediaList:e}}function n2(c,a,b){var e={width:a,height:b,aspectratio:a/b},d=!0;return j(c,function(b,c){var a=c.match(n0);if(a&&a[1]&&a[2]){var f=a[1],g=a[2].toLowerCase();n3(e[g],b,f)||(d=!1)}}),d}function n3(a,b,c){return"min"===c?a>=b:"max"===c?a<=b:a===b}function n4(a,b){return a.join(",")===b.join(",")}var n5=c2,n6=j,n7=aq,n8=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function n9(b){var e=b&&b.itemStyle;if(e)for(var f=0,g=n8.length;f<g;f++){var a=n8[f],c=e.normal,d=e.emphasis;c&&c[a]&&(b[a]=b[a]||{},b[a].normal?an(b[a].normal,c[a]):b[a].normal=c[a],c[a]=null),d&&d[a]&&(b[a]=b[a]||{},b[a].emphasis?an(b[a].emphasis,d[a]):b[a].emphasis=d[a],d[a]=null)}}function oa(a,b,e){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,c=a[b].emphasis;d&&(e?(a[b].normal=a[b].emphasis=null,x(a[b],d)):a[b]=d),c&&(a.emphasis=a.emphasis||{},a.emphasis[b]=c,c.focus&&(a.emphasis.focus=c.focus),c.blurScope&&(a.emphasis.blurScope=c.blurScope))}}function ob(a){oa(a,"itemStyle"),oa(a,"lineStyle"),oa(a,"areaStyle"),oa(a,"label"),oa(a,"labelLine"),oa(a,"upperLabel"),oa(a,"edgeLabel")}function oc(e,f){var a=n7(e)&&e[f],b=n7(a)&&a.textStyle;if(b)for(var c=0,g=jy.length;c<g;c++){var d=jy[c];b.hasOwnProperty(d)&&(a[d]=b[d])}}function od(a){a&&(ob(a),oc(a,"label"),a.emphasis&&oc(a.emphasis,"label"))}function oe(a){return cv(a)?a:a?[a]:[]}function of(a){return(cv(a)?a[0]:a)||{}}function og(a){a&&j(oh,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var oh=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],oi=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],oj=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ok(c){var a=c&&c.itemStyle;if(a)for(var b=0;b<oj.length;b++){var d=oj[b][1],e=oj[b][0];null!=a[d]&&(a[e]=a[d])}}function ol(a){a&&"edge"===a.alignTo&&null!=a.margin&&null==a.edgeDistance&&(a.edgeDistance=a.margin)}function om(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay)}function on(a,c){if(a)for(var b=0;b<a.length;b++)c(a[b]),a[b]&&on(a[b].children,c)}function c3(b,e){var a,d,c;a=b,d=e,n6(oe(a.series),function(a){n7(a)&&function(a){if(n7(a)){n9(a),ob(a),oc(a,"label"),oc(a,"upperLabel"),oc(a,"edgeLabel"),a.emphasis&&(oc(a.emphasis,"label"),oc(a.emphasis,"upperLabel"),oc(a.emphasis,"edgeLabel"));var c=a.markPoint;c&&(n9(c),od(c));var d=a.markLine;d&&(n9(d),od(d));var h=a.markArea;h&&od(h);var e=a.data;if("graph"===a.type){e=e||a.nodes;var g=a.links||a.edges;if(g&&!fX(g))for(var b=0;b<g.length;b++)od(g[b]);j(a.categories,function(a){ob(a)})}if(e&&!fX(e))for(var b=0;b<e.length;b++)od(e[b]);if((c=a.markPoint)&&c.data)for(var i=c.data,b=0;b<i.length;b++)od(i[b]);if((d=a.markLine)&&d.data)for(var f=d.data,b=0;b<f.length;b++)cv(f[b])?(od(f[b][0]),od(f[b][1])):od(f[b]);"gauge"===a.type?(oc(a,"axisLabel"),oc(a,"title"),oc(a,"detail")):"treemap"===a.type?(oa(a.breadcrumb,"itemStyle"),j(a.levels,function(a){ob(a)})):"tree"===a.type&&ob(a.leaves)}}(a)}),c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"],d&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),n6(c,function(b){n6(oe(a[b]),function(a){a&&(oc(a,"axisLabel"),oc(a.axisPointer,"label"))})}),n6(oe(a.parallel),function(b){var a=b&&b.parallelAxisDefault;oc(a,"axisLabel"),oc(a&&a.axisPointer,"label")}),n6(oe(a.calendar),function(a){oa(a,"itemStyle"),oc(a,"dayLabel"),oc(a,"monthLabel"),oc(a,"yearLabel")}),n6(oe(a.radar),function(a){oc(a,"name"),a.name&&null==a.axisName&&(a.axisName=a.name,delete a.name),null!=a.nameGap&&null==a.axisNameGap&&(a.axisNameGap=a.nameGap,delete a.nameGap)}),n6(oe(a.geo),function(a){n7(a)&&(od(a),n6(oe(a.regions),function(a){od(a)}))}),n6(oe(a.timeline),function(a){od(a),oa(a,"label"),oa(a,"itemStyle"),oa(a,"controlStyle",!0);var b=a.data;cv(b)&&j(b,function(a){aq(a)&&(oa(a,"label"),oa(a,"itemStyle"))})}),n6(oe(a.toolbox),function(a){oa(a,"iconStyle"),n6(a.feature,function(a){oa(a,"iconStyle")})}),oc(of(a.axisPointer),"label"),oc(of(a.tooltip).axisPointer,"label"),b.series=jw(b.series),j(b.series,function(a){if(aq(a)){var e,d=a.type;if("line"===d)null!=a.clipOverflow&&(a.clip=a.clipOverflow);else if("pie"===d||"gauge"===d){null!=a.clockWise&&(a.clockwise=a.clockWise),ol(a.label);var b=a.data;if(b&&!fX(b))for(var c=0;c<b.length;c++)ol(b[c]);null!=a.hoverOffset&&(a.emphasis=a.emphasis||{},a.emphasis.scaleSize=null)}else if("gauge"===d){var f=function(d,e){for(var c=e.split(","),a=d,b=0;b<c.length&&null!=(a=a&&a[c[b]]);b++);return a}(a,"pointer.color");null!=f&&function(e,f,g,h){for(var d,c=f.split(","),a=e,b=0;b<c.length-1;b++)null==a[d=c[b]]&&(a[d]={}),a=a[d];null==a[c[b]]&&(a[c[b]]=g)}(a,"itemStyle.color",f)}else if("bar"===d){ok(a),ok(a.backgroundStyle),ok(a.emphasis);var b=a.data;if(b&&!fX(b))for(var c=0;c<b.length;c++)"object"==typeof b[c]&&(ok(b[c]),ok(b[c]&&b[c].emphasis))}else if("sunburst"===d){var g=a.highlightPolicy;g&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=g)),om(a),on(a.data,om)}else{"graph"===d||"sankey"===d?(e=a,!e||null==e.focusNodeAdjacency||(e.emphasis=e.emphasis||{},null!=e.emphasis.focus||(e.emphasis.focus="adjacency"))):"map"===d&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&x(a,a.mapLocation))}null!=a.hoverAnimation&&(a.emphasis=a.emphasis||{},a.emphasis&&null==a.emphasis.scale&&(a.emphasis.scale=a.hoverAnimation)),og(a)}}),b.dataRange&&(b.visualMap=b.dataRange),j(oi,function(c){var a=b[c];a&&(cv(a)||(a=[a]),j(a,function(a){og(a)}))})}function oo(a){j(a,function(b,e){var f=[],g=[NaN,NaN],c=[b.stackResultDimension,b.stackedOverDimension],d=b.data,h=b.isStackedByIndex,i=b.seriesModel.get("stackStrategy")||"samesign";d.modify(c,function(q,r,m){var o,k,c=d.get(b.stackedDimension,m);if(isNaN(c))return g;h?k=d.getRawIndex(m):o=d.get(b.stackedByDimension,m);for(var p=NaN,n=e-1;n>=0;n--){var l=a[n];if(h||(k=l.data.rawIndexOf(l.stackedByDimension,o)),k>=0){var j=l.data.getByRawIndex(l.stackResultDimension,k);if("all"===i||"positive"===i&&j>0||"negative"===i&&j<0||"samesign"===i&&c>=0&&j>0||"samesign"===i&&c<=0&&j<0){c=ji(c,j),p=j;break}}}return f[0]=c,f[1]=p,f})})}var op=function(a){this.data=a.data||(a.sourceFormat===aI?{}:[]),this.sourceFormat=a.sourceFormat||nF,this.seriesLayoutBy=a.seriesLayoutBy||bp,this.startIndex=a.startIndex||0,this.dimensionsDetectedCount=a.dimensionsDetectedCount,this.metaRawOption=a.metaRawOption;var c=this.dimensionsDefine=a.dimensionsDefine;if(c)for(var b=0;b<c.length;b++){var d=c[b];null==d.type&&nL(this,b)===nG.Must&&(d.type="ordinal")}};function oq(a){return a instanceof op}function or(c,a,b){b=b||ot(c);var e=a.seriesLayoutBy,d=ou(c,b,e,a.sourceHeader,a.dimensions);return new op({data:c,sourceFormat:b,seriesLayoutBy:e,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectedCount:d.dimensionsDetectedCount,metaRawOption:ct(a)})}function os(a){return new op({data:a,sourceFormat:fX(a)?c_:aG})}function ot(a){var b=nF;if(fX(a))b=c_;else if(cv(a)){0===a.length&&(b=S);for(var c=0,f=a.length;c<f;c++){var d=a[c];if(null!=d){if(cv(d)){b=S;break}else if(aq(d)){b=aH;break}}}}else if(aq(a)){for(var e in a)if(ga(a,e)&&fR(a[e])){b=aI;break}}return b}function ou(b,e,f,c,a){if(!b)return{dimensionsDefine:ow(a),startIndex:h,dimensionsDetectedCount:g};if(e===S){var g,h,d=b;"auto"===c||null==c?ox(function(a){null!=a&&"-"!==a&&(fT(a)?null==h&&(h=1):h=0)},f,d,10):h=fV(c)?c:c?1:0,a||1!==h||(a=[],ox(function(b,c){a[c]=null!=b?b+"":""},f,d,1/0)),g=a?a.length:"row"===f?d.length:d[0]?d[0].length:null}else if(e===aH)a||(a=ov(b));else if(e===aI)a||(a=[],j(b,function(c,b){a.push(b)}));else if(e===aG){var i=jz(b[0]);g=cv(i)&&i.length||1}return{startIndex:h,dimensionsDefine:ow(a),dimensionsDetectedCount:g}}function ov(b){for(var a,c=0;c<b.length&&!(a=b[c++]););if(a){var d=[];return j(a,function(b,a){d.push(a)}),d}}function ow(a){if(a){var b=s();return Y(a,function(c,e){var a={name:(c=aq(c)?c:{name:c}).name,displayName:c.displayName,type:c.type};if(null==a.name)return a;a.name+="",null==a.displayName&&(a.displayName=a.name);var d=b.get(a.name);return d?a.name+="-"+d.count++:b.set(a.name,{count:1}),a})}}function ox(c,f,b,d){if("row"===f)for(var a=0;a<b.length&&a<d;a++)c(b[a]?b[a][0]:null,a);else for(var e=b[0]||[],a=0;a<e.length&&a<d;a++)c(e[a],a)}function oy(b){var a=b.sourceFormat;return a===aH||a===aI}var oz=function(){var b;function a(b,d){var a=oq(b)?b:os(b);this._source=a;var c=this._data=a.data;a.sourceFormat===c_&&(this._offset=0,this._dimSize=d,this._data=c),e3(this,c,a)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(a,b){},a.prototype.appendData=function(a){},a.prototype.clean=function(){},a.protoInitialize=void((b=a.prototype).pure=!1,b.persistent=!0),a.internalField=function(){e3=function(a,h,b){var f=b.sourceFormat,g=b.seriesLayoutBy,i=b.startIndex,j=b.dimensionsDefine,k=e2[oG(f,g)];if(fP(a,k),f===c_)a.getItem=c,a.count=e,a.fillStorage=d;else{var l=oB(f,g);a.getItem=cu(l,null,h,i,j);var m=oD(f,g);a.count=cu(m,null,h,i,j)}};var a,c=function(c,a){c-=this._offset,a=a||[];for(var e=this._data,d=this._dimSize,f=d*c,b=0;b<d;b++)a[b]=e[f+b];return a},d=function(g,i,j,k){for(var l=this._data,h=this._dimSize,b=0;b<h;b++){for(var a=k[b],e=null==a[0]?1/0:a[0],f=null==a[1]?-1/0:a[1],m=i-g,n=j[b],d=0;d<m;d++){var c=l[d*h+b];n[g+d]=c,c<e&&(e=c),c>f&&(f=c)}a[0]=e,a[1]=f}},e=function(){return this._data?this._data.length/this._dimSize:0};function b(b){for(var a=0;a<b.length;a++)this._data.push(b[a])}e2=((a={})[S+"_"+bp]={pure:!0,appendData:b},a[S+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},a[aH]={pure:!0,appendData:b},a[aI]={pure:!0,appendData:function(a){var b=this._data;j(a,function(c,d){for(var e=b[d]||(b[d]=[]),a=0;a<(c||[]).length;a++)e.push(c[a])})}},a[aG]={appendData:b},a[c_]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},a)}(),a}(),bs=function(a,c,d,b){return a[b]},oA=((D={})[S+"_"+bp]=function(a,b,d,c){return a[c+b]},D[S+"_row"]=function(f,g,i,b,h){b+=g;for(var c=h||[],d=f,a=0;a<d.length;a++){var e=d[a];c[a]=e?e[b]:null}return c},D[aH]=bs,D[aI]=function(e,h,b,f,g){for(var c=g||[],a=0;a<b.length;a++){var i,d=e[b[a].name];c[a]=d?d[f]:null}return c},D[aG]=bs,D);function oB(a,b){var c;return oA[oG(a,b)]}var bt=function(a,b,c){return a.length},oC=((E={})[S+"_"+bp]=function(a,b,c){return Math.max(0,a.length-b)},E[S+"_row"]=function(b,c,d){var a=b[0];return a?Math.max(0,a.length-c):0},E[aH]=bt,E[aI]=function(b,d,c){var e,a=b[c[0].name];return a?a.length:0},E[aG]=bt,E);function oD(a,b){var c;return oC[oG(a,b)]}var aJ=function(a,b,c){return a[b]},oE=((F={})[S]=aJ,F[aH]=function(a,c,b){return a[b]},F[aI]=aJ,F[aG]=function(b,c,d){var a=jz(b);return a instanceof Array?a[c]:a},F[c_]=aJ,F);function oF(a){var b;return oE[a]}function oG(a,b){return a===S?a+"_"+b:a}function oH(a,h,c){if(a){var b=a.getRawDataItem(h);if(null!=b){var d=a.getStore(),e=d.getSource().sourceFormat;if(null!=c){var f=a.getDimensionIndex(c),i=d.getDimensionProperty(f);return oF(e)(b,f,i)}var g=b;return e===aG&&(g=jz(b)),g}}}var oI=/\{@(.+?)\}/g,aK=function(){function a(){}return a.prototype.getDataParams=function(b,e){var a=this.getData(e),h=this.getRawValue(b,e),i=a.getRawIndex(b),j=a.getName(b),k=a.getRawDataItem(b),c=a.getItemVisual(b,"style"),l=c&&c[a.getItemVisual(b,"drawType")||"fill"],m=c&&c.stroke,g=this.mainType,f="series"===g,d=a.userOutput&&a.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:j,dataIndex:i,data:k,dataType:e,value:h,color:l,borderColor:m,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(e,c,f,d,b,g){c=c||"normal";var h=this.getData(f),a=this.getDataParams(e,f);return(g&&(a.value=g.interpolatedValue),null!=d&&cv(a.value)&&(a.value=a.value[d]),!b&&(b=h.getItemModel(e).get("normal"===c?["label","formatter"]:[c,"label","formatter"])),cw(b))?(a.status=c,a.dimensionIndex=d,b(a)):fT(b)?no(b,a).replace(oI,function(i,c){var d=c.length,a=c;"["===a.charAt(0)&&"]"===a.charAt(d-1)&&(a=+a.slice(1,d-1));var b=oH(h,e,a);if(g&&cv(g.interpolatedValue)){var f=h.getDimensionIndex(a);f>=0&&(b=g.interpolatedValue[f])}return null!=b?b+"":""}):void 0},a.prototype.getRawValue=function(a,b){return oH(this.getData(b),a)},a.prototype.formatTooltip=function(a,b,c){},a}();function oJ(a){var b,c;return aq(a)?a.type&&(c=a):b=a,{text:b,frag:c}}function oK(a){return new oL(a)}var oL=function(){function a(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0}return a.prototype.perform=function(a){var g,k,c=this._upstream,h=a&&a.skip;if(this._dirty&&c){var l=this.context;l.data=l.outputData=c.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!h&&(g=this._plan(this.context));var n=q(this._modBy),o=this._modDataCount||0,d=q(a&&a.modBy),e=a&&a.modDataCount||0;function q(a){return a>=1||(a=1),a}(n!==d||o!==e)&&(g="reset"),(this._dirty||"reset"===g)&&(this._dirty=!1,k=this._doReset(h)),this._modBy=d,this._modDataCount=e;var m=a&&a.step;if(c?this._dueEnd=c._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var i=this._dueIndex,b=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!h&&(k||i<b)){var f=this._progress;if(cv(f))for(var j=0;j<f.length;j++)this._doProgress(f[j],i,b,d,e);else this._doProgress(f,i,b,d,e)}this._dueIndex=b;var p=null!=this._settedOutputEnd?this._settedOutputEnd:b;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(c,a,b,d,e){oM.reset(a,b,d,e),this._callingProgress=c,this._callingProgress({start:a,end:b,count:b-a,next:oM.next},this.context)},a.prototype._doReset=function(b){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!b&&this._reset&&((d=this._reset(this.context))&&d.progress&&(c=d.forceFirstProgress,d=d.progress),cv(d)&&!d.length&&(d=null)),this._progress=d,this._modBy=this._modDataCount=null;var d,c,a=this._downstream;return a&&a.dirty(),c},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},a.prototype.dispose=function(){!this._disposed&&(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a},a}(),oM=function(){var b,c,d,e,f,a={reset:function(i,j,k,l){c=i,b=j,d=k,f=Math.ceil((e=l)/d),a.next=d>1&&e>0?h:g}};return a;function g(){return c<b?c++:null}function h(){var a=c%f*d+Math.ceil(c/f),g=c>=b?null:a<e?a:c;return c++,g}}(),oN={},oO="undefined"!=typeof console&&console.warn&&console.log;function oP(a){}function oQ(a){throw Error(a)}function oR(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"!==c||fV(a)||null==a||"-"===a||(a=+jm(a)),null==a||""===a?NaN:+a)}var oS=s({number:function(a){return parseFloat(a)},time:function(a){return+jm(a)},trim:function(a){return fT(a)?f2(a):a}});function oT(a){return oS.get(a)}var oU={lt:function(a,b){return a<b},lte:function(a,b){return a<=b},gt:function(a,b){return a>b},gte:function(a,b){return a>=b}},oV=function(){function a(b,a){if(!fV(a)){var c;oQ("")}this._opFn=oU[b],this._rvalFloat=jr(a)}return a.prototype.evaluate=function(a){return fV(a)?this._opFn(a,this._rvalFloat):this._opFn(jr(a),this._rvalFloat)},a}(),oW=function(){function a(c,a){var b="desc"===c;this._resultLT=b?1:-1,null==a&&(a=b?"min":"max"),this._incomparable="min"===a?-1/0:1/0}return a.prototype.evaluate=function(a,b){var c=fV(a)?a:jr(a),d=fV(b)?b:jr(b),e=isNaN(c),f=isNaN(d);if(e&&(c=this._incomparable),f&&(d=this._incomparable),e&&f){var g=fT(a),h=fT(b);g&&(c=h?a:0),h&&(d=g?b:0)}return c<d?this._resultLT:c>d?-this._resultLT:0},a}(),oX=function(){function a(b,a){this._rval=a,this._isEQ=b,this._rvalTypeof=typeof a,this._rvalFloat=jr(a)}return a.prototype.evaluate=function(b){var a=b===this._rval;if(!a){var c=typeof b;c!==this._rvalTypeof&&("number"===c||"number"===this._rvalTypeof)&&(a=jr(b)===this._rvalFloat)}return this._isEQ?a:!a},a}();function oY(a,b){return"eq"===a||"ne"===a?new oX("eq"===a,b):ga(oU,a)?new oV(a,b):null}var oZ=function(){function a(){}return a.prototype.getRawData=function(){throw Error("not supported")},a.prototype.getRawDataItem=function(a){throw Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(a){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(a,b){},a.prototype.retrieveValueFromItem=function(a,b){},a.prototype.convertValue=function(a,b){return oR(a,b)},a}();function o$(a){if(!o4(a.sourceFormat)){var b;oQ("")}return a.data}function o_(f){var g,d=f.sourceFormat,c=f.data;if(!o4(d)){oQ("")}if(d===S){for(var b=[],a=0,e=c.length;a<e;a++)b.push(c[a].slice());return b}if(d===aH){for(var b=[],a=0,e=c.length;a<e;a++)b.push(fP({},c[a]));return b}}function o0(c,b,a){return null==a?void 0:!fV(a)&&(isNaN(a)||ga(b,a))?ga(b,a)?b[a]:void 0:c[a]}function o1(a){return ct(a)}var o2=s();function o3(a,b,g,h){b.length||oQ(""),aq(a)||oQ("");var e=a.type,c=o2.get(e);c||oQ("");var d=Y(b,function(a){return function(b,g){var a=new oZ,h=b.data,d=a.sourceFormat=b.sourceFormat,i=b.startIndex;b.seriesLayoutBy!==bp&&oQ("");var c=[],k={},f=b.dimensionsDefine;if(f)j(f,function(b,e){var a=b.name,d={index:e,name:a,displayName:b.displayName};if(c.push(d),null!=a){var f="";ga(k,a)&&oQ(f),k[a]=d}});else for(var e=0;e<b.dimensionsDetectedCount;e++)c.push({index:e});var m=oB(d,bp);g.__isBuiltIn&&(a.getRawDataItem=function(a){return m(h,i,c,a)},a.getRawData=cu(o$,null,b)),a.cloneRawData=cu(o_,null,b);var l=oD(d,bp);a.count=cu(l,null,h,i,c);var n=oF(d);a.retrieveValue=function(a,b){var d=m(h,i,c,a);return o(d,b)};var o=a.retrieveValueFromItem=function(a,b){if(null!=a){var d=c[b];if(d)return n(a,b,d.name)}};return a.getDimensionInfo=cu(o0,null,c,k),a.cloneAllDimensionInfo=cu(o1,null,c),a}(a,c)}),f=jw(c.transform({upstream:d[0],upstreamList:d,config:ct(a.config)}));return Y(f,function(a,f){aq(a)||oQ(""),a.data||oQ("");var d,g=ot(a.data);o4(g)||oQ("");var c=b[0];if(c&&0===f&&!a.dimensions){var e=c.startIndex;e&&(a.data=c.data.slice(0,e).concat(a.data)),d={seriesLayoutBy:bp,sourceHeader:e,dimensions:c.metaRawOption.dimensions}}else d={seriesLayoutBy:bp,sourceHeader:0,dimensions:a.dimensions};return or(a.data,d,null)})}function o4(a){return a===S||a===aH}var ad="undefined",o5=typeof Uint32Array===ad?Array:Uint32Array,o6=typeof Uint16Array===ad?Array:Uint16Array,c4=typeof Int32Array===ad?Array:Int32Array,bu=typeof Float64Array===ad?Array:Float64Array,o7={float:bu,int:c4,ordinal:Array,number:Array,time:bu};function o8(a){return a>65535?o5:o6}function o9(){return[1/0,-1/0]}function pa(a){var b=a.constructor;return b===Array?a.slice():new b(a)}function pb(b,c,i,d,j){var f=o7[i||"float"];if(j){var e=b[c],g=e&&e.length;if(g!==d){for(var h=new f(d),a=0;a<g;a++)h[a]=e[a];b[c]=h}}else b[c]=new f(d)}var pc=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=s()}return a.prototype.initData=function(a,c,d){this._provider=a,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var b=a.getSource(),e=this.defaultDimValueGetter=e4[b.sourceFormat];this._dimValueGetter=d||e,this._rawExtent=[],oy(b),this._dimensions=Y(c,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,a.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(d,b){var e=this._calcDimNameToIdx,c=this._dimensions,a=e.get(d);if(null!=a){if(c[a].type===b)return a}else a=c.length;return c[a]={type:b},e.set(d,a),this._chunks[a]=new o7[b||"float"](this._rawCount),this._rawExtent[a]=o9(),a},a.prototype.collectOrdinalMeta=function(a,g){var e=this._chunks[a],b=this._dimensions[a],h=this._rawExtent,i=b.ordinalOffset||0,j=e.length;0===i&&(h[a]=o9());for(var c=h[a],d=i;d<j;d++){var f=e[d]=g.parseAndCollect(e[d]);isNaN(f)||(c[0]=Math.min(f,c[0]),c[1]=Math.max(f,c[1]))}b.ordinalMeta=g,b.ordinalOffset=j,b.type="ordinal"},a.prototype.getOrdinalMeta=function(a){return this._dimensions[a].ordinalMeta},a.prototype.getDimensionProperty=function(b){var a=this._dimensions[b];return a&&a.property},a.prototype.appendData=function(d){var c=this._provider,a=this.count();c.appendData(d);var b=c.count();return c.persistent||(b+=a),a<b&&this._initDataFromProvider(a,b,!0),[a,b]},a.prototype.appendValues=function(j,n){for(var k=this._chunks,h=this._dimensions,l=h.length,o=this._rawExtent,c=this.count(),d=c+Math.max(j.length,n||0),e=0;e<l;e++){var i=h[e];pb(k,e,i.type,d,!0)}for(var p=[],f=c;f<d;f++)for(var m=f-c,a=0;a<l;a++){var i=h[a],b=e4.arrayRows.call(this,j[m]||p,i.property,m,a);k[a][f]=b;var g=o[a];b<g[0]&&(g[0]=b),b>g[1]&&(g[1]=b)}return this._rawCount=this._count=d,{start:c,end:d}},a.prototype._initDataFromProvider=function(l,f,n){for(var a=this._provider,i=this._chunks,j=this._dimensions,m=j.length,g=this._rawExtent,o=Y(j,function(a){return a.property}),b=0;b<m;b++){var p=j[b];g[b]||(g[b]=o9()),pb(i,b,p.type,f,n)}if(a.fillStorage)a.fillStorage(l,f,i,g);else for(var k=[],d=l;d<f;d++){k=a.getItem(d,k);for(var c=0;c<m;c++){var q=i[c],e=this._dimValueGetter(k,o[c],d,c);q[d]=e;var h=g[c];e<h[0]&&(h[0]=e),e>h[1]&&(h[1]=e)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=f,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(c,a){if(!(a>=0&&a<this._count))return NaN;var b=this._chunks[c];return b?b[this.getRawIndex(a)]:NaN},a.prototype.getValues=function(c,d){var e=[],b=[];if(null==d){d=c,c=[];for(var a=0;a<this._dimensions.length;a++)b.push(a)}else b=c;for(var a=0,f=b.length;a<f;a++)e.push(this.get(b[a],d));return e},a.prototype.getByRawIndex=function(c,a){if(!(a>=0&&a<this._rawCount))return NaN;var b=this._chunks[c];return b?b[a]:NaN},a.prototype.getSum=function(b){var e=this._chunks[b],c=0;if(e)for(var a=0,f=this.count();a<f;a++){var d=this.get(b,a);isNaN(d)||(c+=d)}return c},a.prototype.getMedian=function(c){var d=[];this.each([c],function(a){isNaN(a)||d.push(a)});var b=d.sort(function(a,b){return a-b}),a=this.count();return 0===a?0:a%2==1?b[(a-1)/2]:(b[a/2]+b[a/2-1])/2},a.prototype.indexOfRawIndex=function(a){if(a>=this._rawCount||a<0)return -1;if(!this._indices)return a;var c=this._indices,d=c[a];if(null!=d&&d<this._count&&d===a)return a;for(var e=0,f=this._count-1;e<=f;){var b=(e+f)/2|0;if(c[b]<a)e=b+1;else{if(!(c[b]>a))return b;f=b-1}}return -1},a.prototype.indicesOfNearest=function(j,k,e){var i=this._chunks[j],a=[];if(!i)return a;null==e&&(e=1/0);for(var f=1/0,g=-1,h=0,b=0,l=this.count();b<l;b++){var m=this.getRawIndex(b),c=k-i[m],d=Math.abs(c);d<=e&&((d<f||d===f&&c>=0&&g<0)&&(f=d,g=c,h=0),c===g&&(a[h++]=b))}return a.length=h,a},a.prototype.getIndices=function(){var b,d=this._indices;if(d){var c=d.constructor,e=this._count;if(c===Array){b=new c(e);for(var a=0;a<e;a++)b[a]=d[a]}else b=new c(d.buffer,0,e)}else{var c=o8(this._rawCount);b=new c(this.count());for(var a=0;a<b.length;a++)b[a]=a}return b},a.prototype.filter=function(e,f){if(!this._count)return this;for(var a=this.clone(),g=a.count(),l=new(o8(a._rawCount))(g),h=[],i=e.length,j=0,n=e[0],m=a._chunks,b=0;b<g;b++){var d=void 0,k=a.getRawIndex(b);if(0===i)d=f(b);else if(1===i)d=f(m[n][k],b);else{for(var c=0;c<i;c++)h[c]=m[e[c]][k];h[c]=b,d=f.apply(null,h)}d&&(l[j++]=k)}return j<g&&(a._indices=l),a._count=j,a._extent=[],a._updateGetRawIdx(),a},a.prototype.selectRange=function(e){var c=this.clone(),m=c._count;if(!m)return this;var d=ap(e),g=d.length;if(!g)return this;var j=c.count(),h=new(o8(c._rawCount))(j),f=0,u=d[0],n=e[u][0],o=e[u][1],i=c._chunks,p=!1;if(!c._indices){var k=0;if(1===g){for(var q=i[d[0]],a=0;a<m;a++){var b=q[a];(b>=n&&b<=o||isNaN(b))&&(h[f++]=k),k++}p=!0}else if(2===g){for(var q=i[d[0]],w=i[d[1]],x=e[d[1]][0],y=e[d[1]][1],a=0;a<m;a++){var b=q[a],r=w[a];(b>=n&&b<=o||isNaN(b))&&(r>=x&&r<=y||isNaN(r))&&(h[f++]=k),k++}p=!0}}if(!p){if(1===g)for(var a=0;a<j;a++){var l=c.getRawIndex(a),b=i[d[0]][l];(b>=n&&b<=o||isNaN(b))&&(h[f++]=l)}else for(var a=0;a<j;a++){for(var v=!0,l=c.getRawIndex(a),s=0;s<g;s++){var t=d[s],b=i[t][l];(b<e[t][0]||b>e[t][1])&&(v=!1)}v&&(h[f++]=c.getRawIndex(a))}}return f<j&&(c._indices=h),c._count=f,c._extent=[],c._updateGetRawIdx(),c},a.prototype.map=function(a,c){var b=this.clone(a);return this._updateDims(b,a,c),b},a.prototype.modify=function(a,b){this._updateDims(this,a,b)},a.prototype._updateDims=function(e,c,j){for(var k=e._chunks,l=[],m=c.length,r=e.count(),i=[],n=e._rawExtent,a=0;a<c.length;a++)n[c[a]]=o9();for(var f=0;f<r;f++){for(var o=e.getRawIndex(f),g=0;g<m;g++)i[g]=k[c[g]][o];i[m]=f;var b=j&&j.apply(null,i);if(null!=b){"object"!=typeof b&&(l[0]=b,b=l);for(var a=0;a<b.length;a++){var p=c[a],d=b[a],h=n[p],q=k[p];q&&(q[o]=d),d<h[0]&&(h[0]=d),d>h[1]&&(h[1]=d)}}}},a.prototype.lttbDownSample=function(t,y){var l,u,b,e=this.clone([t],!0),m=e._chunks[t],c=this.count(),f=0,g=Math.floor(1/y),n=this.getRawIndex(0),h=new(o8(this._rawCount))(Math.min((Math.ceil(c/g)+2)*2,c));h[f++]=n;for(var d=1;d<c-1;d+=g){for(var o=Math.min(d+g,c-1),p=Math.min(d+2*g,c),z=(p+o)/2,q=0,a=o;a<p;a++){var i=this.getRawIndex(a),j=m[i];!isNaN(j)&&(q+=j)}q/=p-o;var r=d,v=Math.min(d+g,c),w=d-1,x=m[n];l=-1,b=r;for(var k=-1,s=0,a=r;a<v;a++){var i=this.getRawIndex(a),j=m[i];if(isNaN(j)){s++,k<0&&(k=i);continue}(u=Math.abs((w-z)*(j-x)-(w-a)*(q-x)))>l&&(l=u,b=i)}s>0&&s<v-r&&(h[f++]=Math.min(k,b),b=Math.max(k,b)),h[f++]=b,n=b}return h[f++]=this.getRawIndex(c-1),e._count=f,e._indices=h,e.getRawIndex=this._getRawIdx,e},a.prototype.downSample=function(i,n,o,p){for(var a=this.clone([i],!0),q=a._chunks,f=[],b=Math.floor(1/n),j=q[i],e=this.count(),g=a._rawExtent[i]=o9(),k=new(o8(this._rawCount))(Math.ceil(e/b)),l=0,c=0;c<e;c+=b){b>e-c&&(b=e-c,f.length=b);for(var h=0;h<b;h++){var r=this.getRawIndex(c+h);f[h]=j[r]}var d=o(f),m=this.getRawIndex(Math.min(c+p(f,d)||0,e-1));j[m]=d,d<g[0]&&(g[0]=d),d>g[1]&&(g[1]=d),k[l++]=m}return a._count=l,a._indices=k,a._updateGetRawIdx(),a},a.prototype.each=function(b,d){if(this._count)for(var h=b.length,e=this._chunks,a=0,i=this.count();a<i;a++){var f=this.getRawIndex(a);switch(h){case 0:d(a);break;case 1:d(e[b[0]][f],a);break;case 2:d(e[b[0]][f],e[b[1]][f],a);break;default:for(var c=0,g=[];c<h;c++)g[c]=e[b[c]][f];g[c]=a,d.apply(null,g)}}},a.prototype.getDataExtent=function(b){var a,g=this._chunks[b],h=o9();if(!g)return h;var i=this.count();if(!this._indices)return this._rawExtent[b].slice();if(a=this._extent[b])return a.slice();for(var d=(a=h)[0],e=a[1],f=0;f<i;f++){var c=g[this.getRawIndex(f)];c<d&&(d=c),c>e&&(e=c)}return a=[d,e],this._extent[b]=a,a},a.prototype.getRawDataItem=function(e){var b=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(b);for(var c=[],d=this._chunks,a=0;a<d.length;a++)c.push(d[a][b]);return c},a.prototype.clone=function(e,g){var b=new a,d=this._chunks,f=e&&ao(e,function(a,b){return a[b]=!0,a},{});if(f)for(var c=0;c<d.length;c++)b._chunks[c]=f[c]?pa(d[c]):d[c];else b._chunks=d;return this._copyCommonProps(b),g||(b._indices=this._cloneIndices()),b._updateGetRawIdx(),b},a.prototype._copyCommonProps=function(a){a._count=this._count,a._rawCount=this._rawCount,a._provider=this._provider,a._dimensions=this._dimensions,a._extent=ct(this._extent),a._rawExtent=ct(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var c=this._indices.constructor,a=void 0;if(c===Array){var d=this._indices.length;a=new c(d);for(var b=0;b<d;b++)a[b]=this._indices[b]}else a=new c(this._indices);return a}return null},a.prototype._getRawIdxIdentity=function(a){return a},a.prototype._getRawIdx=function(a){return a<this._count&&a>=0?this._indices[a]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function a(b,c,d,a){return oR(b[a],this._dimensions[a])}e4={arrayRows:a,objectRows:function(a,b,d,c){return oR(a[b],this._dimensions[c])},keyedColumns:a,original:function(a,d,e,c){var b=a&&(null==a.value?a:a.value);return oR(b instanceof Array?b[c]:b,this._dimensions[c])},typedArray:function(a,c,d,b){return a[b]}}}(),a}(),pd=function(){function a(a){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=a}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(a,b){this._sourceList=a,this._upstreamSignList=b,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var c,a,e=this._sourceHost,f=this._getUpstreamSourceManagers(),k=!!f.length;if(pf(e)){var p=e,g=void 0,h=void 0,d=void 0;if(k){var i=f[0];i.prepareSource(),g=(d=i.getSource()).data,h=d.sourceFormat,a=[i._getVersionSign()]}else h=fX(g=p.get("data",!0))?c_:aG,a=[];var j=this._getSourceMetaRawOption()||{},b=d&&d.metaRawOption||{},l=f$(j.seriesLayoutBy,b.seriesLayoutBy)||null,m=f$(j.sourceHeader,b.sourceHeader),n=f$(j.dimensions,b.dimensions);c=l!==b.seriesLayoutBy|| !!m!= !!b.sourceHeader||n?[or(g,{seriesLayoutBy:l,sourceHeader:m,dimensions:n},h)]:[]}else{var q=e;if(k){var o=this._applyTransform(f);c=o.sourceList,a=o.upstreamSignList}else c=[or(q.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(c,a)},a.prototype._applyTransform=function(d){var a,b,c=this._sourceHost,e=c.get("transform",!0),f=c.get("fromTransformResult",!0);if(null!=f){var h="";1!==d.length&&pg(h)}var g=[],i=[];return(j(d,function(a){a.prepareSource();var b=a.getSource(f||0);null==f||b||pg(""),g.push(b),i.push(a._getVersionSign())}),e)?b=function(f,a,g){var d=jw(f),c=d.length;c||oQ("");for(var b=0,e=c;b<e;b++)a=o3(d[b],a,g,1===c?null:b),b!==e-1&&(a.length=Math.max(a.length,1));return a}(e,g,{datasetIndex:c.componentIndex}):null!=f&&(b=[(a=g[0],new op({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:ct(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount}))]),{sourceList:b,upstreamSignList:i}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var b=this._getUpstreamSourceManagers(),a=0;a<b.length;a++){var c=b[a];if(c._isDirty()||this._upstreamSignList[a]!==c._getVersionSign())return!0}},a.prototype.getSource=function(a){a=a||0;var b=this._sourceList[a];if(!b){var c=this._getUpstreamSourceManagers();return c[0]&&c[0].getSource(a)}return b},a.prototype.getSharedDataStore=function(a){var b=a.makeStoreSchema();return this._innerGetDataStore(b.dimensions,a.source,b.hash)},a.prototype._innerGetDataStore=function(c,e,d){var f=this._storeList,b=f[0];b||(b=f[0]={});var a=b[d];if(!a){var g=this._getUpstreamSourceManagers()[0];pf(this._sourceHost)&&g?a=g._innerGetDataStore(c,e,d):(a=new pc).initData(new oz(e,c.length),c),b[d]=a}return a},a.prototype._getUpstreamSourceManagers=function(){var a,b=this._sourceHost;if(pf(b)){var c=nK(b);return c?[c.getSourceManager()]:[]}return Y((a=b).get("transform",!0)||a.get("fromTransformResult",!0)?jT(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},jR).models:[],function(a){return a.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var b,c,d,a=this._sourceHost;if(pf(a))b=a.get("seriesLayoutBy",!0),c=a.get("sourceHeader",!0),d=a.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var e=a;b=e.get("seriesLayoutBy",!0),c=e.get("sourceHeader",!0),d=e.get("dimensions",!0)}return{seriesLayoutBy:b,sourceHeader:c,dimensions:d}},a}();function pe(a){a.option.transform&&f4(a.option.transform)}function pf(a){return"series"===a.mainType}function pg(a){throw Error(a)}var ph="line-height:1";function pi(a,h){var b=a.color||"#6e7079",c=a.fontSize||12,d=a.fontWeight||"400",e=a.color||"#464646",f=a.fontSize||14,g=a.fontWeight||"900";return"html"===h?{nameStyle:"font-size:"+nk(c+"")+"px;color:"+nk(b)+";font-weight:"+nk(d+""),valueStyle:"font-size:"+nk(f+"")+"px;color:"+nk(e)+";font-weight:"+nk(g+"")}:{nameStyle:{fontSize:c,fill:b,fontWeight:d},valueStyle:{fontSize:f,fill:e,fontWeight:g}}}var pj=[0,10,20,30],pk=["","\n","\n\n","\n\n\n"];function pl(b,a){return a.type=b,a}function pm(a){return"section"===a.type}function pn(a){return pm(a)?pp:pq}function po(a){if(pm(a)){var c=0,b=a.blocks.length,d=b>1||b>0&&!a.noHeader;return j(a.blocks,function(a){var b=po(a);b>=c&&(c=b+ +(d&&(!b||pm(a)&&!a.noHeader)))}),c}return 0}function pp(b,c,g,n){var h=c.noHeader,e=ps(po(c)),i=[],a=c.blocks||[];f1(!a||cv(a)),a=a||[];var d=b.orderMode;if(c.sortBlocks&&d){a=a.slice();var k={valueAsc:"asc",valueDesc:"desc"};if(ga(k,d)){var o=new oW(k[d],null);a.sort(function(a,b){return o.evaluate(a.sortParam,b.sortParam)})}else"seriesDesc"===d&&a.reverse()}j(a,function(a,g){var d=c.valueFormatter,f=pn(a)(d?fP(fP({},b),{valueFormatter:d}):b,a,g>0?e.html:0,n);null!=f&&i.push(f)});var f="richText"===b.renderMode?i.join(e.richText):pt(i.join(""),h?g:e.html);if(h)return f;var l=nl(c.header,"ordinal",b.useUTC),m=pi(n,b.renderMode).nameStyle;return"richText"===b.renderMode?pw(b,l,m)+e.richText+f:pt('<div style="'+m+";"+ph+';">'+nk(l)+"</div>"+f,g)}function pq(b,a,o,p){var f=b.renderMode,c=a.noName,e=a.noValue,d=!a.markerType,q=a.name,r=b.useUTC,s=a.valueFormatter||b.valueFormatter||function(a){return a=cv(a)?a:[a],Y(a,function(a,b){return nl(a,cv(t)?t[b]:t,r)})};if(!c||!e){var g=d?"":b.markupStyleCreator.makeTooltipMarker(a.markerType,a.markerColor||"#333",f),h=c?"":nl(q,"ordinal",r),t=a.valueType,i=e?[]:s(a.value),j=!d||!c,k=!d&&c,l=pi(p,f),m=l.nameStyle,n=l.valueStyle;return"richText"===f?(d?"":g)+(c?"":pw(b,h,m))+(e?"":px(b,i,j,k,n)):pt((d?"":g)+(c?"":pu(h,!d,m))+(e?"":pv(i,j,k,n)),o)}}function pr(a,b,c,d,e,f){if(a){var g=pn(a),h={useUTC:e,renderMode:c,orderMode:d,markupStyleCreator:b,valueFormatter:a.valueFormatter};return g(h,a,0,f)}}function ps(a){return{html:pj[a],richText:pk[a]}}function pt(a,b){return'<div style="margin: '+b+"px 0 0;"+ph+';">'+a+'<div style="clear:both"></div></div>'}function pu(a,b,c){return'<span style="'+c+";"+(b?"margin-left:2px":"")+'">'+nk(a)+"</span>"}function pv(a,b,c,d){return a=cv(a)?a:[a],'<span style="'+(b?"float:right;margin-left:"+(c?"10px":"20px"):"")+";"+d+'">'+Y(a,function(a){return nk(a)}).join("&nbsp;&nbsp;")+"</span>"}function pw(a,b,c){return a.markupStyleCreator.wrapRichTextStyle(b,c)}function px(c,a,d,e,f){var b=[f];return d&&b.push({padding:[0,0,0,e?10:20],align:"right"}),c.markupStyleCreator.wrapRichTextStyle(cv(a)?a.join("  "):a,b)}function py(a,b){return np(a.getData().getItemVisual(b,"style")[a.visualDrawType])}function pz(b,c){var a=b.get("padding");return null!=a?a:"richText"===c?[8,10]:10}var pA=function(){function a(){this.richTextStyles={},this._nextStyleNameId=cM()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(j,k,h){var c,d,a,b,f,g,i="richText"===h?this._generateStyleName():null,e=(c={color:k,type:j,renderMode:h,markerId:i},a=fT(c)?{color:c,extraCssText:d}:c||{},b=a.color,f=a.type,d=a.extraCssText,g=a.renderMode||"html",b?"html"===g?"subItem"===f?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+nk(b)+";"+(d||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+nk(b)+";"+(d||"")+'"></span>':{renderMode:g,content:"{"+(a.markerId||"markerX")+"|}  ",style:"subItem"===f?{width:4,height:4,borderRadius:2,backgroundColor:b}:{width:10,height:10,borderRadius:5,backgroundColor:b}}:"");return fT(e)?e:(this.richTextStyles[i]=e.style,e.content)},a.prototype.wrapRichTextStyle=function(d,a){var b={};cv(a)?j(a,function(a){return fP(b,a)}):fP(b,a);var c=this._generateStyleName();return this.richTextStyles[c]=b,"{"+c+"|"+d+"}"},a}();function pB(i){var c,j,l,d,a=i.series,b=i.dataIndex,m=i.multipleSeries,e=a.getData(),f=e.mapDimensionsAll("defaultedTooltip"),k=f.length,g=a.getRawValue(b),n=cv(g),o=py(a,b);if(k>1||n&&!k){var h=pC(g,a,b,f,o);c=h.inlineValues,j=h.inlineValueTypes,l=h.blocks,d=h.inlineValues[0]}else if(k){var s=e.getDimensionInfo(f[0]);d=c=oH(e,b,f[0]),j=s.type}else d=c=n?g[0]:g;var p=jL(a),q=p&&a.name||"",t=e.getName(b),r=m?q:t;return pl("section",{header:q,noHeader:m||!p,sortParam:d,blocks:[pl("nameValue",{markerType:"item",markerColor:o,name:r,noName:!f2(r),value:c,valueType:j})].concat(l||[])})}function pC(a,c,h,b,i){var k=c.getData(),l=ao(a,function(b,d,c){var a=k.getDimensionInfo(c);return b=b||a&& !1!==a.tooltip&&null!=a.displayName},!1),d=[],e=[],f=[];function g(b,c){var a=k.getDimensionInfo(c);a&& !1!==a.otherDims.tooltip&&(l?f.push(pl("nameValue",{markerType:"subItem",markerColor:i,name:a.displayName,value:b,valueType:a.type})):(d.push(b),e.push(a.type)))}return b.length?j(b,function(a){g(oH(k,h,a),a)}):j(a,g),{inlineValues:d,inlineValueTypes:e,blocks:f}}var pD=a();function pE(a,b){return a.getName(b)||a.getId(b)}var pF="__universalTransitionEnabled",ae=function(c){var b;function a(){var a=null!==c&&c.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return cp(a,c),a.prototype.init=function(b,d,c){this.seriesIndex=this.componentIndex,this.dataTask=oK({count:pI,reset:pJ}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(b,c),(pD(this).sourceManager=new pd(this)).prepareSource();var a=this.getInitialData(b,c);pL(a,this),this.dataTask.context.data=a,pD(this).dataBeforeProcessed=a,pG(this),this._initSelectedMapFromData(a)},a.prototype.mergeDefaultAndTheme=function(a,e){var b=ny(this),f=b?nA(a):{},c=this.subType;d.hasClass(c)&&(c+="Series"),an(a,e.getTheme().get(this.subType)),an(a,this.getDefaultOption()),jx(a,"label",["show"]),this.fillDataTextStyle(a.data),b&&nz(a,f,b)},a.prototype.mergeOption=function(a,e){a=an(this.option,a,!0),this.fillDataTextStyle(a.data);var c=ny(this);c&&nz(this.option,a,c);var d=pD(this).sourceManager;d.dirty(),d.prepareSource();var b=this.getInitialData(a,e);pL(b,this),this.dataTask.dirty(),this.dataTask.context.data=b,pD(this).dataBeforeProcessed=b,pG(this),this._initSelectedMapFromData(b)},a.prototype.fillDataTextStyle=function(a){if(a&&!fX(a))for(var c=["show"],b=0;b<a.length;b++)a[b]&&a[b].label&&jx(a[b],"label",c)},a.prototype.getInitialData=function(a,b){},a.prototype.appendData=function(a){this.getRawData().appendData(a.data)},a.prototype.getData=function(a){var b=pN(this);if(!b)return pD(this).data;var c=b.context.data;return null==a?c:c.getLinkedData(a)},a.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},a.prototype.setData=function(a){var b=pN(this);if(b){var c=b.context;c.outputData=a,b!==this.dataTask&&(c.data=a)}pD(this).data=a},a.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return s(a)},a.prototype.getSourceManager=function(){return pD(this).sourceManager},a.prototype.getSource=function(){return this.getSourceManager().getSource()},a.prototype.getRawData=function(){return pD(this).dataBeforeProcessed},a.prototype.getColorBy=function(){return this.get("colorBy")||"series"},a.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},a.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},a.prototype.formatTooltip=function(a,b,c){return pB({series:this,dataIndex:a,multipleSeries:b})},a.prototype.isAnimationEnabled=function(){var b=this.ecModel;if(u.node&&!(b&&b.ssr))return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),!!a},a.prototype.restoreData=function(){this.dataTask.dirty()},a.prototype.getColorFromPalette=function(b,c,d){var e=this.ecModel,a=bq.prototype.getColorFromPalette.call(this,b,c,d);return a||(a=e.getColorFromPalette(b,c,d)),a},a.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},a.prototype.getProgressive=function(){return this.get("progressive")},a.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},a.prototype.select=function(a,b){this._innerSelect(this.getData(b),a)},a.prototype.unselect=function(c,e){var a=this.option.selectedMap;if(a){var f=this.option.selectedMode,g=this.getData(e);if("series"===f||"all"===a){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var b=0;b<c.length;b++){var d=pE(g,c[b]);a[d]=!1,this._selectedDataIndicesMap[d]=-1}}},a.prototype.toggleSelect=function(b,c){for(var d=[],a=0;a<b.length;a++)d[0]=b[a],this.isSelected(b[a],c)?this.unselect(d,c):this.select(d,c)},a.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var b=this._selectedDataIndicesMap,c=ap(b),d=[],a=0;a<c.length;a++){var e=b[c[a]];e>=0&&d.push(e)}return d},a.prototype.isSelected=function(b,d){var a=this.option.selectedMap;if(!a)return!1;var c=this.getData(d);return("all"===a||a[pE(c,b)])&&!c.getItemModel(b).get(["select","disabled"])},a.prototype.isUniversalTransitionEnabled=function(){if(this[pF])return!0;var a=this.option.universalTransition;return!!a&&(!0===a||a&&a.enabled)},a.prototype._innerSelect=function(d,e){var h,i,a=this.option,b=a.selectedMode,f=e.length;if(b&&f){if("series"===b)a.selectedMap="all";else if("multiple"===b){aq(a.selectedMap)||(a.selectedMap={});for(var l=a.selectedMap,g=0;g<f;g++){var j=e[g],c=pE(d,j);l[c]=!0,this._selectedDataIndicesMap[c]=d.getRawIndex(j)}}else if("single"===b|| !0===b){var k=e[f-1],c=pE(d,k);a.selectedMap=((h={})[c]=!0,h),this._selectedDataIndicesMap=((i={})[c]=d.getRawIndex(k),i)}}},a.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var b=[];a.hasItemOption&&a.each(function(c){var d=a.getRawDataItem(c);d&&d.selected&&b.push(c)}),b.length>0&&this._innerSelect(a,b)}},a.registerClass=function(a){return d.registerClass(a)},a.protoInitialize=void((b=a.prototype).type="series.__base__",b.seriesIndex=0,b.ignoreStyleOnData=!1,b.hasSymbolVisual=!1,b.defaultSymbol="circle",b.visualStyleAccessPath="itemStyle",b.visualDrawType="fill"),a}(d);function pG(a){var b=a.name;jL(a)||(a.name=pH(a)||b)}function pH(a){var b=a.getRawData(),c=b.mapDimensionsAll("seriesName"),d=[];return j(c,function(c){var a=b.getDimensionInfo(c);a.displayName&&d.push(a.displayName)}),d.join(" ")}function pI(a){return a.model.getRawData().count()}function pJ(b){var a=b.model;return a.setData(a.getRawData().cloneShallow()),pK}function pK(b,a){a.outputData&&b.end>a.outputData.count()&&a.model.getRawData().cloneShallow(a.outputData)}function pL(a,b){j(f7(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(c){a.wrapMethod(c,m(pM,b))})}function pM(c,a){var b=pN(c);return b&&b.setOutputEnd((a||this).count()),a}function pN(b){var c=(b.ecModel||{}).scheduler,d=c&&c.getPipeline(b.uid);if(d){var a=d.currentTask;if(a){var e=a.agentStubMap;e&&(a=e.get(b.uid))}return a}}h(ae,aK),h(ae,bq),bd(ae,d);var e=ae,aL=function(){function a(){this.group=new t,this.uid=mO("viewComponent")}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){},a.prototype.updateLayout=function(a,b,c,d){},a.prototype.updateVisual=function(a,b,c,d){},a.prototype.toggleBlurSeries=function(a,b,c){},a.prototype.eachRendered=function(b){var a=this.group;a&&a.traverse(b)},a}();av(aL),$(aL);var g=aL;function af(){var b=a();return function(d){var a=b(d),c=d.pipelineContext,e=!!a.large,f=!!a.progressiveRender,g=a.large=!!(c&&c.large),h=a.progressiveRender=!!(c&&c.progressiveRender);return!!(e!==g||f!==h)&&"reset"}}var pO=Q.CMD,pP=[[],[],[]],pQ=Math.sqrt,pR=Math.atan2;function pS(i,c){if(c){var l,g,b,e,h,d,a=i.data,n=i.len(),o=pO.M,p=pO.C,q=pO.L,r=pO.R,s=pO.A,t=pO.Q;for(b=0,e=0;b<n;){switch(l=a[b++],e=b,g=0,l){case o:case q:g=1;break;case p:g=3;break;case t:g=2;break;case s:var u=c[4],v=c[5],j=pQ(c[0]*c[0]+c[1]*c[1]),k=pQ(c[2]*c[2]+c[3]*c[3]),m=pR(-c[1]/k,c[0]/j);a[b]*=j,a[b++]+=u,a[b]*=k,a[b++]+=v,a[b++]*=j,a[b++]*=k,a[b++]+=m,a[b++]+=m,b+=2,e=b;break;case r:d[0]=a[b++],d[1]=a[b++],cC(d,d,c),a[e++]=d[0],a[e++]=d[1],d[0]+=a[b++],d[1]+=a[b++],cC(d,d,c),a[e++]=d[0],a[e++]=d[1]}for(h=0;h<g;h++){var f=pP[h];f[0]=a[b++],f[1]=a[b++],cC(f,f,c),a[e++]=f[0],a[e++]=f[1]}}i.increaseVersion()}}var pT=Math.sqrt,pU=Math.sin,pV=Math.cos,pW=Math.PI;function pX(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function pY(a,b){return(a[0]*b[0]+a[1]*b[1])/(pX(a)*pX(b))}function pZ(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(pY(a,b))}function p$(i,j,k,l,r,p,a,b,s,t,u){var e=s*(pW/180),c=pV(e)*(i-k)/2+pU(e)*(j-l)/2,d=-1*pU(e)*(i-k)/2+pV(e)*(j-l)/2,m=c*c/(a*a)+d*d/(b*b);m>1&&(a*=pT(m),b*=pT(m));var q=(r===p?-1:1)*pT((a*a*(b*b)-a*a*(d*d)-b*b*(c*c))/(a*a*(d*d)+b*b*(c*c)))||0,g=q*a*d/b,h=-(q*b)*c/a,v=(i+k)/2+pV(e)*g-pU(e)*h,w=(j+l)/2+pU(e)*g+pV(e)*h,x=pZ([1,0],[(c-g)/a,(d-h)/b]),n=[(c-g)/a,(d-h)/b],o=[(-1*c-g)/a,(-1*d-h)/b],f=pZ(n,o);if(-1>=pY(n,o)&&(f=pW),pY(n,o)>=1&&(f=0),f<0){var y=Math.round(f/pW*1e6)/1e6;f=2*pW+y%2*pW}u.addData(t,v,w,a,b,x,f,e,p)}var p_=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,p0=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,p1=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.applyTransform=function(a){},a}(c);function p2(a){return null!=a.setData}function p3(b,c){var d=function(z){var n,f=new Q;if(!z)return f;var c=0,d=0,v=c,w=d,g=Q.CMD,x=z.match(p_);if(!x)return f;for(var y=0;y<x.length;y++){for(var A=x[y],o=A.charAt(0),e=void 0,a=A.match(p0)||[],B=a.length,p=0;p<B;p++)a[p]=parseFloat(a[p]);for(var b=0;b<B;){var h=void 0,i=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,j=c,k=d,l=void 0,m=void 0;switch(o){case"l":c+=a[b++],d+=a[b++],e=g.L,f.addData(e,c,d);break;case"L":c=a[b++],d=a[b++],e=g.L,f.addData(e,c,d);break;case"m":c+=a[b++],d+=a[b++],e=g.M,f.addData(e,c,d),v=c,w=d,o="l";break;case"M":c=a[b++],d=a[b++],e=g.M,f.addData(e,c,d),v=c,w=d,o="L";break;case"h":c+=a[b++],e=g.L,f.addData(e,c,d);break;case"H":c=a[b++],e=g.L,f.addData(e,c,d);break;case"v":d+=a[b++],e=g.L,f.addData(e,c,d);break;case"V":d=a[b++],e=g.L,f.addData(e,c,d);break;case"C":e=g.C,f.addData(e,a[b++],a[b++],a[b++],a[b++],a[b++],a[b++]),c=a[b-2],d=a[b-1];break;case"c":e=g.C,f.addData(e,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d),c+=a[b-2],d+=a[b-1];break;case"S":h=c,i=d,l=f.len(),m=f.data,n===g.C&&(h+=c-m[l-4],i+=d-m[l-3]),e=g.C,j=a[b++],k=a[b++],c=a[b++],d=a[b++],f.addData(e,h,i,j,k,c,d);break;case"s":h=c,i=d,l=f.len(),m=f.data,n===g.C&&(h+=c-m[l-4],i+=d-m[l-3]),e=g.C,j=c+a[b++],k=d+a[b++],c+=a[b++],d+=a[b++],f.addData(e,h,i,j,k,c,d);break;case"Q":j=a[b++],k=a[b++],c=a[b++],d=a[b++],e=g.Q,f.addData(e,j,k,c,d);break;case"q":j=a[b++]+c,k=a[b++]+d,c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,j,k,c,d);break;case"T":h=c,i=d,l=f.len(),m=f.data,n===g.Q&&(h+=c-m[l-4],i+=d-m[l-3]),c=a[b++],d=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case"t":h=c,i=d,l=f.len(),m=f.data,n===g.Q&&(h+=c-m[l-4],i+=d-m[l-3]),c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case"A":q=a[b++],r=a[b++],s=a[b++],t=a[b++],u=a[b++],j=c,k=d,c=a[b++],d=a[b++],e=g.A,p$(j,k,c,d,t,u,q,r,s,e,f);break;case"a":q=a[b++],r=a[b++],s=a[b++],t=a[b++],u=a[b++],j=c,k=d,c+=a[b++],d+=a[b++],e=g.A,p$(j,k,c,d,t,u,q,r,s,e,f)}}("z"===o||"Z"===o)&&(e=g.Z,f.addData(e),c=v,d=w),n=e}return f.toStatic(),f}(b),a=fP({},c);return a.buildPath=function(a){if(p2(a)){a.setData(d.data);var b=a.getContext();b&&a.rebuildPath(b,1)}else{var b=a;d.rebuildPath(b,1)}},a.applyTransform=function(a){pS(d,a),this.dirtyShape()},a}function p4(a,b){return new p1(p3(a,b))}function p5(b,d){d=d||{};var a=new c;return b.shape&&a.setShape(b.shape),a.setStyle(b.style),d.bakeTransform?pS(a.path,b.getComputedTransform()):d.toLocal?a.setLocalTransform(b.getComputedTransform()):a.copyTransform(b),a.buildPath=b.buildPath,a.applyTransform=a.applyTransform,a.z=b.z,a.z2=b.z2,a.zlevel=b.zlevel,a}var p6=function(){this.cx=0,this.cy=0,this.r=0},bv=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new p6},a.prototype.buildPath=function(b,a){b.moveTo(a.cx+a.r,a.cy),b.arc(a.cx,a.cy,a.r,0,2*Math.PI)},a}(c);bv.prototype.type="circle";var aM=bv,p7=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},bw=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new p7},a.prototype.buildPath=function(e,f){var a=f.cx,b=f.cy,c=f.rx,d=f.ry,g=.5522848*c,h=.5522848*d;e.moveTo(a-c,b),e.bezierCurveTo(a-c,b-h,a-g,b-d,a,b-d),e.bezierCurveTo(a+g,b-d,a+c,b-h,a+c,b),e.bezierCurveTo(a+c,b+h,a+g,b+d,a,b+d),e.bezierCurveTo(a-g,b+d,a-c,b+h,a-c,b),e.closePath()},a}(c);bw.prototype.type="ellipse";var c5=bw,c6=Math.PI,p8=2*c6,p9=Math.sin,qa=Math.cos,qb=Math.acos,qc=Math.atan2,qd=Math.abs,qe=Math.sqrt,qf=Math.max,qg=Math.min;function qh(s,t,u,v,i,j,F){var k=s-u,l=t-v,w=(F?j:-j)/qe(k*k+l*l),m=w*l,n=-w*k,o=s+m,p=t+n,q=u+m,r=v+n,x=(o+q)/2,y=(p+r)/2,b=q-o,a=r-p,d=b*b+a*a,e=i-j,c=o*r-q*p,f=(a<0?-1:1)*qe(qf(0,e*e*d-c*c)),g=(c*a-b*f)/d,h=(-c*b-a*f)/d,z=(c*a+b*f)/d,A=(-c*b+a*f)/d,B=g-x,C=h-y,D=z-x,E=A-y;return B*B+C*C>D*D+E*E&&(g=z,h=A),{cx:g,cy:h,x0:-m,y0:-n,x1:g*(i/e-1),y1:h*(i/e-1)}}var qi=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},bx=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new qi},a.prototype.buildPath=function(a,b){!function(c,n){var x,g=qf(n.r,0),d=qf(n.r0||0,0),M=g>0,V=d>0;if(M||V){if(M||(g=d,d=0),d>g){var W=g;g=d,d=W}var i=n.startAngle,j=n.endAngle;if(!(isNaN(i)||isNaN(j))){var e=n.cx,f=n.cy,h=!!n.clockwise,q=qd(j-i),N=q>p8&&q%p8;if(N>1e-4&&(q=N),g>1e-4){if(q>p8-1e-4)c.moveTo(e+g*qa(i),f+g*p9(i)),c.arc(e,f,g,i,j,!h),d>1e-4&&(c.moveTo(e+d*qa(j),f+d*p9(j)),c.arc(e,f,d,j,i,h));else{var D=void 0,E=void 0,F=void 0,G=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,y=void 0,z=void 0,o=void 0,p=void 0,t=void 0,u=void 0,A=void 0,B=void 0,r=g*qa(i),s=g*p9(i),v=d*qa(j),w=d*p9(j),H=q>1e-4;if(H){var S=n.cornerRadius;S&&(D=(x=function(a){var c;if(cv(a)){var b=a.length;if(!b)return a;c=1===b?[a[0],a[0],0,0]:2===b?[a[0],a[0],a[1],a[1]]:3===b?a.concat(a[2]):a}else c=[a,a,a,a];return c}(S))[0],E=x[1],F=x[2],G=x[3]);var C=qd(g-d)/2;if(O=qg(C,F),P=qg(C,G),Q=qg(C,D),R=qg(C,E),o=y=qf(O,P),p=z=qf(Q,R),(y>1e-4||z>1e-4)&&(t=g*qa(j),u=g*p9(j),A=d*qa(i),B=d*p9(i),q<c6)){var k=function(b,c,j,k,d,e,l,m){var f=j-b,g=k-c,h=l-d,i=m-e,a=i*f-h*g;if(!(a*a<1e-4))return a=(h*(c-e)-i*(b-d))/a,[b+a*f,c+a*g]}(r,s,A,B,t,u,v,w);if(k){var I=r-k[0],J=s-k[1],K=t-k[0],L=u-k[1],T=1/p9(qb((I*K+J*L)/(qe(I*I+J*J)*qe(K*K+L*L)))/2),U=qe(k[0]*k[0]+k[1]*k[1]);o=qg(y,(g-U)/(T+1)),p=qg(z,(d-U)/(T-1))}}}if(H){if(o>1e-4){var l=qg(F,o),m=qg(G,o),a=qh(A,B,r,s,g,l,h),b=qh(t,u,v,w,g,m,h);c.moveTo(e+a.cx+a.x0,f+a.cy+a.y0),o<y&&l===m?c.arc(e+a.cx,f+a.cy,o,qc(a.y0,a.x0),qc(b.y0,b.x0),!h):(l>0&&c.arc(e+a.cx,f+a.cy,l,qc(a.y0,a.x0),qc(a.y1,a.x1),!h),c.arc(e,f,g,qc(a.cy+a.y1,a.cx+a.x1),qc(b.cy+b.y1,b.cx+b.x1),!h),m>0&&c.arc(e+b.cx,f+b.cy,m,qc(b.y1,b.x1),qc(b.y0,b.x0),!h))}else c.moveTo(e+r,f+s),c.arc(e,f,g,i,j,!h)}else c.moveTo(e+r,f+s);if(d>1e-4&&H){if(p>1e-4){var l=qg(D,p),m=qg(E,p),a=qh(v,w,t,u,d,-m,h),b=qh(r,s,A,B,d,-l,h);c.lineTo(e+a.cx+a.x0,f+a.cy+a.y0),p<z&&l===m?c.arc(e+a.cx,f+a.cy,p,qc(a.y0,a.x0),qc(b.y0,b.x0),!h):(m>0&&c.arc(e+a.cx,f+a.cy,m,qc(a.y0,a.x0),qc(a.y1,a.x1),!h),c.arc(e,f,d,qc(a.cy+a.y1,a.cx+a.x1),qc(b.cy+b.y1,b.cx+b.x1),h),l>0&&c.arc(e+b.cx,f+b.cy,l,qc(b.y1,b.x1),qc(b.y0,b.x0),!h))}else c.lineTo(e+v,f+w),c.arc(e,f,d,j,i,h)}else c.lineTo(e+v,f+w)}}else c.moveTo(e,f);c.closePath()}}}(a,b)},a.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},a}(c);bx.prototype.type="sector";var aN=bx,qj=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},by=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new qj},a.prototype.buildPath=function(b,a){var c=a.cx,d=a.cy,e=2*Math.PI;b.moveTo(c+a.r,d),b.arc(c,d,a.r,0,e,!1),b.moveTo(c+a.r0,d),b.arc(c,d,a.r0,0,e,!0)},a}(c);by.prototype.type="ring";var c7=by;function qk(c,d,e){var g=d.smooth,a=d.points;if(a&&a.length>=2){if(g){var h=function(b,t,q,j){var k,l,c,d,e=[],g=[],r=[],s=[];if(j){c=[1/0,1/0],d=[-1/0,-1/0];for(var a=0,f=b.length;a<f;a++)gn(c,c,b[a]),go(d,d,b[a]);gn(c,c,j[0]),go(d,d,j[1])}for(var a=0,f=b.length;a<f;a++){var m=b[a];if(q)k=b[a?a-1:f-1],l=b[(a+1)%f];else{if(0===a||a===f-1){e.push(gd(b[a]));continue}k=b[a-1],l=b[a+1]}gg(g,l,k),gj(g,g,t);var n=cA(m,k),o=cA(m,l),p=n+o;0!==p&&(n/=p,o/=p),gj(r,g,-n),gj(s,g,o);var h=gf([],m,r),i=gf([],m,s);j&&(go(h,h,c),gn(h,h,d),go(i,i,c),gn(i,i,d)),e.push(h),e.push(i)}return q&&e.push(e.shift()),e}(a,g,e,d.smoothConstraint);c.moveTo(a[0][0],a[0][1]);for(var f=a.length,b=0;b<(e?f:f-1);b++){var i=h[2*b],j=h[2*b+1],k=a[(b+1)%f];c.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}}else{c.moveTo(a[0][0],a[0][1]);for(var b=1,l=a.length;b<l;b++)c.lineTo(a[b][0],a[b][1])}e&&c.closePath()}}var ql=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},bz=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new ql},a.prototype.buildPath=function(a,b){qk(a,b,!0)},a}(c);bz.prototype.type="polygon";var bA=bz,qm=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},bB=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new qm},a.prototype.buildPath=function(a,b){qk(a,b,!1)},a}(c);bB.prototype.type="polyline";var c8=bB,qn={},qo=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},bC=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new qo},a.prototype.buildPath=function(h,a){if(this.subPixelOptimize){var e,f,c,d,g=lg(qn,a,this.style);e=g.x1,f=g.y1,c=g.x2,d=g.y2}else e=a.x1,f=a.y1,c=a.x2,d=a.y2;var b=a.percent;0!==b&&(h.moveTo(e,f),b<1&&(c=e*(1-b)+c*b,d=f*(1-b)+d*b),h.lineTo(c,d))},a.prototype.pointAt=function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]},a}(c);bC.prototype.type="line";var aO=bC,qp=[],qq=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function qr(a,b,c){var d=a.cpx2,e=a.cpy2;return null!=d||null!=e?[(c?hh:hg)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?hh:hg)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?hn:cG)(a.x1,a.cpx1,a.x2,b),(c?hn:cG)(a.y1,a.cpy1,a.y2,b)]}var bD=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new qq},a.prototype.buildPath=function(i,a){var j=a.x1,k=a.y1,c=a.x2,d=a.y2,e=a.cpx1,f=a.cpy1,g=a.cpx2,h=a.cpy2,b=a.percent;0!==b&&(i.moveTo(j,k),null==g||null==h?(b<1&&(hp(j,e,c,b,qp),e=qp[1],c=qp[2],hp(k,f,d,b,qp),f=qp[1],d=qp[2]),i.quadraticCurveTo(e,f,c,d)):(b<1&&(hk(j,e,g,c,b,qp),e=qp[1],g=qp[2],c=qp[3],hk(k,f,h,d,b,qp),f=qp[1],h=qp[2],d=qp[3]),i.bezierCurveTo(e,f,g,h,c,d)))},a.prototype.pointAt=function(a){return qr(this.shape,a,!1)},a.prototype.tangentAt=function(b){var a=qr(this.shape,b,!0);return gk(a,a)},a}(c);bD.prototype.type="bezier-curve";var bE=bD,qs=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},bF=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new qs},a.prototype.buildPath=function(d,a){var e=a.cx,f=a.cy,b=Math.max(a.r,0),c=a.startAngle,g=a.endAngle,h=a.clockwise;d.moveTo(Math.cos(c)*b+e,Math.sin(c)*b+f),d.arc(e,f,b,c,g,!h)},a}(c);bF.prototype.type="arc";var c9=bF,qt=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="compound",a}return cp(a,b),a.prototype._updatePathDirty=function(){for(var c=this.shape.paths,a=this.shapeChanged(),b=0;b<c.length;b++)a=a||c[b].shapeChanged();a&&this.dirtyShape()},a.prototype.beforeBrush=function(){this._updatePathDirty();for(var b=this.shape.paths||[],c=this.getGlobalScale(),a=0;a<b.length;a++)b[a].path||b[a].createPathProxy(),b[a].path.setScale(c[0],c[1],b[a].segmentIgnoreThreshold)},a.prototype.buildPath=function(c,d){for(var b=d.paths||[],a=0;a<b.length;a++)b[a].buildPath(c,b[a].shape,!0)},a.prototype.afterBrush=function(){for(var b=this.shape.paths||[],a=0;a<b.length;a++)b[a].pathUpdated()},a.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),c.prototype.getBoundingRect.call(this)},a}(c),bG=function(){function a(a){this.colorStops=a||[]}return a.prototype.addColorStop=function(a,b){this.colorStops.push({offset:a,color:b})},a}(),qu=function(b){function a(c,d,e,f,g,h){var a=b.call(this,g)||this;return a.x=null==c?0:c,a.y=null==d?0:d,a.x2=null==e?1:e,a.y2=null==f?0:f,a.type="linear",a.global=h||!1,a}return cp(a,b),a}(bG),qv=function(b){function a(c,d,e,f,g){var a=b.call(this,f)||this;return a.x=null==c?.5:c,a.y=null==d?.5:d,a.r=null==e?.5:e,a.type="radial",a.global=g||!1,a}return cp(a,b),a}(bG),qw=[0,0],qx=[0,0],qy=new k,qz=new k,qA=function(){function a(b,c){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new k;for(var a=0;a<2;a++)this._axes[a]=new k;b&&this.fromBoundingRect(b,c)}return a.prototype.fromBoundingRect=function(d,g){var a=this._corners,c=this._axes,e=d.x,f=d.y,h=e+d.width,i=f+d.height;if(a[0].set(e,f),a[1].set(h,f),a[2].set(h,i),a[3].set(e,i),g)for(var b=0;b<4;b++)a[b].transform(g);k.sub(c[0],a[1],a[0]),k.sub(c[1],a[3],a[0]),c[0].normalize(),c[1].normalize();for(var b=0;b<2;b++)this._origin[b]=c[b].dot(a[0])},a.prototype.intersect=function(c,d){var b=!0,a=!d;return qy.set(1/0,1/0),qz.set(0,0),!this._intersectCheckOneSide(this,c,qy,qz,a,1)&&(b=!1,a)|| !this._intersectCheckOneSide(c,this,qy,qz,a,-1)&&(b=!1,a)||a||k.copy(d,b?qy:qz),b},a.prototype._intersectCheckOneSide=function(i,j,d,g,l,e){for(var h=!0,c=0;c<2;c++){var f=this._axes[c];if(this._getProjMinMaxOnAxis(c,i._corners,qw),this._getProjMinMaxOnAxis(c,j._corners,qx),qw[1]<qx[0]||qw[0]>qx[1]){if(h=!1,l)return h;var a=Math.abs(qx[0]-qw[1]),b=Math.abs(qw[0]-qx[1]);Math.min(a,b)>g.len()&&(a<b?k.scale(g,f,-a*e):k.scale(g,f,b*e))}else if(d){var a=Math.abs(qx[0]-qw[1]),b=Math.abs(qw[0]-qx[1]);Math.min(a,b)<d.len()&&(a<b?k.scale(d,f,a*e):k.scale(d,f,-b*e))}}return h},a.prototype._getProjMinMaxOnAxis=function(a,b,f){for(var g=this._axes[a],h=this._origin,i=b[0].dot(g)+h[a],c=i,d=i,e=1;e<b.length;e++){var j=b[e].dot(g)+h[a];c=Math.min(j,c),d=Math.max(j,d)}f[0]=c,f[1]=d},a}(),qB=[],qC=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return cp(a,b),a.prototype.traverse=function(a,b){a.call(b,this)},a.prototype.useStyle=function(){this.style={}},a.prototype.getCursor=function(){return this._cursor},a.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},a.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},a.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},a.prototype.addDisplayables=function(c,a){a=a||!1;for(var b=0;b<c.length;b++)this.addDisplayable(c[b],a)},a.prototype.getDisplayables=function(){return this._displayables},a.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},a.prototype.eachPendingDisplayable=function(b){for(var a=this._cursor;a<this._displayables.length;a++)b&&b(this._displayables[a]);for(var a=0;a<this._temporaryDisplayables.length;a++)b&&b(this._temporaryDisplayables[a])},a.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this,b.update(),b.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},a.prototype.getBoundingRect=function(){if(!this._rect){for(var c=new as(1/0,1/0,-1/0,-1/0),a=0;a<this._displayables.length;a++){var b=this._displayables[a],d=b.getBoundingRect().clone();b.needLocalTransform()&&d.applyTransform(b.getLocalTransform(qB)),c.union(d)}this._rect=c}return this._rect},a.prototype.contain=function(b,c){var d=this.transformCoordToLocal(b,c);if(this.getBoundingRect().contain(d[0],d[1])){for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(b,c))return!0}return!1},a}(P),qD=Math.max,qE=Math.min,qF={};function qG(a){return c.extend(a)}var qH=function(a,b){var c=p3(a,b);return function(b){function a(d){var a=b.call(this,d)||this;return a.applyTransform=c.applyTransform,a.buildPath=c.buildPath,a}return cp(a,b),a}(p1)};function qI(a,b){return qH(a,b)}function p(a,b){qF[a]=b}function qJ(a){if(qF.hasOwnProperty(a))return qF[a]}function qK(c,d,a,e){var b=p4(c,d);return a&&("center"===e&&(a=qM(a,b.getBoundingRect())),qO(b,a)),b}function qL(b,a,d){var c=new cU({style:{image:b,x:a.x,y:a.y,width:a.width,height:a.height},onload:function(b){if("center"===d){var e={width:b.width,height:b.height};c.setStyle(qM(a,e))}}});return c}function qM(a,d){var c,e=d.width/d.height,b=a.height*e;c=b<=a.width?a.height:(b=a.width)/e;var f=a.x+a.width/2,g=a.y+a.height/2;return{x:f-b/2,y:g-c/2,width:b,height:c}}var qN=function(d,e){for(var f=[],g=d.length,a=0;a<g;a++){var h=d[a];f.push(h.getUpdatedPathProxy(!0))}var b=new c(e);return b.createPathProxy(),b.buildPath=function(a){if(p2(a)){a.appendPath(f);var b=a.getContext();b&&a.rebuildPath(b,1)}},b};function qO(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function qP(a){return lg(a.shape,a.shape,a.style),a}function qQ(a){return lh(a.shape,a.shape,a.style),a}var qR=cV;function qS(a,c){for(var b=cK([]);a&&a!==c;)iA(b,a.getLocalTransform(),b),a=a.parent;return b}function qT(b,a,c){return a&&!fR(a)&&(a=ar.getLocalTransform(a)),c&&(a=iE([],a)),cC([],b,a)}function qU(c,a,f){var d=0===a[4]||0===a[5]||0===a[0]?1:Math.abs(2*a[4]/a[0]),e=0===a[4]||0===a[5]||0===a[2]?1:Math.abs(2*a[4]/a[2]),b=["left"===c?-d:"right"===c?d:0,"top"===c?-e:"bottom"===c?e:0];return Math.abs((b=qT(b,a,f))[0])>Math.abs(b[1])?b[0]>0?"right":"left":b[1]>0?"bottom":"top"}function qV(a){return!a.isGroup}function qW(a,b,e){if(a&&b){var d,c,f=(c={},(d=a).traverse(function(a){qV(a)&&a.anid&&(c[a.anid]=a)}),c);b.traverse(function(a){if(qV(a)&&a.anid){var b=f[a.anid];if(b){var c=g(a);a.attr(g(b)),mk(a,c,e,lz(a).dataIndex)}}})}function g(a){var c,b={x:a.x,y:a.y,rotation:a.rotation};return null!=(c=a).shape&&(b.shape=fP({},a.shape)),b}}function qX(a,b){return Y(a,function(d){var a=d[0];a=qD(a,b.x),a=qE(a,b.x+b.width);var c=d[1];return c=qD(c,b.y),c=qE(c,b.y+b.height),[a,c]})}function qY(a,b){var c=qD(a.x,b.x),e=qE(a.x+a.width,b.x+b.width),d=qD(a.y,b.y),f=qE(a.y+a.height,b.y+b.height);if(e>=c&&f>=d)return{x:c,y:d,width:e-c,height:f-d}}function qZ(a,e,b){var c=fP({rectHover:!0},e),d=c.style={strokeNoScale:!0};if(b=b||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(d.image=a.slice(8),x(d,b),new cU(c)):qK(a.replace("path://",""),c,b,"center")}function q$(e,f,g,h,a){for(var b=0,c=a[a.length-1];b<a.length;b++){var d=a[b];if(q_(e,f,g,h,d[0],d[1],c[0],c[1]))return!0;c=d}}function q_(b,c,z,A,d,e,B,C){var f,g,h,i,j=z-b,k=A-c,l=B-d,m=C-e,a=(f=l,g=m,h=j,i=k,f*i-h*g);if(q0(a))return!1;var n,o,p,q,r=b-d,s=c-e,t=(n=r,o=s,p=j,q=k,(n*q-p*o)/a);if(t<0||t>1)return!1;var u,v,w,x,y=(u=r,v=s,w=l,x=m,(u*x-w*v)/a);return!(y<0)&&!(y>1)}function q0(a){return a<=1e-6&&a>= -0.000001}function q1(a){var b=a.itemTooltipOption,f=a.componentModel,c=a.itemName,k=fT(b)?{formatter:b}:b,d=f.mainType,g=f.componentIndex,h={componentType:d,name:c,$vars:["name"]};h[d+"Index"]=g;var i=a.formatterParamsExtra;i&&j(ap(i),function(a){ga(h,a)||(h[a]=i[a],h.$vars.push(a))});var e=lz(a.el);e.componentMainType=d,e.componentIndex=g,e.tooltipConfig={name:c,option:x({content:c,formatterParams:h},k)}}function q2(a,b){var c;a.isGroup&&(c=b(a)),c||a.traverse(b)}function q3(a,c){if(a){if(cv(a))for(var b=0;b<a.length;b++)q2(a[b],c);else q2(a,c)}}p("circle",aM),p("ellipse",c5),p("sector",aN),p("ring",c7),p("polygon",bA),p("polyline",c8),p("rect",z),p("line",aO),p("bezierCurve",bE),p("arc",c9);var q4=a(),q5=af(),aP=function(){function a(){this.group=new t,this.uid=mO("viewChart"),this.renderTask=oK({plan:q8,reset:q9}),this.renderTask.context={view:this}}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.highlight=function(c,d,e,a){var b=c.getData(a&&a.dataType);b&&q7(b,a,"emphasis")},a.prototype.downplay=function(c,d,e,a){var b=c.getData(a&&a.dataType);b&&q7(b,a,"normal")},a.prototype.remove=function(a,b){this.group.removeAll()},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateLayout=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.eachRendered=function(a){q3(this.group,a)},a.markUpdateMethod=function(a,b){q4(a).updateMethod=b},a.protoInitialize=void(a.prototype.type="chart"),a}();function q6(a,b,c){a&&me(a)&&("emphasis"===b?lX:lY)(a,c)}function q7(c,a,f){var d,b,e=jN(c,a),g=a&&null!=a.highlightKey?(null==(b=lC[d=a.highlightKey])&&lB<=32&&(b=lC[d]=lB++),b):null;null!=e?j(jw(e),function(a){q6(c.getItemGraphicEl(a),f,g)}):c.eachItemGraphicEl(function(a){q6(a,f,g)})}function q8(a){return q5(a.model)}function q9(a){var e=a.model,g=a.ecModel,h=a.api,b=a.payload,i=e.pipelineContext.progressiveRender,f=a.view,c=b&&q4(b).updateMethod,d=i?"incrementalPrepareRender":c&&f[c]?c:"render";return"render"!==d&&f[d](e,g,h,b),ra[d]}av(aP,["dispose"]),$(aP);var ra={incrementalPrepareRender:{progress:function(b,a){a.view.incrementalRender(b,a.model,a.ecModel,a.api,a.payload)}},render:{forceFirstProgress:!0,progress:function(b,a){a.view.render(a.model,a.ecModel,a.api,a.payload)}}},f=aP,rb="\0__throttleOriginMethod",rc="\0__throttleRate",rd="\0__throttleType";function da(c,b,d){var e,f,g,h,i,j=0,k=0,l=null;function m(){k=new Date().getTime(),l=null,c.apply(g,h||[])}b=b||0;var a=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];e=new Date().getTime(),g=this,h=c;var n=i||b,o=i||d;i=null,f=e-(o?j:k)-n,clearTimeout(l),o?l=setTimeout(m,n):f>=0?m():l=setTimeout(m,-f),j=e};return a.clear=function(){l&&(clearTimeout(l),l=null)},a.debounceNextCall=function(a){i=a},a}function re(d,e,b,c){var a=d[e];if(a){var f=a[rb]||a,g=a[rd],h=a[rc];if(h!==b||g!==c){if(null==b||!c)return d[e]=f;(a=d[e]=da(f,b,"debounce"===c))[rb]=f,a[rd]=c,a[rc]=b}return a}}function rf(b,c){var a=b[c];a&&a[rb]&&(a.clear&&a.clear(),b[c]=a[rb])}var rg=a(),rh={itemStyle:I(bk,!0),lineStyle:I(bj,!0)},ri={lineStyle:"stroke",itemStyle:"fill"};function rj(b,a){var c=b.visualStyleMapper||rh[a];return c||(console.warn("Unkown style type '"+a+"'."),rh.itemStyle)}function rk(b,a){var c=b.visualDrawType||ri[a];return c||(console.warn("Unkown style type '"+a+"'."),"fill")}var rl=new _,rm=Math.PI,db=function(){function a(c,d,a,b){this._stageTaskMap=s(),this.ecInstance=c,this.api=d,a=this._dataProcessorHandlers=a.slice(),b=this._visualHandlers=b.slice(),this._allHandlers=a.concat(b)}return a.prototype.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(b){var a=b.overallTask;a&&a.dirty()})},a.prototype.getPerformArgs=function(c,f){if(c.__pipeline){var a=this._pipelineMap.get(c.__pipeline.id),b=a.context,e=!f&&a.progressiveEnabled&&(!b||b.progressiveRender)&&c.__idxInPipeline>a.blockIndex?a.step:null,d=b&&b.modDataCount;return{step:e,modBy:null!=d?Math.ceil(d/e):null,modDataCount:d}}},a.prototype.getPipeline=function(a){return this._pipelineMap.get(a)},a.prototype.updateStreamModes=function(a,d){var b=this._pipelineMap.get(a.uid),c=a.getData().count(),e=b.progressiveEnabled&&d.incrementalPrepareRender&&c>=b.threshold,f=a.get("large")&&c>=a.get("largeThreshold"),g="mod"===a.get("progressiveChunkMode")?c:null;a.pipelineContext=b.context={progressiveRender:e,modDataCount:g,large:f}},a.prototype.restorePipelines=function(a){var b=this,c=b._pipelineMap=s();a.eachSeries(function(a){var d=a.getProgressive(),e=a.uid;c.set(e,{id:e,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:d&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0}),b._pipe(a,a.dataTask)})},a.prototype.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.api.getModel(),c=this.api;j(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,{});f1(!(d.reset&&d.overallReset),""),d.reset&&this._createSeriesStageTask(d,e,b,c),d.overallReset&&this._createOverallStageTask(d,e,b,c)},this)},a.prototype.prepareView=function(c,d,e,f){var a=c.renderTask,b=a.context;b.model=d,b.ecModel=e,b.api=f,a.__block=!c.incrementalPrepareRender,this._pipe(d,a)},a.prototype.performDataProcessorTasks=function(a,b){this._performStageTasks(this._dataProcessorHandlers,a,b,{block:!0})},a.prototype.performVisualTasks=function(a,b,c){this._performStageTasks(this._visualHandlers,a,b,c)},a.prototype._performStageTasks=function(b,d,e,a){a=a||{};var c=!1,f=this;function g(a,b){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(b.__pipeline.id))}j(b,function(h,n){if(!a.visualType||a.visualType===h.visualType){var i=f._stageTaskMap.get(h.uid),j=i.seriesTaskMap,b=i.overallTask;if(b){var l,k=b.agentStubMap;k.each(function(b){g(a,b)&&(b.dirty(),l=!0)}),l&&b.dirty(),f.updatePayload(b,e);var m=f.getPerformArgs(b,a.block);k.each(function(a){a.perform(m)}),b.perform(m)&&(c=!0)}else j&&j.each(function(b,j){g(a,b)&&b.dirty();var i=f.getPerformArgs(b,a.block);i.skip=!h.performRawSeries&&d.isSeriesFiltered(b.context.model),f.updatePayload(b,e),b.perform(i)&&(c=!0)})}}),this.unfinished=c||this.unfinished},a.prototype.performSeriesTasks=function(a){var b;a.eachSeries(function(a){b=a.dataTask.perform()||b}),this.unfinished=b||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(b){var a=b.tail;do{if(a.__block){b.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},a.prototype.updatePayload=function(b,a){"remain"!==a&&(b.context.payload=a)},a.prototype._createSeriesStageTask=function(a,d,b,g){var h=this,i=d.seriesTaskMap,j=d.seriesTaskMap=s(),e=a.seriesType,f=a.getTargetSeries;function c(c){var d=c.uid,e=j.set(d,i&&i.get(d)||oK({plan:rr,reset:rs,count:rv}));e.context={model:c,ecModel:b,api:g,useClearVisual:a.isVisual&&!a.isLayout,plan:a.plan,reset:a.reset,scheduler:h},h._pipe(c,e)}a.createOnAllSeries?b.eachRawSeries(c):e?b.eachRawSeriesByType(e,c):f&&f(b,g).each(c)},a.prototype._createOverallStageTask=function(a,e,b,f){var i=this,c=e.overallTask=e.overallTask||oK({reset:rn});c.context={ecModel:b,api:f,overallReset:a.overallReset,scheduler:i};var m=c.agentStubMap,n=c.agentStubMap=s(),g=a.seriesType,h=a.getTargetSeries,k=!0,l=!1;function d(b){var d=b.uid,a=n.set(d,m&&m.get(d)||(l=!0,oK({reset:ro,onDirty:rq})));a.context={model:b,overallProgress:k},a.agent=c,a.__block=k,i._pipe(b,a)}f1(!a.createOnAllSeries,""),g?b.eachRawSeriesByType(g,d):h?h(b,f).each(d):(k=!1,j(b.getSeries(),d)),l&&c.dirty()},a.prototype._pipe=function(c,b){var d=c.uid,a=this._pipelineMap.get(d);a.head||(a.head=b),a.tail&&a.tail.pipe(b),a.tail=b,b.__idxInPipeline=a.count++,b.__pipeline=a},a.wrapStageHandler=function(a,b){return cw(a)&&(a={overallReset:a,seriesType:rw(a)}),a.uid=mO("stageHandler"),b&&(a.visualType=b),a},a}();function rn(a){a.overallReset(a.ecModel,a.api,a.payload)}function ro(a){return a.overallProgress&&rp}function rp(){this.agent.dirty(),this.getDownstream().dirty()}function rq(){this.agent&&this.agent.dirty()}function rr(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function rs(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=jw(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?Y(b,function(b,a){return ru(a)}):rt}var rt=ru(0);function ru(a){return function(c,e){var f=e.data,b=e.resetDefines[a];if(b&&b.dataEach)for(var d=c.start;d<c.end;d++)b.dataEach(f,d);else b&&b.progress&&b.progress(c,f)}}function rv(a){return a.data.count()}function rw(a){e5=null;try{a(ag,dc)}catch(b){}return e5}var ag={},dc={};function bH(a,b){for(var c in b.prototype)a[c]=y}bH(ag,c0),bH(dc,c1),ag.eachSeriesByType=ag.eachRawSeriesByType=function(a){e5=a},ag.eachComponent=function(a){"series"===a.mainType&&a.subType&&(e5=a.subType)};var rx=db,bI=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],l="#B9B8CE",bJ="#100C2A",ah=function(){return{axisLine:{lineStyle:{color:l}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},bK=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],bL={darkMode:!0,color:bK,backgroundColor:bJ,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:l}},textStyle:{color:l},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:l}},dataZoom:{borderColor:"#71708A",textStyle:{color:l},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:l}},timeline:{lineStyle:{color:l},label:{color:l},controlStyle:{color:l,borderColor:l}},calendar:{itemStyle:{color:bJ},dayLabel:{color:l},monthLabel:{color:l},yearLabel:{color:l}},timeAxis:ah(),logAxis:ah(),valueAxis:ah(),categoryAxis:ah(),line:{symbol:"circle"},graph:{color:bK},gauge:{title:{color:l},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:l},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};bL.categoryAxis.splitLine.show=!1;var ry=function(){function a(){}return a.prototype.normalizeQuery=function(a){var b={},d={},e={};if(fT(a)){var c=jZ(a);b.mainType=c.main||null,b.subType=c.sub||null}else{var f=["Index","Name","Id"],g={name:1,dataIndex:1,dataType:1};j(a,function(c,a){for(var h=!1,i=0;i<f.length;i++){var j=f[i],k=a.lastIndexOf(j);if(k>0&&k===a.length-j.length){var l=a.slice(0,k);"data"!==l&&(b.mainType=l,b[j.toLowerCase()]=c,h=!0)}}g.hasOwnProperty(a)&&(d[a]=c,h=!0),h||(e[a]=c)})}return{cptQuery:b,dataQuery:d,otherQuery:e}},a.prototype.filter=function(h,e){var b=this.eventInfo;if(!b)return!0;var i=b.targetEl,d=b.packedEvent,a=b.model,f=b.view;if(!a||!f)return!0;var c=e.cptQuery,g=e.dataQuery;return j(c,a,"mainType")&&j(c,a,"subType")&&j(c,a,"index","componentIndex")&&j(c,a,"name")&&j(c,a,"id")&&j(g,d,"name")&&j(g,d,"dataIndex")&&j(g,d,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(h,e.otherQuery,i,d));function j(b,c,a,d){return null==b[a]||c[d||a]===b[a]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),dd=["symbol","symbolSize","symbolRotate","symbolOffset"],rz=dd.concat(["symbolKeepAspect"]);function rA(a,b,c){switch(c){case"color":return a.getItemVisual(b,"style")[a.getVisual("drawType")];case"opacity":return a.getItemVisual(b,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(b,c)}}function rB(a,b){switch(b){case"color":return a.getVisual("style")[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(b)}}function rC(a,b,d,c){switch(d){case"color":a.ensureUniqueItemVisual(b,"style")[a.getVisual("drawType")]=c,a.setItemVisual(b,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(b,"style").opacity=c;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(b,d,c)}}function rD(a,b){j([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(c){b(c[0],function(b,g,h){var d,e,f;b=fP({},b),h.dispatchAction(fP(b,{type:c[1],seriesIndex:(d=g,e=b,f=[],d.eachComponent({mainType:"series",subType:a,query:e},function(a){f.push(a.seriesIndex)}),f)}))})})}function rE(a,b,c,d,f){var e=a+b;c.isSilent(e)||d.eachComponent({mainType:"series",subType:"pie"},function(a){for(var j=a.seriesIndex,b=a.option.selectedMap,i=f.selected,d=0;d<i.length;d++)if(i[d].seriesIndex===j){var g=a.getData(),h=jN(g,f.fromActionPayload);c.trigger(e,{type:e,seriesId:a.id,name:cv(h)?g.getName(h[0]):g.getName(h),selected:fT(b)?b:fP({},b)})}})}function rF(a,c,d){for(var b;a&&(!c(a)||(b=a,!d));)a=a.__hostTarget||a.parent;return b}var rG=Math.round(9*Math.random()),rH="function"==typeof Object.defineProperty,de=function(){function a(){this._id="__ec_inner_"+rG++}return a.prototype.get=function(a){return this._guard(a)[this._id]},a.prototype.set=function(c,a){var b=this._guard(c);return rH?Object.defineProperty(b,this._id,{value:a,enumerable:!1,configurable:!0}):b[this._id]=a,this},a.prototype.delete=function(a){return!!this.has(a)&&(delete this._guard(a)[this._id],!0)},a.prototype.has=function(a){return!!this._guard(a)[this._id]},a.prototype._guard=function(a){if(a!==Object(a))throw TypeError("Value of WeakMap is not a non-null object.");return a},a}(),df=c.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,f=b.width/2,e=b.height/2;a.moveTo(c,d-e),a.lineTo(c+f,d+e),a.lineTo(c-f,d+e),a.closePath()}}),dg=c.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),dh=c.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(d,g){var b=g.x,h=g.y,k=g.width/5*3,l=Math.max(k,g.height),a=k/2,c=a*a/(l-a),e=h-l+a+c,f=Math.asin(c/a),i=Math.cos(f)*a,m=Math.sin(f),n=Math.cos(f),j=.6*a,o=.7*a;d.moveTo(b-i,e+c),d.arc(b,e,a,Math.PI-f,2*Math.PI+f),d.bezierCurveTo(b+i-m*j,e+c+n*j,b,h-o,b,h),d.bezierCurveTo(b,h-o,b-i+m*j,e+c+n*j,b-i,e+c),d.closePath()}}),di=c.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,d){var e=d.height,g=d.width,b=d.x,c=d.y,f=g/3*2;a.moveTo(b,c),a.lineTo(b+f,c+e),a.lineTo(b,c+e/4*3),a.lineTo(b-f,c+e),a.lineTo(b,c),a.closePath()}}),rI={line:function(b,c,e,d,a){a.x1=b,a.y1=c+d/2,a.x2=b+e,a.y2=c+d/2},rect:function(b,c,d,e,a){a.x=b,a.y=c,a.width=d,a.height=e},roundRect:function(d,e,b,c,a){a.x=d,a.y=e,a.width=b,a.height=c,a.r=Math.min(b,c)/4},square:function(c,d,e,f,a){var b=Math.min(e,f);a.x=c,a.y=d,a.width=b,a.height=b},circle:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.r=Math.min(b,c)/2},diamond:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.width=b,a.height=c},pin:function(d,e,b,c,a){a.x=d+b/2,a.y=e+c/2,a.width=b,a.height=c},arrow:function(d,e,b,c,a){a.x=d+b/2,a.y=e+c/2,a.width=b,a.height=c},triangle:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.width=b,a.height=c}},rJ={};j({line:aO,rect:z,roundRect:z,square:z,circle:aM,diamond:dg,pin:dh,arrow:di,triangle:df},function(a,b){rJ[b]=new a});var rK=c.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,b,a){var c=i0(e,b,a),d=this.shape;return d&&"pin"===d.symbolType&&"inside"===b.position&&(c.y=a.y+.4*a.height),c},buildPath:function(d,a,e){var c=a.symbolType;if("none"!==c){var b=rJ[c];b||(b=rJ[c="rect"]),rI[c](a.x,a.y,a.width,a.height,b.shape),b.buildPath(d,b.shape,e)}}});function rL(b,c){if("image"!==this.type){var a=this.style;this.__isEmptyBrush?(a.stroke=b,a.fill=c||"#fff",a.lineWidth=2):"line"===this.shape.symbolType?a.stroke=b:a.fill=b,this.markRedraw()}}function rM(a,c,d,e,f,g,h){var b,i=0===a.indexOf("empty");return i&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),(b=0===a.indexOf("image://")?qL(a.slice(8),new as(c,d,e,f),h?"center":"cover"):0===a.indexOf("path://")?qK(a.slice(7),{},new as(c,d,e,f),h?"center":"cover"):new rK({shape:{symbolType:a,x:c,y:d,width:e,height:f}})).__isEmptyBrush=i,b.setColor=rL,g&&b.setColor(g),b}function rN(a){return cv(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function rO(a,b){if(null!=a)return cv(a)||(a=[a,a]),[je(a[0],b[0])||0,je(f$(a[1],a[0]),b[1])||0]}function rP(a){return isFinite(a)}function rQ(q,k,r){for(var s,c,l,n,o,d,e,f,v,t,a,b,g,h,i,j,w,u="radial"===k.type?(s=q,c=k,n=(l=r).width,o=l.height,d=null==c.x?.5:c.x,e=null==c.y?.5:c.y,f=null==c.r?.5:c.r,c.global||(d=d*n+l.x,e=e*o+l.y,f*=Math.min(n,o)),d=rP(d)?d:.5,e=rP(e)?e:.5,f=f>=0&&rP(f)?f:.5,v=s.createRadialGradient(d,e,0,d,e,f)):(t=q,a=k,b=r,g=null==a.x?0:a.x,h=null==a.x2?1:a.x2,i=null==a.y?0:a.y,j=null==a.y2?0:a.y2,a.global||(g=g*b.width+b.x,h=h*b.width+b.x,i=i*b.height+b.y,j=j*b.height+b.y),g=rP(g)?g:0,h=rP(h)?h:1,i=rP(i)?i:0,j=rP(j)?j:0,w=t.createLinearGradient(g,i,h,j)),p=k.colorStops,m=0;m<p.length;m++)u.addColorStop(p[m].offset,p[m].color);return u}function rR(a){return parseInt(a,10)}function rS(c,b,d){var a=["width","height"][b],f=["clientWidth","clientHeight"][b],g=["paddingLeft","paddingTop"][b],h=["paddingRight","paddingBottom"][b];if(null!=d[a]&&"auto"!==d[a])return parseFloat(d[a]);var e=document.defaultView.getComputedStyle(c);return(c[f]||rR(e[a])||rR(c.style[a]))-(rR(e[g])||0)-(rR(e[h])||0)|0}function rT(e){var a,c,b=e.style,d=b.lineDash&&b.lineWidth>0&&(a=b.lineDash,c=b.lineWidth,a&&"solid"!==a&&c>0?"dashed"===a?[4*c,2*c]:"dotted"===a?[c]:fV(a)?[a]:cv(a)?a:null:null),g=b.lineDashOffset;if(d){var f=b.strokeNoScale&&e.getLineScale?e.getLineScale():1;f&&1!==f&&(d=Y(d,function(a){return a/f}),g/=f)}return[d,g]}var rU=new Q(!0);function rV(a){var b=a.stroke;return!(null==b||"none"===b||!(a.lineWidth>0))}function rW(a){return"string"==typeof a&&"none"!==a}function rX(b){var a=b.fill;return null!=a&&"none"!==a}function rY(a,b){if(null!=b.fillOpacity&&1!==b.fillOpacity){var c=a.globalAlpha;a.globalAlpha=b.fillOpacity*b.opacity,a.fill(),a.globalAlpha=c}else a.fill()}function rZ(a,b){if(null!=b.strokeOpacity&&1!==b.strokeOpacity){var c=a.globalAlpha;a.globalAlpha=b.strokeOpacity*b.opacity,a.stroke(),a.globalAlpha=c}else a.stroke()}function r$(e,a,f){var d=j4(a.image,a.__image,f);if(j6(d)){var b=e.createPattern(d,a.repeat||"repeat");if("function"==typeof DOMMatrix&&b&&b.setTransform){var c=new DOMMatrix;c.translateSelf(a.x||0,a.y||0),c.rotateSelf(0,0,(a.rotation||0)*gb),c.scaleSelf(a.scaleX||1,a.scaleY||1),b.setTransform(c)}return b}}var r_=["shadowBlur","shadowOffsetX","shadowOffsetY"],r0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function r1(a,b,d,e,f){var c=!1;if(!e&&b===(d=d||{}))return!1;if(e||b.opacity!==d.opacity){r4(a,f),c=!0;var i=Math.max(Math.min(b.opacity,1),0);a.globalAlpha=isNaN(i)?aw.opacity:i}(e||b.blend!==d.blend)&&(c||(r4(a,f),c=!0),a.globalCompositeOperation=b.blend||aw.blend);for(var h=0;h<r_.length;h++){var g=r_[h];(e||b[g]!==d[g])&&(c||(r4(a,f),c=!0),a[g]=a.dpr*(b[g]||0))}return(e||b.shadowColor!==d.shadowColor)&&(c||(r4(a,f),c=!0),a.shadowColor=b.shadowColor||aw.shadowColor),c}function r2(b,g,j,e,d){var a=r5(g,d.inHover),f=e?null:j&&r5(j,d.inHover)||{};if(a===f)return!1;var c=r1(b,a,f,e,d);if((e||a.fill!==f.fill)&&(c||(r4(b,d),c=!0),rW(a.fill)&&(b.fillStyle=a.fill)),(e||a.stroke!==f.stroke)&&(c||(r4(b,d),c=!0),rW(a.stroke)&&(b.strokeStyle=a.stroke)),(e||a.opacity!==f.opacity)&&(c||(r4(b,d),c=!0),b.globalAlpha=null==a.opacity?1:a.opacity),g.hasStroke()){var k=a.lineWidth/(a.strokeNoScale&&g.getLineScale?g.getLineScale():1);b.lineWidth!==k&&(c||(r4(b,d),c=!0),b.lineWidth=k)}for(var i=0;i<r0.length;i++){var l=r0[i],h=l[0];(e||a[h]!==f[h])&&(c||(r4(b,d),c=!0),b[h]=a[h]||l[1])}return c}function r3(c,d){var b=d.transform,a=c.dpr||1;b?c.setTransform(a*b[0],a*b[1],a*b[2],a*b[3],a*b[4],a*b[5]):c.setTransform(a,0,0,a,0,0)}function r4(b,a){a.batchFill&&b.fill(),a.batchStroke&&b.stroke(),a.batchFill="",a.batchStroke=""}function r5(a,b){return b&&a.__hoverStyle||a.style}function r6(a,b){r7(a,b,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function r7(d,b,a,v){var s,t,o,u,p,w=b.transform;if(!b.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1)){b.__dirty&=~g1,b.__isRendered=!1;return}var i=b.__clipPaths,m=a.prevElClipPaths,n=!1,e=!1;if((!m||function(a,b){if(a===b|| !a&&!b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}(i,m))&&(m&&m.length&&(r4(d,a),d.restore(),e=n=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),i&&i.length&&(r4(d,a),d.save(),function(e,a,f){for(var c=!1,d=0;d<e.length;d++){var b=e[d];c=c||b.isZeroArea(),r3(a,b),a.beginPath(),b.buildPath(a,b.shape),a.clip()}f.allClipped=c}(i,d,a),n=!0),a.prevElClipPaths=i),a.allClipped){b.__isRendered=!1;return}b.beforeBrush&&b.beforeBrush(),b.innerBeforeBrush();var h,q,r,j=a.prevEl;j||(e=n=!0);var f,g,k=b instanceof c&&b.autoBatch&&(q=rX(h=b.style),r=rV(h),!(h.lineDash||!(+q^ +r)||q&&"string"!=typeof h.fill||r&&"string"!=typeof h.stroke||h.strokePercent<1||h.strokeOpacity<1||h.fillOpacity<1));!n&&(f=w,g=j.transform,f&&g?f[0]===g[0]&&f[1]===g[1]&&f[2]===g[2]&&f[3]===g[3]&&f[4]===g[4]&&f[5]===g[5]:f||g?0:1)?k||r4(d,a):(r4(d,a),r3(d,b));var l=r5(b,a.inHover);b instanceof c?(1!==a.lastDrawType&&(e=!0,a.lastDrawType=1),r2(d,b,j,e,a),k&&(a.batchFill||a.batchStroke)||d.beginPath(),function(b,a,c,l){var t,i,u,e=rV(c),f=rX(c),v=c.strokePercent,m=v<1,w=!a.path;(!a.silent||m)&&w&&a.createPathProxy();var d=a.path||rU,g=a.__dirty;if(!l){var j=c.fill,k=c.stroke,n=f&&!!j.colorStops,o=e&&!!k.colorStops,x=f&&!!j.image,y=e&&!!k.image,p=void 0,q=void 0,h=void 0,r=void 0,s=void 0;(n||o)&&(s=a.getBoundingRect()),n&&(p=g?rQ(b,j,s):a.__canvasFillGradient,a.__canvasFillGradient=p),o&&(q=g?rQ(b,k,s):a.__canvasStrokeGradient,a.__canvasStrokeGradient=q),x&&(h=g||!a.__canvasFillPattern?r$(b,j,a):a.__canvasFillPattern,a.__canvasFillPattern=h),y&&(r=g||!a.__canvasStrokePattern?r$(b,k,a):a.__canvasStrokePattern,a.__canvasStrokePattern=h),n?b.fillStyle=p:x&&(h?b.fillStyle=h:f=!1),o?b.strokeStyle=q:y&&(r?b.strokeStyle=r:e=!1)}var z=a.getGlobalScale();d.setScale(z[0],z[1],a.segmentIgnoreThreshold),b.setLineDash&&c.lineDash&&(i=(t=rT(a))[0],u=t[1]);var A=!0;(w||4&g)&&(d.setDPR(b.dpr),m?d.setContext(null):(d.setContext(b),A=!1),d.reset(),a.buildPath(d,a.shape,l),d.toStatic(),a.pathUpdated()),A&&d.rebuildPath(b,m?v:1),i&&(b.setLineDash(i),b.lineDashOffset=u),!l&&(c.strokeFirst?(e&&rZ(b,c),f&&rY(b,c)):(f&&rY(b,c),e&&rZ(b,c))),i&&b.setLineDash([])}(d,b,l,k),k&&(a.batchFill=l.fill||"",a.batchStroke=l.stroke||"")):b instanceof lc?(3!==a.lastDrawType&&(e=!0,a.lastDrawType=3),r2(d,b,j,e,a),function(b,g,a){var e,c=a.text;if(null!=c&&(c+=""),c){b.font=a.font||cr,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline;var d=void 0,f=void 0;b.setLineDash&&a.lineDash&&(d=(e=rT(g))[0],f=e[1]),d&&(b.setLineDash(d),b.lineDashOffset=f),a.strokeFirst?(rV(a)&&b.strokeText(c,a.x,a.y),rX(a)&&b.fillText(c,a.x,a.y)):(rX(a)&&b.fillText(c,a.x,a.y),rV(a)&&b.strokeText(c,a.x,a.y)),d&&b.setLineDash([])}}(d,b,l)):b instanceof cU?(2!==a.lastDrawType&&(e=!0,a.lastDrawType=2),s=d,t=b,o=j,u=e,r1(s,r5(t,(p=a).inHover),o&&r5(o,p.inHover),u,p),function(h,e,a){var d=e.__image=j4(a.image,e.__image,e,e.onload);if(d&&j6(d)){var i=a.x||0,j=a.y||0,b=e.getWidth(),c=e.getHeight(),k=d.width/d.height;if(null==b&&null!=c?b=c*k:null==c&&null!=b?c=b/k:null==b&&null==c&&(b=d.width,c=d.height),a.sWidth&&a.sHeight){var f=a.sx||0,g=a.sy||0;h.drawImage(d,f,g,a.sWidth,a.sHeight,i,j,b,c)}else if(a.sx&&a.sy){var f=a.sx,g=a.sy,l=b-f,m=c-g;h.drawImage(d,f,g,l,m,i,j,b,c)}else h.drawImage(d,i,j,b,c)}}(d,b,l)):b.getTemporalDisplayables&&(4!==a.lastDrawType&&(e=!0,a.lastDrawType=4),r8(d,b,a)),k&&v&&r4(d,a),b.innerAfterBrush(),b.afterBrush&&b.afterBrush(),a.prevEl=b,b.__dirty=0,b.__isRendered=!0}function r8(d,b,g){var c,h,i=b.getDisplayables(),j=b.getTemporalDisplayables();d.save();var e={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:g.viewWidth,viewHeight:g.viewHeight,inHover:g.inHover};for(c=b.getCursor(),h=i.length;c<h;c++){var a=i[c];a.beforeBrush&&a.beforeBrush(),a.innerBeforeBrush(),r7(d,a,e,c===h-1),a.innerAfterBrush(),a.afterBrush&&a.afterBrush(),e.prevEl=a}for(var f=0,k=j.length;f<k;f++){var a=j[f];a.beforeBrush&&a.beforeBrush(),a.innerBeforeBrush(),r7(d,a,e,f===k-1),a.innerAfterBrush(),a.afterBrush&&a.afterBrush(),e.prevEl=a}b.clearTemporalDisplayables(),b.notClear=!0,d.restore()}var r9=new de,sa=new Z(100),sb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function sc(a,d){if("none"===a)return null;var f=d.getDevicePixelRatio(),g=d.getZr(),h="svg"===g.painter.type;a.dirty&&r9.delete(a);var e=r9.get(a);if(e)return e;var c=x(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===c.backgroundColor&&(c.backgroundColor=null);var b={repeat:"repeat"};return function(a){for(var i,o,m=[f],j=!0,k=0;k<sb.length;++k){var b=c[sb[k]];if(null!=b&&!cv(b)&&!fT(b)&&!fV(b)&&"boolean"!=typeof b){j=!1;break}m.push(b)}if(j){i=m.join(",")+(h?"-svg":"");var l=sa.get(i);l&&(h?a.svgElement=l:a.image=l)}var p=se(c.dashArrayX),q=sf(c.dashArrayY),r=sd(c.symbol),s=sg(p),t=sh(q),d=!h&&cs.createCanvas(),n=h&&{tag:"g",attrs:{},key:"dcl",children:[]},e=function(){for(var b=1,a=0,d=s.length;a<d;++a)b=ju(b,s[a]);for(var e=1,a=0,d=r.length;a<d;++a)e=ju(e,r[a].length);b*=e;var f=t*s.length*r.length;return{width:Math.max(1,Math.min(b,c.maxTileWidth)),height:Math.max(1,Math.min(f,c.maxTileHeight))}}();d&&(d.width=e.width*f,d.height=e.height*f,o=d.getContext("2d")),function(){o&&(o.clearRect(0,0,d.width,d.height),c.backgroundColor&&(o.fillStyle=c.backgroundColor,o.fillRect(0,0,d.width,d.height)));for(var m=0,b=0;b<q.length;++b)m+=q[b];if(!(m<=0))for(var k=-t,i=0,s=0,a=0;k<e.height;){if(i%2==0){for(var u=s/2%r.length,l=0,j=0,v=0;l<2*e.width;){for(var w=0,b=0;b<p[a].length;++b)w+=p[a][b];if(w<=0)break;if(j%2==0){var x=(1-c.symbolSize)*.5,y=l+p[a][j]*x,z=k+q[i]*x,A=p[a][j]*c.symbolSize,B=q[i]*c.symbolSize,C=v/2%r[u].length;D(y,z,A,B,r[u][C])}l+=p[a][j],++v,++j===p[a].length&&(j=0)}++a===p.length&&(a=0)}k+=q[i],++s,++i===q.length&&(i=0)}function D(e,i,j,k,l){var a=h?1:f,b=rM(l,e*a,i*a,j*a,k*a,c.color,c.symbolKeepAspect);if(h){var d=g.painter.renderOneToVNode(b);d&&n.children.push(d)}else r6(o,b)}}(),j&&sa.put(i,d||n),a.image=d,a.svgElement=n,a.svgWidth=e.width,a.svgHeight=e.height}(b),b.rotation=c.rotation,b.scaleX=b.scaleY=h?1:1/f,r9.set(a,b),a.dirty=!1,b}function sd(a){if(!a||0===a.length)return[["rect"]];if(fT(a))return[[a]];for(var d=!0,b=0;b<a.length;++b)if(!fT(a[b])){d=!1;break}if(d)return sd([a]);for(var c=[],b=0;b<a.length;++b)fT(a[b])?c.push([a[b]]):c.push(a[b]);return c}function se(a){if(!a||0===a.length)return[[0,0]];if(fV(a)){var b=Math.ceil(a);return[[b,b]]}for(var e=!0,c=0;c<a.length;++c)if(!fV(a[c])){e=!1;break}if(e)return se([a]);for(var d=[],c=0;c<a.length;++c)if(fV(a[c])){var b=Math.ceil(a[c]);d.push([b,b])}else{var b=Y(a[c],function(a){return Math.ceil(a)});b.length%2==1?d.push(b.concat(b)):d.push(b)}return d}function sf(a){if(!a||"object"==typeof a&&0===a.length)return[0,0];if(fV(a)){var c=Math.ceil(a);return[c,c]}var b=Y(a,function(a){return Math.ceil(a)});return a.length%2?b.concat(b):b}function sg(a){return Y(a,function(a){return sh(a)})}function sh(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return a.length%2==1?2*b:b}var si=new n,sj={},sk="undefined"!=typeof window,sl="__flagInMainProcess",sm="__pendingUpdate",sn="__needsUpdateStatus",so=/^[a-zA-Z0-9_]+$/,sp="__connectUpdateStatus";function bM(a){return function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];if(this.isDisposed()){ss(this.id);return}return sq(this,a,c)}}function bN(a){return function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return sq(this,a,c)}}function sq(b,c,a){return a[0]=a[0]&&a[0].toLowerCase(),n.prototype[c].apply(b,a)}var dj=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a}(n),bO=dj.prototype;bO.on=bN("on"),bO.off=bN("off");var dk=function(b){function a(f,d,c){var a=b.call(this,new ry)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],c=c||{},fT(d)&&(d=sy[d]),a._dom=f;var e=a._zr=jd(f,{renderer:c.renderer||"canvas",devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height,ssr:c.ssr,useDirtyRect:null!=c.useDirtyRect&&c.useDirtyRect});a._ssr=c.ssr,a._throttledZrFlush=da(cu(e.flush,e),17),(d=ct(d))&&c3(d,!0),a._theme=d,a._locale=function(a){if(!fT(a))return an(ct(a),ct(mQ.EN),!1);var b=mQ[a.toUpperCase()]||{};return"ZH"===a||"EN"===a?ct(b):an(ct(b),ct(mQ.EN),!1)}(c.locale||mS),a._coordSysMgr=new n_;var h=a._api=fk(a);function g(a,b){return a.__prio-b.__prio}return g0(sx,g),g0(sv,g),a._scheduler=new rx(a,h,sv,sx),a._messageCenter=new dj,a._initEvents(),a.resize=cu(a.resize,a),e.animation.on("frame",a._onframe,a),ff(e,a),fg(e,a),f4(a),a}return cp(a,b),a.prototype._onframe=function(){if(!this._disposed){fn(this);var a=this._scheduler;if(this[sm]){var c=this[sm].silent;this[sl]=!0;try{e6(this),e9.update.call(this,null,this[sm].updateParams)}catch(e){throw this[sl]=!1,this[sm]=null,e}this._zr.flush(),this[sl]=!1,this[sm]=null,fd.call(this,c),fe.call(this,c)}else if(a.unfinished){var d=1,b=this._model,f=this._api;a.unfinished=!1;do{var g=+new Date;a.performSeriesTasks(b),a.performDataProcessorTasks(b),fb(this,b),a.performVisualTasks(b),fj(this,this._model,f,"remain",{}),d-=+new Date-g}while(d>0&&a.unfinished)a.unfinished||this._zr.flush()}}},a.prototype.getDom=function(){return this._dom},a.prototype.getId=function(){return this.id},a.prototype.getZr=function(){return this._zr},a.prototype.isSSR=function(){return this._ssr},a.prototype.setOption=function(f,a,d){if(!this[sl]){if(this._disposed){ss(this.id);return}if(aq(a)&&(d=a.lazyUpdate,b=a.silent,g=a.replaceMerge,h=a.transition,a=a.notMerge),this[sl]=!0,!this._model||a){var b,g,h,i=new n5(this._api),j=this._theme,c=this._model=new c0;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,j,this._locale,i)}this._model.setOption(f,{replaceMerge:g},sw);var e={seriesTransition:h,optionChanged:!0};if(d)this[sm]={silent:b,updateParams:e},this[sl]=!1,this.getZr().wakeUp();else{try{e6(this),e9.update.call(this,null,e)}catch(k){throw this[sm]=null,this[sl]=!1,k}this._ssr||this._zr.flush(),this[sm]=null,this[sl]=!1,fd.call(this,b),fe.call(this,b)}}},a.prototype.setTheme=function(){oP("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},a.prototype.getModel=function(){return this._model},a.prototype.getOption=function(){return this._model&&this._model.getOption()},a.prototype.getWidth=function(){return this._zr.getWidth()},a.prototype.getHeight=function(){return this._zr.getHeight()},a.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||sk&&window.devicePixelRatio||1},a.prototype.getRenderedCanvas=function(a){return this.renderToCanvas(a)},a.prototype.renderToCanvas=function(a){var b;return a=a||{},this._zr.painter.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},a.prototype.renderToSVGString=function(a){var b;return a=a||{},this._zr.painter.renderToString({useViewBox:a.useViewBox})},a.prototype.getSvgDataURL=function(){if(u.svgSupported){var a=this._zr;return j(a.storage.getDisplayList(),function(a){a.stopAnimation(null,!0)}),a.painter.toDataURL()}},a.prototype.getDataURL=function(a){if(this._disposed){ss(this.id);return}var b=(a=a||{}).excludeComponents,e=this._model,c=[],f=this;j(b,function(a){e.eachComponent({mainType:a},function(b){var a=f._componentsMap[b.__viewId];a.group.ignore||(c.push(a),a.group.ignore=!0)})});var d="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return j(c,function(a){a.group.ignore=!1}),d},a.prototype.getConnectedDataURL=function(a){if(this._disposed){ss(this.id);return}var e="svg"===a.type,o=this.group,q=Math.min,r=Math.max,c=1/0;if(!sB[o])return this.getDataURL(a);var f=c,g=c,h=-c,i=-c,k=[],d=a&&a.pixelRatio||this.getDevicePixelRatio();j(sA,function(c,j){if(c.group===o){var d=e?c.getZr().painter.getSvgDom().innerHTML:c.renderToCanvas(ct(a)),b=c.getDom().getBoundingClientRect();f=q(b.left,f),g=q(b.top,g),h=r(b.right,h),i=r(b.bottom,i),k.push({dom:d,left:b.left,top:b.top})}}),f*=d,g*=d,h*=d,i*=d;var l=h-f,m=i-g,n=cs.createCanvas(),b=jd(n,{renderer:e?"svg":"canvas"});if(b.resize({width:l,height:m}),!e)return a.connectedBackgroundColor&&b.add(new z({shape:{x:0,y:0,width:l,height:m},style:{fill:a.connectedBackgroundColor}})),j(k,function(a){var c=new cU({style:{x:a.left*d-f,y:a.top*d-g,image:a.dom}});b.add(c)}),b.refreshImmediately(),n.toDataURL("image/"+(a&&a.type||"png"));var p="";return j(k,function(a){var b=a.left-f,c=a.top-g;p+='<g transform="translate('+b+","+c+')">'+a.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=p,a.connectedBackgroundColor&&b.painter.setBackgroundColor(a.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()},a.prototype.convertToPixel=function(a,b){return fa(this,"convertToPixel",a,b)},a.prototype.convertFromPixel=function(a,b){return fa(this,"convertFromPixel",a,b)},a.prototype.containPixel=function(a,d){if(this._disposed){ss(this.id);return}var b,c=jP(this._model,a);return j(c,function(a,c){c.indexOf("Models")>=0&&j(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)b=b||!!e.containPoint(d);else if("seriesModels"===c){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(b=b||f.containPoint(d,a))}},this)},this),!!b},a.prototype.getVisual=function(e,c){var f,a=jP(this._model,e,{defaultMainType:"series"}),b=a.seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?b.indexOfRawIndex(a.dataIndex):null;return null!=d?rA(b,d,c):rB(b,c)},a.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},a.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},a.prototype._initEvents=function(){var a=this;j(sr,function(c){var b=function(h){var b,i=a.getModel(),f=h.target;if("globalout"===c?b={}:f&&rF(f,function(d){var a=lz(d);if(a&&null!=a.dataIndex){var c=a.dataModel||i.getSeriesByIndex(a.seriesIndex);return b=c&&c.getDataParams(a.dataIndex,a.dataType)||{},!0}if(a.eventData)return b=fP({},a.eventData),!0},!0),b){var d=b.componentType,g=b.componentIndex;("markLine"===d||"markPoint"===d||"markArea"===d)&&(d="series",g=b.seriesIndex);var e=d&&null!=g&&i.getComponent(d,g),j=e&&a["series"===e.mainType?"_chartsMap":"_componentsMap"][e.__viewId];b.event=h,b.type=c,a._$eventProcessor.eventInfo={targetEl:f,packedEvent:b,model:e,view:j},a.trigger(c,b)}};b.zrEventfulCallAtLast=!0,a._zr.on(c,b,a)}),j(su,function(c,b){a._messageCenter.on(b,function(a){this.trigger(b,a)},a)}),j(["selectchanged"],function(b){a._messageCenter.on(b,function(a){this.trigger(b,a)},a)}),function(a,b,c){a.on("selectchanged",function(a){var d=c.getModel();a.isFromClick?(rE("map","selectchanged",b,d,a),rE("pie","selectchanged",b,d,a)):"select"===a.fromAction?(rE("map","selected",b,d,a),rE("pie","selected",b,d,a)):"unselect"===a.fromAction&&(rE("map","unselected",b,d,a),rE("pie","unselected",b,d,a))})}(this._messageCenter,this,this._api)},a.prototype.isDisposed=function(){return this._disposed},a.prototype.clear=function(){if(this._disposed){ss(this.id);return}this.setOption({series:[]},!0)},a.prototype.dispose=function(){if(this._disposed){ss(this.id);return}this._disposed=!0,this.getDom()&&jU(this.getDom(),sD,"");var a=this,b=a._api,c=a._model;j(a._componentsViews,function(a){a.dispose(c,b)}),j(a._chartsViews,function(a){a.dispose(c,b)}),a._zr.dispose(),a._dom=a._model=a._chartsMap=a._componentsMap=a._chartsViews=a._componentsViews=a._scheduler=a._api=a._zr=a._throttledZrFlush=a._theme=a._coordSysMgr=a._messageCenter=null,delete sA[a.id]},a.prototype.resize=function(a){if(!this[sl]){if(this._disposed){ss(this.id);return}this._zr.resize(a);var c=this._model;if(this._loadingFX&&this._loadingFX.resize(),c){var d=c.resetOption("media"),b=a&&a.silent;this[sm]&&(null==b&&(b=this[sm].silent),d=!0,this[sm]=null),this[sl]=!0;try{d&&e6(this),e9.update.call(this,{type:"resize",animation:fP({duration:0},a&&a.animation)})}catch(e){throw this[sl]=!1,e}this[sl]=!1,fd.call(this,b),fe.call(this,b)}}},a.prototype.showLoading=function(a,b){if(this._disposed){ss(this.id);return}if(aq(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),sz[a]){var c=sz[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},a.prototype.hideLoading=function(){if(this._disposed){ss(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},a.prototype.makeActionFromEvent=function(a){var b=fP({},a);return b.type=su[a.type],b},a.prototype.dispatchAction=function(b,a){if(this._disposed){ss(this.id);return}if(aq(a)||(a={silent:!!a}),st[b.type]&&this._model){if(this[sl]){this._pendingActions.push(b);return}var c=a.silent;fc.call(this,b,c);var d=a.flush;d?this._zr.flush():!1!==d&&u.browser.weChat&&this._throttledZrFlush(),fd.call(this,c),fe.call(this,c)}},a.prototype.updateLabelLayout=function(){si.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},a.prototype.appendData=function(a){if(this._disposed){ss(this.id);return}var c,b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},a.internalField=function(){function a(a){a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()})}function b(a){for(var b=[],e=a.currentStates,d=0;d<e.length;d++){var c=e[d];"emphasis"===c||"blur"===c||"select"===c||b.push(c)}a.selected&&a.states.select&&b.push("select"),2===a.hoverState&&a.states.emphasis?b.push("emphasis"):1===a.hoverState&&a.states.blur&&b.push("blur"),a.useStates(b)}e6=function(a){var b=a._scheduler;b.restorePipelines(a._model),b.prepareStageTasks(),e7(a,!0),e7(a,!1),b.plan()},e7=function(b,e){for(var h=b._model,m=b._scheduler,d=e?b._componentsViews:b._chartsViews,i=e?b._componentsMap:b._chartsMap,j=b._zr,k=b._api,c=0;c<d.length;c++)d[c].__alive=!1;function l(a){var n=a.__requireNewView;a.__requireNewView=!1;var c="_ec_"+a.id+"_"+a.type,b=!n&&i[c];if(!b){var o,l=jZ(a.type);(b=new(e?g.getClass(l.main,l.sub):f.getClass(l.sub))).init(h,k),i[c]=b,d.push(b),j.add(b.group)}a.__viewId=b.__id=c,b.__alive=!0,b.__model=a,b.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex},e||m.prepareView(b,a,h,k)}e?h.eachComponent(function(a,b){"series"!==a&&l(b)}):h.eachSeries(l);for(var c=0;c<d.length;){var a=d[c];a.__alive?c++:(e||a.renderTask.dispose(),j.remove(a.group),a.dispose(h,k),d.splice(c,1),i[a.__id]===a&&delete i[a.__id],a.__id=a.group.__ecComponentInfo=null)}},e8=function(b,l,c,a,h){var k,d=b._model;if(d.setUpdatePayload(c),!a){j([].concat(b._componentsViews).concat(b._chartsViews),m);return}var f={};f[a+"Id"]=c[a+"Id"],f[a+"Index"]=c[a+"Index"],f[a+"Name"]=c[a+"Name"];var g={mainType:a,query:f};h&&(g.subType=h);var i=c.excludeSeriesId;function m(a){a&&a.__alive&&a[l]&&a[l](a.__model,d,b._api,c)}null!=i&&(k=s(),j(jw(i),function(b){var a=jK(b,null);null!=a&&k.set(a,!0)})),d&&d.eachComponent(g,function(a){if(!k||null===k.get(a.id)){if(mg(c)){if(a instanceof e)c.type!==az||c.notBlur||a.get(["emphasis","disabled"])||function(d,e,f){var g=d.seriesIndex,a=d.getData(e.dataType);if(a){var b=jN(a,e);b=(cv(b)?b[0]:b)||0;var c=a.getItemGraphicEl(b);if(!c)for(var k=a.count(),h=0;!c&&h<k;)c=a.getItemGraphicEl(h++);if(c){var i=lz(c);l3(g,i.focus,i.blurScope,f)}else{var j=d.get(["emphasis","focus"]),l=d.get(["emphasis","blurScope"]);null!=j&&l3(g,j,l,f)}}}(a,c,b._api);else{var d=l5(a.mainType,a.componentIndex,c.name,b._api),g=d.focusSelf,f=d.dispatchers;c.type===az&&g&&!c.notBlur&&l4(a.mainType,a.componentIndex,b._api),f&&j(f,function(a){c.type===az?lX(a):lY(a)})}}else mf(c)&&a instanceof e&&(function(c,a,f){if(mf(a)){var d=a.dataType,e=c.getData(d),b=jN(e,a);cv(b)||(b=[b]),c[a.type===aD?"toggleSelect":a.type===aB?"select":"unselect"](b,d)}}(a,c,b._api),l6(a),fm(b))}},b),d&&d.eachComponent(g,function(c){(!k||null===k.get(c.id))&&m(b["series"===a?"_chartsMap":"_componentsMap"][c.__viewId])},b)},e9={prepareAndUpdate:function(a){e6(this),e9.update.call(this,a,{optionChanged:null!=a.newOption})},update:function(c,i){var b=this._model,d=this._api,g=this._zr,h=this._coordSysMgr,e=this._scheduler;if(b){b.setUpdatePayload(c),e.restoreData(b,c),e.performSeriesTasks(b),h.create(b,d),e.performDataProcessorTasks(b,c),fb(this,b),h.update(b,d),a(b),e.performVisualTasks(b,c),fh(this,b,d,c,i);var j=b.get("backgroundColor")||"transparent",f=b.get("darkMode");g.setBackgroundColor(j),null!=f&&"auto"!==f&&g.setDarkMode(f),si.trigger("afterupdate",b,d)}},updateTransform:function(c){var f=this,b=this._model,d=this._api;if(b){b.setUpdatePayload(c);var g=[];b.eachComponent(function(i,e){if("series"!==i){var a=f.getViewOfComponentModel(e);if(a&&a.__alive){if(a.updateTransform){var h=a.updateTransform(e,b,d,c);h&&h.update&&g.push(a)}else g.push(a)}}});var e=s();b.eachSeries(function(a){var g=f._chartsMap[a.__viewId];if(g.updateTransform){var h=g.updateTransform(a,b,d,c);h&&h.update&&e.set(a.uid,1)}else e.set(a.uid,1)}),a(b),this._scheduler.performVisualTasks(b,c,{setDirty:!0,dirtyMap:e}),fj(this,b,d,c,{},e),si.trigger("afterupdate",b,d)}},updateView:function(c){var b=this._model;b&&(b.setUpdatePayload(c),f.markUpdateMethod(c,"updateView"),a(b),this._scheduler.performVisualTasks(b,c,{setDirty:!0}),fh(this,b,this._api,c,{}),si.trigger("afterupdate",b,this._api))},updateVisual:function(c){var d=this,b=this._model;b&&(b.setUpdatePayload(c),b.eachSeries(function(a){a.getData().clearAllVisual()}),f.markUpdateMethod(c,"updateVisual"),a(b),this._scheduler.performVisualTasks(b,c,{visualType:"visual",setDirty:!0}),b.eachComponent(function(f,e){if("series"!==f){var a=d.getViewOfComponentModel(e);a&&a.__alive&&a.updateVisual(e,b,d._api,c)}}),b.eachSeries(function(a){d._chartsMap[a.__viewId].updateVisual(a,b,d._api,c)}),si.trigger("afterupdate",b,this._api))},updateLayout:function(a){e9.update.call(this,a)}},fa=function(a,c,h,i){if(a._disposed){ss(a.id);return}for(var d,e=a._model,f=a._coordSysMgr.getCoordinateSystems(),j=jP(e,h),b=0;b<f.length;b++){var g=f[b];if(g[c]&&null!=(d=g[c](e,j,i)))return d}},fb=function(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(a){d.updateStreamModes(a,c[a.__viewId])})},fc=function(a,q){var b,w=this,r=this.getModel(),d=a.type,e=a.escapeConnect,s=st[d],f=s.actionInfo,c=(f.update||"update").split(":"),g=c.pop(),t=null!=c[0]&&jZ(c[0]);this[sl]=!0;var h=[a],i=!1;a.batch&&(i=!0,h=Y(a.batch,function(b){return(b=x(fP({},b),a)).batch=null,b}));var k=[],l=mf(a),m=mg(a);if(m&&l2(this._api),j(h,function(c){if((b=(b=s.action(c,w._model,w._api))||fP({},c)).type=f.event||b.type,k.push(b),m){var d=jQ(a),e=d.queryOptionMap,h=d.mainTypeSpecified,i=h?e.keys()[0]:"series";e8(w,g,c,i),fm(w)}else l?(e8(w,g,c,"series"),fm(w)):t&&e8(w,g,c,t.main,t.sub)}),"none"!==g&&!m&&!l&&!t)try{this[sm]?(e6(this),e9.update.call(this,a),this[sm]=null):e9[g].call(this,a)}catch(u){throw this[sl]=!1,u}if(b=i?{type:f.event||d,escapeConnect:e,batch:k}:k[0],this[sl]=!1,!q){var n=this._messageCenter;if(n.trigger(b.type,b),l){var v,o,p={type:"selectchanged",escapeConnect:e,selected:(o=[],(v=r).eachSeries(function(a){j(a.getAllData(),function(b){b.data;var c=b.type,d=a.getSelectedDataIndices();if(d.length>0){var e={dataIndex:d,seriesIndex:a.seriesIndex};null!=c&&(e.dataType=c),o.push(e)}})}),o),isFromClick:a.isFromClick||!1,fromAction:a.type,fromActionPayload:a};n.trigger(p.type,p)}}},fd=function(b){for(var a=this._pendingActions;a.length;){var c=a.shift();fc.call(this,c,b)}},fe=function(a){a||this.trigger("updated")},ff=function(a,b){a.on("rendered",function(c){b.trigger("rendered",c),!a.animation.isFinished()||b[sm]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})},fg=function(a,b){a.on("mouseover",function(f){var d,g,c,a,h,e,i,k=rF(f.target,me);k&&(d=k,g=f,c=b._api,a=lz(d),e=(h=l5(a.componentMainType,a.componentIndex,a.componentHighDownName,c)).dispatchers,i=h.focusSelf,e?(i&&l4(a.componentMainType,a.componentIndex,c),j(e,function(a){return lV(a,g)})):(l3(a.seriesIndex,a.focus,a.blurScope,c),"self"===a.focus&&l4(a.componentMainType,a.componentIndex,c),lV(d,g)),fm(b))}).on("mouseout",function(d){var c,e,f,a,g,h=rF(d.target,me);h&&(c=h,e=d,l2(f=b._api),a=lz(c),(g=l5(a.componentMainType,a.componentIndex,a.componentHighDownName,f).dispatchers)?j(g,function(a){return lW(a,e)}):lW(c,e),fm(b))}).on("click",function(d){var a=rF(d.target,function(a){return null!=lz(a).dataIndex},!0);if(a){var e=a.selected?"unselect":"select",c=lz(a);b._api.dispatchAction({type:e,dataType:c.dataType,dataIndexInside:c.dataIndex,seriesIndex:c.seriesIndex,isFromClick:!0})}})};function d(a,b){if(!a.preventAutoZ){var c=a.get("z")||0,d=a.get("zlevel")||0;b.eachRendered(function(a){return h(a,c,d,-1/0),!0})}}function h(b,c,d,a){var e=b.getTextContent(),f=b.getTextGuideLine();if(b.isGroup)for(var i=b.childrenRef(),g=0;g<i.length;g++)a=Math.max(h(i[g],c,d,a),a);else b.z=c,b.zlevel=d,a=Math.max(b.z2,a);if(e&&(e.z=c,e.zlevel=d,isFinite(a)&&(e.z2=a+2)),f){var j=b.textGuideLineConfig;f.z=c,f.zlevel=d,isFinite(a)&&(f.z2=a+(j&&j.showAbove?1:-1))}return a}function i(b,a){a.eachRendered(function(a){if(!mm(a)){var b=a.getTextContent(),c=a.getTextGuideLine();a.stateTransition&&(a.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),a.hasState()?(a.prevStates=a.currentStates,a.clearStates()):a.prevStates&&(a.prevStates=null)}})}function k(d,f){var a=d.getModel("stateAnimation"),g=d.isAnimationEnabled(),e=a.get("duration"),h=e>0?{duration:e,delay:a.get("delay"),easing:a.get("easing")}:null;f.eachRendered(function(a){if(a.states&&a.states.emphasis&&!mm(a)){if(a instanceof c){var e,f,d;(f=lD(e=a)).normalFill=e.style.fill,f.normalStroke=e.style.stroke,d=e.states.select||{},f.selectFill=d.style&&d.style.fill||null,f.selectStroke=d.style&&d.style.stroke||null}if(a.__dirty){var i=a.prevStates;i&&a.useStates(i)}if(g){a.stateTransition=h;var j=a.getTextContent(),k=a.getTextGuideLine();j&&(j.stateTransition=h),k&&(k.stateTransition=h)}a.__dirty&&b(a)}})}fh=function(a,b,c,d,e){(function(b){var c=[],d=[],e=!1;if(b.eachComponent(function(b,a){var g=a.get("zlevel")||0,h=a.get("z")||0,f=a.getZLevelKey();e=e||!!f,("series"===b?d:c).push({zlevel:g,z:h,idx:a.componentIndex,type:b,key:f})}),e){var f,g,a=c.concat(d);g0(a,function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel}),j(a,function(c){var e=b.getComponent(c.type,c.idx),a=c.zlevel,d=c.key;null!=f&&(a=Math.max(f,a)),d?(a===f&&d!==g&&a++,g=d):g&&(a===f&&a++,g=""),f=a,e.setZLevel(a)})}})(b),fi(a,b,c,d,e),j(a._chartsViews,function(a){a.__alive=!1}),fj(a,b,c,d,e),j(a._chartsViews,function(a){a.__alive||a.remove(b,c)})},fi=function(a,c,e,f,g,b){j(b||a._componentsViews,function(a){var b=a.__model;i(b,a),a.render(b,c,e,f),d(b,a),k(b,a)})},fj=function(f,a,c,n,b,o){var g=f._scheduler;b=fP(b||{},{updatedSeries:a.getSeries()}),si.trigger("series:beforeupdate",a,c,b);var h,e,j,l,m=!1;a.eachSeries(function(a){var b=f._chartsMap[a.__viewId];b.__alive=!0;var c=b.renderTask;g.updatePayload(c,n),i(a,b),o&&o.get(a.uid)&&c.dirty(),c.perform(g.getPerformArgs(c))&&(m=!0),b.group.silent=!!a.get("silent"),function c(a,b){var d=a.get("blendMode")||null;b.eachRendered(function(a){a.isGroup||(a.style.blend=d)})}(a,b),l6(a)}),g.unfinished=m||g.unfinished,si.trigger("series:layoutlabels",a,c,b),si.trigger("series:transition",a,c,b),a.eachSeries(function(a){var b=f._chartsMap[a.__viewId];d(a,b),k(a,b)}),h=f,e=a,j=h._zr.storage,l=0,j.traverse(function(a){!a.isGroup&&l++}),!(l>e.get("hoverLayerThreshold"))||u.node||u.worker||e.eachSeries(function(a){if(!a.preventUsingHoverLayer){var b=h._chartsMap[a.__viewId];b.__alive&&b.eachRendered(function(a){a.states.emphasis&&(a.states.emphasis.hoverLayer=!0)})}}),si.trigger("series:afterupdate",a,c,b)},fm=function(a){a[sn]=!0,a.getZr().wakeUp()},fn=function(a){a[sn]&&(a.getZr().storage.traverse(function(a){!mm(a)&&b(a)}),a[sn]=!1)},fk=function(a){return new(function(c){function b(){return null!==c&&c.apply(this,arguments)||this}return cp(b,c),b.prototype.getCoordinateSystems=function(){return a._coordSysMgr.getCoordinateSystems()},b.prototype.getComponentByElement=function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}},b.prototype.enterEmphasis=function(b,c){lX(b,c),fm(a)},b.prototype.leaveEmphasis=function(b,c){lY(b,c),fm(a)},b.prototype.enterBlur=function(b){lZ(b),fm(a)},b.prototype.leaveBlur=function(b){l$(b),fm(a)},b.prototype.enterSelect=function(b){l_(b),fm(a)},b.prototype.leaveSelect=function(b){l0(b),fm(a)},b.prototype.getModel=function(){return a.getModel()},b.prototype.getViewOfComponentModel=function(b){return a.getViewOfComponentModel(b)},b.prototype.getViewOfSeriesModel=function(b){return a.getViewOfSeriesModel(b)},b}(c1))(a)},fl=function(a){function b(b,c){for(var a=0;a<b.length;a++)b[a][sp]=c}j(su,function(d,c){a._messageCenter.on(c,function(c){if(sB[a.group]&&0!==a[sp]&&(!c||!c.escapeConnect)){var e=a.makeActionFromEvent(c),d=[];j(sA,function(b){b!==a&&b.group===a.group&&d.push(b)}),b(d,0),j(d,function(a){1!==a[sp]&&a.dispatchAction(e)}),b(d,2)}})})}}(),a}(n),aQ=dk.prototype;aQ.on=bM("on"),aQ.off=bM("off"),aQ.one=function(a,d,b){var e=this;function c(){for(var f=[],b=0;b<arguments.length;b++)f[b]=arguments[b];d&&d.apply&&d.apply(this,f),e.off(a,c)}oP("ECharts#one is deprecated."),this.on.call(this,a,c,b)};var sr=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function ss(a){}var st={},su={},sv=[],sw=[],sx=[],sy={},sz={},sA={},sB={},sC=+new Date-0,sD="_echarts_instance_";function sE(b,f,c){var d=!(c&&c.ssr);if(d){var e=sF(b);if(e)return e}var a=new dk(b,f,c);return a.id="ec_"+sC++,sA[a.id]=a,d&&jU(b,sD,a.id),fl(a),si.trigger("afterinit",a),a}function sF(c){var a,b;return sA[a=c,b=sD,a.getAttribute?a.getAttribute(b):a[b]]}function bP(a,b){sy[a]=b}function bQ(a){0>fQ(sw,a)&&sw.push(a)}function bR(a,b){sH(sv,a,b,2e3)}function dl(a,b){si.on(a,b)}function q(a,b,d){cw(b)&&(d=b,b="");var e,c=aq(a)?a.type:(e=a,a={event:b},e);a.event=(a.event||c).toLowerCase(),!su[b=a.event]&&(f1(so.test(c)&&so.test(b)),st[c]||(st[c]={action:d,actionInfo:a}),su[b]=c)}function B(a,b){sH(sx,a,b,3e3,"visual")}var sG=[];function sH(d,a,b,e,f){if((cw(a)||aq(a))&&(b=a,a=e),!(fQ(sG,b)>=0)){sG.push(b);var c=rx.wrapStageHandler(b,f);c.__prio=a,c.__raw=b,d.push(c)}}function bS(a,b){sz[a]=b}function dm(b,c,d){var e,a=sj[e="registerMap"];a&&a(b,c,d)}B(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(b,h){var c=b.getData(),e=b.visualStyleAccessPath||"itemStyle",i=b.getModel(e),a=rj(b,e)(i),f=i.getShallow("decal");f&&(c.setVisual("decal",f),f.dirty=!0);var d=rk(b,e),j=a[d],k=cw(j)?j:null,l="auto"===a.fill||"auto"===a.stroke;if(!a[d]||k||l){var g=b.getColorFromPalette(b.name,null,h.getSeriesCount());a[d]||(a[d]=g,c.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||cw(a.fill)?g:a.fill,a.stroke="auto"===a.stroke||cw(a.stroke)?g:a.stroke}if(c.setVisual("style",a),c.setVisual("drawType",d),!h.isSeriesFiltered(b)&&k)return c.setVisual("colorFromPalette",!1),{dataEach:function(f,c){var g=b.getDataParams(c),e=fP({},a);e[d]=k(g),f.setItemVisual(c,"style",e)}}}}),B(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,c){if(!(a.ignoreStyleOnData||c.isSeriesFiltered(a))){var b=a.getData(),d=a.visualStyleAccessPath||"itemStyle",e=rj(a,d),f=b.getVisual("drawType");return{dataEach:b.hasItemOption?function(a,b){var c=a.getRawDataItem(b);if(c&&c[d]){rl.option=c[d];var g=e(rl);fP(a.ensureUniqueItemVisual(b,"style"),g),rl.option.decal&&(a.setItemVisual(b,"decal",rl.option.decal),rl.option.decal.dirty=!0),f in g&&a.setItemVisual(b,"colorFromPalette",!1)}}:null}}}}),B(4500,{performRawSeries:!0,overallReset:function(a){var b=s();a.eachSeries(function(a){var e=a.getColorBy();if(!a.isColorBySeries()){var d=a.type+"-"+e,c=b.get(d);c||(c={},b.set(d,c)),rg(a).scope=c}}),a.eachSeries(function(b){if(!(b.isColorBySeries()||a.isSeriesFiltered(b))){var c=b.getRawData(),f={},d=b.getData(),g=rg(b).scope,e=b.visualStyleAccessPath||"itemStyle",h=rk(b,e);d.each(function(a){f[d.getRawIndex(a)]=a}),c.each(function(a){var e=f[a];if(d.getItemVisual(e,"colorFromPalette")){var i=d.ensureUniqueItemVisual(e,"style"),j=c.getName(a)||a+"",k=c.count();i[h]=b.getColorFromPalette(j,g,k)}})}})}}),B(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,i){var f=a.getData();if(a.legendIcon&&f.setVisual("legendIcon",a.legendIcon),a.hasSymbolVisual){for(var b={},g={},h=!1,c=0;c<dd.length;c++){var d=dd[c],e=a.get(d);cw(e)?(h=!0,g[d]=e):b[d]=e}if(b.symbol=b.symbol||a.defaultSymbol,f.setVisual(fP({legendIcon:a.legendIcon||b.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},b)),!i.isSeriesFiltered(a)){var j=ap(g);return{dataEach:h?function(e,b){for(var f=a.getRawValue(b),h=a.getDataParams(b),c=0;c<j.length;c++){var d=j[c];e.setItemVisual(b,d,g[d](f,h))}}:null}}}}}),B(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){if(!(!a.hasSymbolVisual||b.isSeriesFiltered(a))){var c;return{dataEach:a.getData().hasItemOption?function(b,c){for(var f=b.getItemModel(c),a=0;a<rz.length;a++){var d=rz[a],e=f.getShallow(d,!0);null!=e&&b.setItemVisual(c,d,e)}}:null}}}}),B(7e3,function(a,b){a.eachRawSeries(function(d){if(!a.isSeriesFiltered(d)){var c=d.getData();c.hasItemVisual()&&c.each(function(a){var d=c.getItemVisual(a,"decal");d&&(c.ensureUniqueItemVisual(a,"style").decal=sc(d,b))});var e=c.getVisual("decal");e&&(c.getVisual("style").decal=sc(e,b))}})}),bQ(c3),bR(900,function(a){var b=s();a.eachSeries(function(e){var f=e.get("stack");if(f){var c=b.get(f)||b.set(f,[]),a=e.getData(),d={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!d.stackedDimension||!(d.isStackedByIndex||d.stackedByDimension))return;c.length&&a.setCalculationInfo("stackedOnSeries",c[c.length-1].seriesModel),c.push(d)}}),b.each(oo)}),bS("default",function(g,a){a=a||{},x(a,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var c,b=new t,d=new z({style:{fill:a.maskColor},zlevel:a.zlevel,z:1e4});b.add(d);var e=new bh({style:{text:a.text,fill:a.textColor,fontSize:a.fontSize,fontWeight:a.fontWeight,fontStyle:a.fontStyle,fontFamily:a.fontFamily},zlevel:a.zlevel,z:10001}),f=new z({style:{fill:"none"},textContent:e,textConfig:{position:"right",distance:10},zlevel:a.zlevel,z:10001});return b.add(f),a.showSpinner&&((c=new c9({shape:{startAngle:-rm/2,endAngle:-rm/2+.1,r:a.spinnerRadius},style:{stroke:a.color,lineCap:"round",lineWidth:a.lineWidth},zlevel:a.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*rm/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:3*rm/2}).delay(300).start("circularInOut"),b.add(c)),b.resize=function(){var b=e.getBoundingRect().width,h=a.showSpinner?a.spinnerRadius:0,i=(g.getWidth()-2*h-(a.showSpinner&&b?10:0)-b)/2-(a.showSpinner&&b?0:5+b/2)+(a.showSpinner?0:b/2)+(b?0:h),j=g.getHeight()/2;a.showSpinner&&c.setShape({cx:i,cy:j}),f.setShape({x:i-h,y:j-h,width:2*h,height:2*h}),d.setShape({x:0,y:0,width:g.getWidth(),height:g.getHeight()})},b.resize(),b}),q({type:az,event:az,update:az},y),q({type:aA,event:aA,update:aA},y),q({type:aB,event:aB,update:aB},y),q({type:aC,event:aC,update:aC},y),q({type:aD,event:aD,update:aD},y),bP("light",{color:bI,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],bI]}),bP("dark",bL);var sI=[],sJ={registerPreprocessor:bQ,registerProcessor:bR,registerPostInit:function(a){dl("afterinit",a)},registerPostUpdate:function(a){dl("afterupdate",a)},registerUpdateLifecycle:dl,registerAction:q,registerCoordinateSystem:function(a,b){n_.register(a,b)},registerLayout:function(a,b){sH(sx,a,b,1e3,"layout")},registerVisual:B,registerTransform:function(a){var b=(a=ct(a)).type;b||oQ("");var c=b.split(":");2!==c.length&&oQ("");var d=!1;"echarts"===c[0]&&(b=c[1],d=!0),a.__isBuiltIn=d,o2.set(b,a)},registerLoading:bS,registerMap:dm,registerImpl:function(a,b){sj[a]=b},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:d,ComponentView:g,SeriesModel:e,ChartView:f,registerComponentModel:function(a){d.registerClass(a)},registerComponentView:function(a){g.registerClass(a)},registerSeriesModel:function(a){e.registerClass(a)},registerChartView:function(a){f.registerClass(a)},registerSubTypeDefaulter:function(a,b){d.registerSubTypeDefaulter(a,b)},registerPainter:function(c,d){var a,b;a=c,b=d,ja[a]=b}};function b(a){if(cv(a)){j(a,function(a){b(a)});return}!(fQ(sI,a)>=0)&&(sI.push(a),cw(a)&&(a={install:a}),a.install(sJ))}var sK=2*Math.PI,sL=Q.CMD,sM=["top","right","bottom","left"];function sN(g,b,a,c,d){var e=a.width,f=a.height;switch(g){case"top":c.set(a.x+e/2,a.y-b),d.set(0,-1);break;case"bottom":c.set(a.x+e/2,a.y+f+b),d.set(0,1);break;case"left":c.set(a.x-b,a.y+f/2),d.set(-1,0);break;case"right":c.set(a.x+e+b,a.y+f/2),d.set(1,0)}}function sO(h,i,e,b,a,s,c,d,f){var j=Math.sqrt((c-=h)*c+(d-=i)*d);c/=j,d/=j;var o=c*e+h,p=d*e+i;if(Math.abs(b-a)%sK<1e-4)return f[0]=o,f[1]=p,j-e;if(s){var t=b;b=kY(a),a=kY(t)}else b=kY(b),a=kY(a);b>a&&(a+=sK);var g=Math.atan2(d,c);if(g<0&&(g+=sK),g>=b&&g<=a||g+sK>=b&&g+sK<=a)return f[0]=o,f[1]=p,j-e;var k=e*Math.cos(b)+h,l=e*Math.sin(b)+i,m=e*Math.cos(a)+h,n=e*Math.sin(a)+i,q=(k-c)*(k-c)+(l-d)*(l-d),r=(m-c)*(m-c)+(n-d)*(n-d);return q<r?(f[0]=k,f[1]=l,Math.sqrt(q)):(f[0]=m,f[1]=n,Math.sqrt(r))}function sP(e,f,l,m,g,h,i,n){var o=g-e,p=h-f,a=l-e,b=m-f,d=Math.sqrt(a*a+b*b);a/=d,b/=d;var q=o*a+p*b,c=q/d;n&&(c=Math.min(Math.max(c,0),1)),c*=d;var j=i[0]=e+c*a,k=i[1]=f+c*b;return Math.sqrt((j-g)*(j-g)+(k-h)*(k-h))}function sQ(c,d,a,b,e,f,g){a<0&&(c+=a,a=-a),b<0&&(d+=b,b=-b);var j=c+a,k=d+b,h=g[0]=Math.min(Math.max(e,c),j),i=g[1]=Math.min(Math.max(f,d),k);return Math.sqrt((h-e)*(h-e)+(i-f)*(i-f))}var sR=[];function sS(b,a,c){var d=sQ(a.x,a.y,a.width,a.height,b.x,b.y,sR);return c.set(sR[0],sR[1]),d}function sT(q,t,u){for(var r,s,c=0,d=0,e=0,f=0,l=1/0,b=t.data,h=q.x,i=q.y,a=0;a<b.length;){var v=b[a++];1===a&&(c=b[a],d=b[a+1],e=c,f=d);var g=l;switch(v){case sL.M:e=b[a++],f=b[a++],c=e,d=f;break;case sL.L:g=sP(c,d,b[a],b[a+1],h,i,sR,!0),c=b[a++],d=b[a++];break;case sL.C:g=hl(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],h,i,sR),c=b[a++],d=b[a++];break;case sL.Q:g=hq(c,d,b[a++],b[a++],b[a],b[a+1],h,i,sR),c=b[a++],d=b[a++];break;case sL.A:var k=b[a++],n=b[a++],o=b[a++],m=b[a++],j=b[a++],p=b[a++];a+=1;var w=!!(1-b[a++]);r=Math.cos(j)*o+k,s=Math.sin(j)*m+n,a<=1&&(e=r,f=s);var x=(h-k)*m/o+k;g=sO(k,n,m,j,j+p,w,x,i,sR),c=Math.cos(j+p)*o+k,d=Math.sin(j+p)*m+n;break;case sL.R:e=c=b[a++],f=d=b[a++];var y=b[a++],z=b[a++];g=sQ(e,f,y,z,h,i,sR);break;case sL.Z:g=sP(c,d,e,f,h,i,sR,!0),c=e,d=f}g<l&&(l=g,u.set(sR[0],sR[1]))}return l}var sU=new k,sV=new k,sW=new k,sX=new k,sY=new k;function sZ(a,h){if(a){var i=a.getTextGuideLine(),f=a.getTextContent();if(f&&i){var j=a.textGuideLineConfig||{},b=[[0,0],[0,0],[0,0]],l=j.candidates||sM,m=f.getBoundingRect().clone();m.applyTransform(f.getComputedTransform());var n=1/0,d=j.anchor,e=a.getComputedTransform(),p=e&&iE([],e),q=h.get("length2")||0;d&&sW.copy(d);for(var g=0;g<l.length;g++){sN(l[g],0,m,sU,sX),k.scaleAndAdd(sV,sU,sX,q),sV.transform(p);var r=a.getBoundingRect(),o=d?d.distance(sV):a instanceof c?sT(sV,a.path,sW):sS(sV,r,sW);o<n&&(n=o,sV.transform(e),sW.transform(e),sW.toArray(b[0]),sV.toArray(b[1]),sU.toArray(b[2]))}s0(b,h.get("minTurnAngle")),i.setShape({points:b})}}}var s$=[],s_=new k;function s0(b,a){if(a<=180&&a>0){a=a/180*Math.PI,sU.fromArray(b[0]),sV.fromArray(b[1]),sW.fromArray(b[2]),k.sub(sX,sU,sV),k.sub(sY,sW,sV);var g,d=sX.len(),e=sY.len();if(!(d<.001)&&!(e<.001)){if(sX.scale(1/d),sY.scale(1/e),Math.cos(a)<sX.dot(sY)){var f=sP(sV.x,sV.y,sW.x,sW.y,sU.x,sU.y,s$,!1);s_.fromArray(s$),s_.scaleAndAdd(sY,f/Math.tan(Math.PI-a));var c=sW.x!==sV.x?(s_.x-sV.x)/(sW.x-sV.x):(s_.y-sV.y)/(sW.y-sV.y);if(isNaN(c))return;c<0?k.copy(s_,sV):c>1&&k.copy(s_,sW),s_.toArray(b[1])}}}}function s1(b,d,a){if(a<=180&&a>0){a=a/180*Math.PI,sU.fromArray(b[0]),sV.fromArray(b[1]),sW.fromArray(b[2]),k.sub(sX,sV,sU),k.sub(sY,sW,sV);var e=sX.len(),f=sY.len();if(!(e<.001)&&!(f<.001)){sX.scale(1/e),sY.scale(1/f);var i=sX.dot(d),j=Math.cos(a);if(i<j){var l=sP(sV.x,sV.y,sW.x,sW.y,sU.x,sU.y,s$,!1);s_.fromArray(s$);var g=Math.PI/2,m=Math.acos(sY.dot(d)),h=g+m-a;if(h>=g)k.copy(s_,sW);else{s_.scaleAndAdd(sY,l/Math.tan(Math.PI/2-h));var c=sW.x!==sV.x?(s_.x-sV.x)/(sW.x-sV.x):(s_.y-sV.y)/(sW.y-sV.y);if(isNaN(c))return;c<0?k.copy(s_,sV):c>1&&k.copy(s_,sW)}s_.toArray(b[1])}}}}function s2(c,h,d,e){var f="normal"===d,a=f?c:c.ensureState(d);a.ignore=h;var b=e.get("smooth");b&& !0===b&&(b=.3),a.shape=a.shape||{},b>0&&(a.shape.smooth=b);var g=e.getModel("lineStyle").getLineStyle();f?c.useStyle(g):a.style=g}function s3(b,h){var i=h.smooth,a=h.points;if(a){if(b.moveTo(a[0][0],a[0][1]),i>0&&a.length>=3){var f=gl(a[0],a[1]),g=gl(a[1],a[2]);if(!f||!g){b.lineTo(a[1][0],a[1][1]),b.lineTo(a[2][0],a[2][1]);return}var j=Math.min(f,g)*i,c=gm([],a[1],a[0],j/f),d=gm([],a[1],a[2],j/g),k=gm([],c,d,.5);b.bezierCurveTo(c[0],c[1],c[0],c[1],k[0],k[1]),b.bezierCurveTo(d[0],d[1],d[0],d[1],a[2][0],a[2][1])}else for(var e=1;e<a.length;e++)b.lineTo(a[e][0],a[e][1])}}function s4(b,e,m){var a=b.getTextGuideLine(),d=b.getTextContent();if(!d){a&&b.removeTextGuideLine();return}for(var j=e.normal,k=j.get("show"),f=d.ignore,g=0;g<lG.length;g++){var c=lG[g],h=e[c],i="normal"===c;if(h){var n=h.get("show");if((i?f:f$(d.states[c]&&d.states[c].ignore,f))||!f$(n,k)){var l=i?a:a&&a.states[c];l&&(l.ignore=!0);continue}!a&&(a=new c8,b.setTextGuideLine(a),i|| !f&&k||s2(a,!0,"normal",e.normal),b.stateProxy&&(a.stateProxy=b.stateProxy)),s2(a,!1,c,h)}}if(a){x(a.style,m),a.style.fill=null;var o=j.get("showAbove");(b.textGuideLineConfig=b.textGuideLineConfig||{}).showAbove=o||!1,a.buildPath=s3}}function s5(c,a){a=a||"labelLine";for(var d={normal:c.getModel(a)},b=0;b<lF.length;b++){var e=lF[b];d[e]=c.getModel([e,a])}return d}function s6(h){for(var i=[],f=0;f<h.length;f++){var a=h[f];if(!a.defaultAttr.ignore){var d=a.label,b=d.getComputedTransform(),g=d.getBoundingRect(),j=!b||b[1]<1e-5&&b[2]<1e-5,e=d.style.margin||0,c=g.clone();c.applyTransform(b),c.x-=e/2,c.y-=e/2,c.width+=e,c.height+=e;var k=j?new qA(g,b):null;i.push({label:d,labelLine:a.labelLine,rect:c,localRect:g,obb:k,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:j,transform:b})}}return i}function s7(c,e,n,q,r,o){var f,a,b,d=c.length;if(!(d<2)){c.sort(function(a,b){return a.rect[e]-b.rect[e]});for(var j=0,k=!1,p=[],h=0,i=0;i<d;i++){var l=c[i],g=l.rect;(f=g[e]-j)<0&&(g[e]-=f,l.label[e]-=f,k=!0);var m=Math.max(-f,0);p.push(m),h+=m,j=g[e]+g[n]}h>0&&o&&w(-h/d,0,d);var s=c[0],t=c[d-1];return u(),a<0&&x(-a,.8),b<0&&x(b,.8),u(),v(a,b,1),v(b,a,-1),u(),a<0&&y(-a),b<0&&y(b),k}function u(){a=s.rect[e]-q,b=r-t.rect[e]-t.rect[n]}function v(a,f,b){if(a<0){var c=Math.min(f,-a);if(c>0){w(c*b,0,d);var e=c+a;e<0&&x(-e*b,1)}else x(-a*b,1)}}function w(a,f,g){0!==a&&(k=!0);for(var b=f;b<g;b++){var d=c[b],h=d.rect;h[e]+=a,d.label[e]+=a}}function x(h,l){for(var b=[],f=0,a=1;a<d;a++){var i=c[a-1].rect,j=Math.max(c[a].rect[e]-i[e]-i[n],0);b.push(j),f+=j}if(f){var k=Math.min(Math.abs(h)/f,l);if(h>0)for(var a=0;a<d-1;a++){var g=b[a]*k;w(g,0,a+1)}else for(var a=d-1;a>0;a--){var g=b[a-1]*k;w(-g,a,d)}}}function y(a){var e=a<0?-1:1;a=Math.abs(a);for(var c=Math.ceil(a/(d-1)),b=0;b<d-1;b++)if(e>0?w(c,0,b+1):w(-c,d-b-1,d),(a-=c)<=0)return}}function s8(a,b,c,d){return s7(a,"y","height",b,c,d)}function s9(e){var f=[];e.sort(function(a,b){return b.priority-a.priority});var c=new as(0,0,0,0);function j(a){if(!a.ignore){var b=a.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}a.ignore=!0}for(var g=0;g<e.length;g++){var a=e[g],m=a.axisAligned,n=a.localRect,o=a.transform,k=a.label,d=a.labelLine;c.copy(a.rect),c.width-=.1,c.height-=.1,c.x+=.05,c.y+=.05;for(var h=a.obb,l=!1,i=0;i<f.length;i++){var b=f[i];if(c.intersect(b.rect)&&(m&&b.axisAligned||(b.obb||(b.obb=new qA(b.localRect,b.transform)),h||(h=new qA(n,o)),h.intersect(b.obb)))){l=!0;break}}l?(j(k),d&&j(d)):(k.attr("ignore",a.defaultAttr.ignore),d&&d.attr("ignore",a.defaultAttr.labelGuideIgnore),f.push(a))}}function ta(a,b){var c=a.label,d=b&&b.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:c.style.align,verticalAlign:c.style.verticalAlign,labelLinePoints:function(a){if(a){for(var c=[],b=0;b<a.length;b++)c.push(a[b].slice());return c}}(d&&d.shape.points)}}var tb=["align","verticalAlign","width","height","fontSize"],tc=new ar,td=a(),te=a();function tf(e,c,d){for(var a=0;a<d.length;a++){var b=d[a];null!=c[b]&&(e[b]=c[b])}}var tg=["x","y","rotation"],th=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(i,j,k,a,l){var b,c=a.style,h=a.__hostTarget.textConfig||{},e=a.getComputedTransform(),f=a.getBoundingRect().plain();as.applyTransform(f,f,e),e?tc.setLocalTransform(e):(tc.x=tc.y=tc.rotation=tc.originX=tc.originY=0,tc.scaleX=tc.scaleY=1);var d=a.__hostTarget;if(d){b=d.getBoundingRect().plain();var m=d.getComputedTransform();as.applyTransform(b,b,m)}var g=b&&d.getTextGuideLine();this._labelList.push({label:a,labelLine:g,seriesModel:k,dataIndex:i,dataType:j,layoutOption:l,computedLayoutOption:null,rect:f,hostRect:b,priority:b?b.width*b.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:g&&g.ignore,x:tc.x,y:tc.y,scaleX:tc.scaleX,scaleY:tc.scaleY,rotation:tc.rotation,style:{x:c.x,y:c.y,align:c.align,verticalAlign:c.verticalAlign,width:c.width,height:c.height,fontSize:c.fontSize},cursor:a.cursor,attachedPos:h.position,attachedRot:h.rotation}})},a.prototype.addLabelsOfSeries=function(a){var d=this;this._chartViewList.push(a);var c=a.__model,b=c.get("labelLayout");(cw(b)||ap(b).length)&&a.group.traverse(function(a){if(a.ignore)return!0;var e=a.getTextContent(),f=lz(a);e&&!e.disableLabelLayout&&d._addLabel(f.dataIndex,f.dataType,c,e,b)})},a.prototype.updateLayoutConfig=function(j){var n=j.getWidth(),o=j.getHeight();function p(a,b){return function(){sZ(a,b)}}for(var h=0;h<this._labelList.length;h++){var c=this._labelList[h],b=c.label,e=b.__hostTarget,d=c.defaultAttr,a=void 0;a=(a=cw(c.layoutOption)?c.layoutOption(ta(c,e)):c.layoutOption)||{},c.computedLayoutOption=a;var k=Math.PI/180;e&&e.setTextConfig({local:!1,position:null!=a.x||null!=a.y?null:d.attachedPos,rotation:null!=a.rotate?a.rotate*k:d.attachedRot,offset:[a.dx||0,a.dy||0]});var f=!1;if(null!=a.x?(b.x=je(a.x,n),b.setStyle("x",0),f=!0):(b.x=d.x,b.setStyle("x",d.style.x)),null!=a.y?(b.y=je(a.y,o),b.setStyle("y",0),f=!0):(b.y=d.y,b.setStyle("y",d.style.y)),a.labelLinePoints){var l=e.getTextGuideLine();l&&(l.setShape({points:a.labelLinePoints}),f=!1)}td(b).needsUpdateLabelLine=f,b.rotation=null!=a.rotate?a.rotate*k:d.rotation,b.scaleX=d.scaleX,b.scaleY=d.scaleY;for(var i=0;i<tb.length;i++){var g=tb[i];b.setStyle(g,null!=a[g]?a[g]:d.style[g])}if(a.draggable){if(b.draggable=!0,b.cursor="move",e){var m=c.seriesModel;null!=c.dataIndex&&(m=c.seriesModel.getData(c.dataType).getItemModel(c.dataIndex)),b.on("drag",p(e,m.getModel("labelLine")))}}else b.off("drag"),b.cursor=d.cursor}},a.prototype.layout=function(b){var c,j,d,e=b.getWidth(),f=b.getHeight(),a=s6(this._labelList),g=fS(a,function(a){return"shiftX"===a.layoutOption.moveOverlap}),h=fS(a,function(a){return"shiftY"===a.layoutOption.moveOverlap});c=g,s7(c,"x","width",0,d=e,void 0),s8(h,0,f);var i=fS(a,function(a){return a.layoutOption.hideOverlap});s9(i)},a.prototype.processLabelsOverall=function(){var a=this;j(this._chartViewList,function(b){var c=b.__model,d=b.ignoreLabelLineUpdate,e=c.isAnimationEnabled();b.group.traverse(function(b){if(b.ignore&&!b.forceLabelAnimation)return!0;var f=!d,g=b.getTextContent();!f&&g&&(f=td(g).needsUpdateLabelLine),f&&a._updateLabelLine(b,c),e&&a._animateLabels(b,c)})})},a.prototype._updateLabelLine=function(a,g){var h=a.getTextContent(),d=lz(a),b=d.dataIndex;if(h&&null!=b){var c=g.getData(d.dataType),e=c.getItemModel(b),f={},i=c.getItemVisual(b,"style"),j=c.getVisual("drawType");f.stroke=i[j];var k=e.getModel("labelLine");s4(a,s5(e),f),sZ(a,k)}},a.prototype._animateLabels=function(d,e){var a=d.getTextContent(),b=d.getTextGuideLine();if(a&&(d.forceLabelAnimation|| !a.ignore&&!a.invisible&&!d.disableLabelAnimation&&!mm(d))){var c=td(a),f=c.oldLayout,k=lz(d),h=k.dataIndex,g={x:a.x,y:a.y,rotation:a.rotation},n=e.getData(k.dataType);if(f){a.attr(f);var i=d.prevStates;i&&(fQ(i,"select")>=0&&a.attr(c.oldLayoutSelect),fQ(i,"emphasis")>=0&&a.attr(c.oldLayoutEmphasis)),mk(a,g,e,h)}else if(a.attr(g),!mF(a).valueAnimation){var o=f$(a.style.opacity,1);a.style.opacity=0,ml(a,{style:{opacity:o}},e,h)}if(c.oldLayout=g,a.states.select){var l=c.oldLayoutSelect={};tf(l,g,tg),tf(l,a.states.select,tg)}if(a.states.emphasis){var m=c.oldLayoutEmphasis={};tf(m,g,tg),tf(m,a.states.emphasis,tg)}mH(a,h,n,e,e)}if(b&&!b.ignore&&!b.invisible){var c=te(b),f=c.oldLayout,j={points:b.shape.points};f?(b.attr({shape:f}),mk(b,{shape:j},e)):(b.setShape(j),b.style.strokePercent=0,ml(b,{style:{strokePercent:1}},e)),c.oldLayout=j}},a}(),ti=a();function bT(a){a.registerUpdateLifecycle("series:beforeupdate",function(c,b,d){var a=ti(b).labelManager;a||(a=ti(b).labelManager=new th),a.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(d,a,c){var b=ti(a).labelManager;c.updatedSeries.forEach(function(c){b.addLabelsOfSeries(a.getViewOfSeriesModel(c))}),b.updateLayoutConfig(a),b.layout(a),b.processLabelsOverall()})}function tj(g,c,d){var b=cs.createCanvas(),e=c.getWidth(),f=c.getHeight(),a=b.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=e+"px",a.height=f+"px",b.setAttribute("data-zr-dom-id",g)),b.width=e*d,b.height=f*d,b}b(bT);var tk=function(b){function a(c,g,e){var d,a=b.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,e=e||iw,"string"==typeof c?d=tj(c,g,e):aq(c)&&(c=(d=c).id),a.id=c,a.dom=d;var f=d.style;return f&&(f9(d),d.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),a.painter=g,a.dpr=e,a}return cp(a,b),a.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},a.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},a.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},a.prototype.setUnpainted=function(){this.__firstTimePaint=!0},a.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=tj("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!==a&&this.ctxBack.scale(a,a)},a.prototype.createRepaintRects=function(l,m,i,j){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var g,c=[],n=this.maxRepaintRectCount,o=!1,p=new as(0,0,0,0);function h(a){if(!(!a.isFinite()||a.isZero())){if(0===c.length){var b=new as(0,0,0,0);b.copy(a),c.push(b)}else{for(var f=!1,h=1/0,i=0,d=0;d<c.length;++d){var e=c[d];if(e.intersect(a)){var g=new as(0,0,0,0);g.copy(e),g.union(a),c[d]=g,f=!0;break}if(o){p.copy(a),p.union(e);var k=a.width*a.height,l=e.width*e.height,j=p.width*p.height-k-l;j<h&&(h=j,i=d)}}if(o&&(c[i].union(a),f=!0),!f){var b=new as(0,0,0,0);b.copy(a),c.push(b)}o||(o=c.length>=n)}}}for(var a=this.__startIndex;a<this.__endIndex;++a){var b=l[a];if(b){var f=b.shouldBePainted(i,j,!0,!0),d=b.__isRendered&&(b.__dirty&g1||!f)?b.getPrevPaintRect():null;d&&h(d);var k=f&&(b.__dirty&g1||!b.__isRendered)?b.getPaintRect():null;k&&h(k)}}for(var a=this.__prevStartIndex;a<this.__prevEndIndex;++a){var b=m[a],f=b.shouldBePainted(i,j,!0,!0);if(b&&(!f||!b.__zr)&&b.__isRendered){var d=b.getPrevPaintRect();d&&h(d)}}do{g=!1;for(var a=0;a<c.length;){if(c[a].isZero()){c.splice(a,1);continue}for(var e=a+1;e<c.length;)c[a].intersect(c[e])?(g=!0,c[a].union(c[e]),c.splice(e,1)):e++;a++}}while(g)return this._paintRects=c,c},a.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},a.prototype.resize=function(b,c){var a=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=b+"px",e.height=c+"px"),d.width=b*a,d.height=c*a,f&&(f.width=b*a,f.height=c*a,1!==a&&this.ctxBack.scale(a,a))},a.prototype.clear=function(h,c,a){var b=this.dom,k=this.ctx,d=b.width,e=b.height;c=c||this.clearColor;var f=this.motionBlur&&!h,l=this.lastFrameAlpha,g=this.dpr,m=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/g,e/g));var n=this.domBack;function i(e,g,a,b){if(k.clearRect(e,g,a,b),c&&"transparent"!==c){var h,d=void 0;fZ(c)?(d=c.__canvasGradient||rQ(k,c,{x:0,y:0,width:a,height:b}),c.__canvasGradient=d):null!=(h=c).image&&(d=r$(k,c,{dirty:function(){m.setUnpainted(),m.__painter.refresh()}})),k.save(),k.fillStyle=d||c,k.fillRect(e,g,a,b),k.restore()}f&&(k.save(),k.globalAlpha=l,k.drawImage(n,e,g,a,b),k.restore())}!a||f?i(0,0,d,e):a.length&&j(a,function(a){i(a.x*g,a.y*g,a.width*g,a.height*g)})},a}(n),tl=function(){function a(a,k,b,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var g=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=b=fP({},b||{}),this.dpr=b.devicePixelRatio||iw,this._singleCanvas=g,this.root=a,a.style&&(f9(a),a.innerHTML=""),this.storage=k;var l=this._zlevelList;this._prevDisplayList=[];var m=this._layers;if(g){var c=a,e=c.width,f=c.height;null!=b.width&&(e=b.width),null!=b.height&&(f=b.height),this.dpr=b.devicePixelRatio||1,c.width=e*this.dpr,c.height=f*this.dpr,this._width=e,this._height=f;var d=new tk(c,this,this.dpr);d.__builtin__=!0,d.initContext(),m[314159]=d,d.zlevel=314159,l.push(314159),this._domRoot=a}else{this._width=rS(a,0,b),this._height=rS(a,1,b);var h,i,j,n=this._domRoot=(h=this._width,i=this._height,(j=document.createElement("div")).style.cssText=["position:relative","width:"+h+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";",j);a.appendChild(n)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.refresh=function(e){var c=this.storage.getDisplayList(!0),f=this._prevDisplayList,d=this._zlevelList;this._redrawId=Math.random(),this._paintList(c,f,e,this._redrawId);for(var a=0;a<d.length;a++){var g=d[a],b=this._layers[g];if(!b.__builtin__&&b.refresh){var h=0===a?this._backgroundColor:null;b.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=c.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(e){var a,d=e.length,b=this._hoverlayer;if(b&&b.clear(),d){for(var g={inHover:!0,viewWidth:this._width,viewHeight:this._height},c=0;c<d;c++){var f=e[c];f.__inHover&&(b||(b=this._hoverlayer=this.getLayer(1e5)),a||(a=b.ctx).save(),r7(a,f,g,c===d-1))}a&&a.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(1e5)},a.prototype.paintOne=function(a,b){r6(a,b)},a.prototype._paintList=function(a,d,b,e){if(this._redrawId===e){b=b||!1,this._updateLayerStatus(a);var c=this._doPaintList(a,d,b),f=c.finished,g=c.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),g&&this._paintHoverList(a),f)this.eachLayer(function(a){a.afterBrush&&a.afterBrush()});else{var h=this;g6(function(){h._paintList(a,d,b,e)})}}},a.prototype._compositeManually=function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},a.prototype._doPaintList=function(i,k,e){for(var l=this,d=[],m=this._opts.useDirtyRect,b=0;b<this._zlevelList.length;b++){var f=this._zlevelList[b],a=this._layers[f];a.__builtin__&&a!==this._hoverlayer&&(a.__dirty||e)&&d.push(a)}for(var g=!0,h=!1,n=this,c=0;c<d.length;c++)!function(u){var q,a=d[u],b=a.ctx,c=m&&a.createRepaintRects(i,k,n._width,n._height),j=e?a.__startIndex:a.__drawIndex,v=!e&&a.incremental&&Date.now,w=v&&Date.now(),r=a.zlevel===n._zlevelList[0]?n._backgroundColor:null;if(a.__startIndex===a.__endIndex)a.clear(!1,r,c);else if(j===a.__startIndex){var s=i[j];s.incremental&&s.notClear&&!e||a.clear(!1,r,c)}-1===j&&(console.error("For some unknown reason. drawIndex is -1"),j=a.__startIndex);var t=function(e){var c={inHover:!1,allClipped:!1,prevEl:null,viewWidth:l._width,viewHeight:l._height};for(q=j;q<a.__endIndex;q++){var d=i[q];if(d.__inHover&&(h=!0),l._doPaintEl(d,a,m,e,c,q===a.__endIndex-1),v&&Date.now()-w>15)break}c.prevElClipPaths&&b.restore()};if(c){if(0===c.length)q=a.__endIndex;else for(var o=n.dpr,p=0;p<c.length;++p){var f=c[p];b.save(),b.beginPath(),b.rect(f.x*o,f.y*o,f.width*o,f.height*o),b.clip(),t(f),b.restore()}}else b.save(),t(),b.restore();a.__drawIndex=q,a.__drawIndex<a.__endIndex&&(g=!1)}(c);return u.wxa&&j(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),{finished:g,needsRefreshHover:h}},a.prototype._doPaintEl=function(a,g,h,c,d,e){var f=g.ctx;if(h){var b=a.getPaintRect();(!c||b&&b.intersect(c))&&(r7(f,a,d,e),a.setPrevPaintRect(b))}else r7(f,a,d,e)},a.prototype.getLayer=function(a,c){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var b=this._layers[a];return b||((b=new tk("zr_"+a,this,this.dpr)).zlevel=a,b.__builtin__=!0,this._layerConfig[a]?an(b,this._layerConfig[a],!0):this._layerConfig[a-.01]&&an(b,this._layerConfig[a-.01],!0),c&&(b.virtual=c),this.insertLayer(a,b),b.initContext()),b},a.prototype.insertLayer=function(c,a){var f,g=this._layers,d=this._zlevelList,i=d.length,e=this._domRoot,h=null,b=-1;if(!g[c]){if((f=a)&&(f.__builtin__||"function"==typeof f.resize&&"function"==typeof f.refresh)){if(i>0&&c>d[0]){for(b=0;b<i-1&&(!(d[b]<c)||!(d[b+1]>c));b++);h=g[d[b]]}if(d.splice(b+1,0,c),g[c]=a,!a.virtual){if(h){var j=h.dom;j.nextSibling?e.insertBefore(a.dom,j.nextSibling):e.appendChild(a.dom)}else e.firstChild?e.insertBefore(a.dom,e.firstChild):e.appendChild(a.dom)}a.__painter=this}}},a.prototype.eachLayer=function(d,e){for(var b=this._zlevelList,a=0;a<b.length;a++){var c=b[a];d.call(e,this._layers[c],c)}},a.prototype.eachBuiltinLayer=function(e,f){for(var b=this._zlevelList,a=0;a<b.length;a++){var c=b[a],d=this._layers[c];d.__builtin__&&e.call(f,d,c)}},a.prototype.eachOtherLayer=function(e,f){for(var b=this._zlevelList,a=0;a<b.length;a++){var c=b[a],d=this._layers[c];d.__builtin__||e.call(f,d,c)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(d){function h(a){j&&(j.__endIndex!==a&&(j.__dirty=!0),j.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(var i,b,f=1;f<d.length;f++){var c=d[f];if(c.zlevel!==d[f-1].zlevel||c.incremental){this._needsManuallyCompositing=!0;break}}var j=null,g=0;for(b=0;b<d.length;b++){var c=d[b],e=c.zlevel,a=void 0;i!==e&&(i=e,g=0),c.incremental?((a=this.getLayer(e+.001,this._needsManuallyCompositing)).incremental=!0,g=1):a=this.getLayer(e+(g>0?.01:0),this._needsManuallyCompositing),a.__builtin__||fN("ZLevel "+e+" has been used by unkown layer "+a.id),a!==j&&(a.__used=!0,a.__startIndex!==b&&(a.__dirty=!0),a.__startIndex=b,a.incremental?a.__drawIndex=-1:a.__drawIndex=b,h(b),j=a),c.__dirty&g1&&!c.__inHover&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=b))}h(b),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(a){a.clear()},a.prototype.setBackgroundColor=function(a){this._backgroundColor=a,j(this._layers,function(a){a.setUnpainted()})},a.prototype.configLayer=function(a,c){if(c){var b=this._layerConfig;b[a]?an(b[a],c,!0):b[a]=c;for(var d=0;d<this._zlevelList.length;d++){var e=this._zlevelList[d];(e===a||e===a+.01)&&an(this._layers[e],b[a],!0)}}},a.prototype.delLayer=function(a){var c=this._layers,d=this._zlevelList,b=c[a];b&&(b.dom.parentNode.removeChild(b.dom),delete c[a],d.splice(fQ(d,a),1))},a.prototype.resize=function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts,e=this.root;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=rS(e,0,d),b=rS(e,1,d),c.style.display="",this._width!==a||b!==this._height){for(var f in c.style.width=a+"px",c.style.height=b+"px",this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(a,b);this.refresh(!0)}this._width=a,this._height=b}else{if(null==a||null==b)return;this._width=a,this._height=b,this.getLayer(314159).resize(a,b)}return this},a.prototype.clearLayer=function(b){var a=this._layers[b];a&&a.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(b){if(b=b||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var a=new tk("image",this,b.pixelRatio||this.dpr);a.initContext(),a.clear(!1,b.backgroundColor||this._backgroundColor);var f=a.ctx;if(b.pixelRatio<=this.dpr){this.refresh();var h=a.dom.width,i=a.dom.height;this.eachLayer(function(a){a.__builtin__?f.drawImage(a.dom,0,0,h,i):a.renderToCanvas&&(f.save(),a.renderToCanvas(f),f.restore())})}else for(var g={inHover:!1,viewWidth:this._width,viewHeight:this._height},d=this.storage.getDisplayList(!0),c=0,e=d.length;c<e;c++)r7(f,d[c],g,c===e-1);return a.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}(),tm=Math.sin,tn=Math.cos,dn=Math.PI,to=2*Math.PI,tp=180/dn,tq=function(){function a(){}return a.prototype.reset=function(a){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,a||4)},a.prototype.moveTo=function(a,b){this._add("M",a,b)},a.prototype.lineTo=function(a,b){this._add("L",a,b)},a.prototype.bezierCurveTo=function(a,b,c,d,e,f){this._add("C",a,b,c,d,e,f)},a.prototype.quadraticCurveTo=function(a,b,c,d){this._add("Q",a,b,c,d)},a.prototype.arc=function(b,c,a,d,e,f){this.ellipse(b,c,a,a,0,d,e,f)},a.prototype.ellipse=function(f,g,a,b,q,e,h,r){var c=h-e,d=!r,j=Math.abs(c),k=hS(j-to)||(d?c>=to:-c>=to),l=!1;l=!!k|| !hS(j)&&(c>0?c%to:c%to+to)>=dn== !!d;var m=f+a*tn(e),n=g+b*tm(e);this._start&&this._add("M",m,n);var i=Math.round(q*tp);if(k){var o=1/this._p,p=(d?1:-1)*(to-o);this._add("A",a,b,i,1,+d,f+a*tn(e+p),g+b*tm(e+p)),o>.01&&this._add("A",a,b,i,0,+d,m,n)}else{var s=f+a*tn(h),t=g+b*tm(h);this._add("A",a,b,i,+l,+d,s,t)}},a.prototype.rect=function(b,c,a,d){this._add("M",b,c),this._add("l",a,0),this._add("l",0,d),this._add("l",-a,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(b,f,g,h,i,j,k,l,m){for(var c=[],d=this._p,a=1;a<arguments.length;a++){var e=arguments[a];if(isNaN(e)){this._invalid=!0;return}c.push(Math.round(e*d)/d)}this._d.push(b+c.join(" ")),this._start="Z"===b},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),tr="none",ts=Math.round,dp=["lineCap","miterLimit","lineJoin"],tt=Y(dp,function(a){return"stroke-"+a.toLowerCase()}),tu="http://www.w3.org/2000/svg",tv="http://www.w3.org/1999/xlink";function tw(a){return document.createElementNS(tu,a)}function dq(a,b,c,d,e){return{tag:a,attrs:c||{},children:d,text:e,key:b}}function tx(b,a){var d=(a=a||{}).newline?"\n":"";function c(a){var f,b=a.children,e=a.tag;return function(f,b){var c=[];if(b)for(var d in b){var a=b[d],e=d;!1!==a&&(!0!==a&&null!=a&&(e+='="'+a+'"'),c.push(e))}return"<"+f+" "+c.join(" ")+">"}(e,a.attrs)+(a.text||"")+(b?""+d+Y(b,function(a){return c(a)}).join(d)+d:"")+("</"+(f=e))+">"}return c(b)}function ty(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function tz(a,b,c,d){return dq("svg","root",{width:a,height:b,xmlns:tu,"xmlns:xlink":tv,version:"1.1",baseProfile:"full",viewBox:!!d&&"0 0 "+a+" "+b},c)}var tA={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},tB="transform-origin";function tC(b,e,c){var d=fP({},b.shape);fP(d,e),b.buildPath(c,d);var a=new tq;return a.reset(h$(b)),c.rebuildPath(a,1),a.generateStr(),a.getStr()}function tD(d,a){var b=a.originX,c=a.originY;(b||c)&&(d[tB]=b+"px "+c+"px")}var tE={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function tF(c,a){var b=a.zrId+"-ani-"+a.cssAnimIdx++;return a.cssAnims[b]=c,b}function tG(a){return fT(a)?tA[a]?"cubic-bezier("+tA[a]+")":ht(a)?a:"":""}function tH(h,l,e,s){var m=h.animators,i=m.length,f=[];if(h instanceof qt){var a=function(b,c,d){var a,e,f=b.shape.paths,g={};if(j(f,function(m){var b=ty(d.zrId);b.animation=!0,tH(m,{},b,!0);var f=b.cssAnims,h=b.cssNodes,i=ap(f),j=i.length;if(j){var k=f[e=i[j-1]];for(var c in k){var n=k[c];g[c]=g[c]||{d:""},g[c].d+=n.d||""}for(var o in h){var l=h[o].animation;l.indexOf(e)>=0&&(a=l)}}}),a){c.d=!1;var h=tF(g,d);return a.replace(e,h)}}(h,l,e);if(a)f.push(a);else if(!i)return}else if(!i)return;for(var b={},k=0;k<i;k++){var c=m[k],d=[c.getMaxTime()/1e3+"s"],n=tG(c.getClip().easing),o=c.getDelay();n?d.push(n):d.push("linear"),o&&d.push(o/1e3+"s"),c.getLoop()&&d.push("infinite");var g=d.join(" ");b[g]=b[g]||[g,[]],b[g][1].push(c)}function q(t){var d,p,q=t[1],u=q.length,i={},j={},a={},k="animation-timing-function";function r(h,a,i){for(var j=h.getTracks(),o=h.getMaxTime(),e=0;e<j.length;e++){var f=j[e];if(f.needsAnimate()){var l=f.keyframes,b=f.propName;if(i&&(b=i(b)),b)for(var g=0;g<l.length;g++){var c=l[g],d=Math.round(c.time/o*100)+"%",m=tG(c.easing),n=c.rawValue;(fT(n)||fV(n))&&(a[d]=a[d]||{},a[d][b]=c.rawValue,m&&(a[d][k]=m))}}}}for(var c=0;c<u;c++){var f=q[c],m=f.targetName;m?"shape"===m&&r(f,j):s||r(f,i)}for(var b in i){var n={};iL(n,h),fP(n,i[b]);var v=h_(n),g=i[b][k];a[b]=v?{transform:v}:{},tD(a[b],n),g&&(a[b][k]=g)}var w=!0;for(var b in j){a[b]=a[b]||{};var x=!d,g=j[b][k];x&&(d=new Q);var A=d.len();d.reset(),a[b].d=tC(h,j[b],d);var B=d.len();if(!x&&A!==B){w=!1;break}g&&(a[b][k]=g)}if(!w)for(var b in a)delete a[b].d;if(!s)for(var c=0;c<u;c++){var f=q[c],m=f.targetName;"style"===m&&r(f,a,function(a){return tE[a]})}for(var o=ap(a),y=!0,c=1;c<o.length;c++){var z=o[c-1],C=o[c];if(a[z][tB]!==a[C][tB]){y=!1;break}p=a[z][tB]}if(y&&p){for(var b in a)a[b][tB]&&delete a[b][tB];l[tB]=p}if(fS(o,function(b){return ap(a[b]).length>0}).length)return tF(a,e)+" "+t[0]+" both"}for(var r in b){var a=q(b[r]);a&&f.push(a)}if(f.length){var p=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+p]={animation:f.join(",")},l.class=p}}var tI=Math.round;function tJ(a){return a&&fT(a.src)}function tK(a){return a&&cw(a.toDataURL)}function tL(b,c,a,d){!function(b,a,h,c){var u,k,v,l,d=null==a.opacity?1:a.opacity;if(h instanceof cU){b("opacity",d);return}if(null!=(k=(u=a).fill)&&k!==tr){var i=hR(a.fill);b("fill",i.color);var m=null!=a.fillOpacity?a.fillOpacity*i.opacity*d:i.opacity*d;(c||m<1)&&b("fill-opacity",m)}else b("fill",tr);if(null!=(l=(v=a).stroke)&&l!==tr){var j=hR(a.stroke);b("stroke",j.color);var n=a.strokeNoScale?h.getLineScale():1,o=n?(a.lineWidth||0)/n:0,p=null!=a.strokeOpacity?a.strokeOpacity*j.opacity*d:j.opacity*d,q=a.strokeFirst;if((c||1!==o)&&b("stroke-width",o),(c||q)&&b("paint-order",q?"stroke":"fill"),(c||p<1)&&b("stroke-opacity",p),a.lineDash){var r=rT(h),s=r[0],e=r[1];s&&(e=ts(e||0),b("stroke-dasharray",s.join(",")),(e||c)&&b("stroke-dashoffset",e))}else c&&b("stroke-dasharray",tr);for(var f=0;f<dp.length;f++){var g=dp[f];if(c||a[g]!==cT[g]){var t=a[g]||cT[g];t&&b(tt[f],t)}}}else c&&b("stroke",tr)}(function(e,f){var h,i,g,j="fill"===e||"stroke"===e;j&&(g=f)&&("linear"===g.type||"radial"===g.type)?tS(c,b,e,d):j&&(hW(h=f)||(i=h)&&i.svgElement)?tT(a,b,e,d):b[e]=f},c,a,!1),tR(a,b,d)}function tM(a){return hS(a[0]-1)&&hS(a[1])&&hS(a[2])&&hS(a[3]-1)}function tN(e,a,f){var d;if(a&&!(hS((d=a)[4])&&hS(d[5])&&tM(a))){var b,c=f?10:1e4;e.transform=tM(a)?"translate("+tI(a[4]*c)/c+" "+tI(a[5]*c)/c+")":"matrix("+hT((b=a)[0])+","+hT(b[1])+","+hT(b[2])+","+hT(b[3])+","+hU(b[4])+","+hU(b[5])+")"}}function bU(e,f,a){for(var c=e.points,d=[],b=0;b<c.length;b++)d.push(tI(c[b][0]*a)/a),d.push(tI(c[b][1]*a)/a);f.points=d.join(" ")}function bV(a){return!a.smooth}var dr,ds,tO={circle:[(ds=Y(dr=["cx","cy","r"],function(a){return"string"==typeof a?[a,a]:a}),function(e,f,b){for(var a=0;a<ds.length;a++){var c=ds[a],d=e[c[0]];null!=d&&(f[c[1]]=tI(d*b)/b)}})],polyline:[bU,bV],polygon:[bU,bV]};function tP(a,c){var m=a.style,i=a.shape,f=tO[a.type],d={},n=c.animation,j="path",g=a.style.strokePercent,k=c.compress&&h$(a)||4;if(!f||c.willUpdate||f[1]&&!f[1](i)||n&&function(c){for(var b=c.animators,a=0;a<b.length;a++)if("shape"===b[a].targetName)return!0;return!1}(a)||g<1){a.path||a.createPathProxy();var h=a.path;a.shapeChanged()&&(h.beginPath(),a.buildPath(h,a.shape),a.pathUpdated());var l=h.getVersion(),e=a,b=e.__svgPathBuilder;e.__svgPathVersion===l&&b&&g===e.__svgPathStrokePercent||(b||(b=e.__svgPathBuilder=new tq),b.reset(k),h.rebuildPath(b,g),b.generateStr(),e.__svgPathVersion=l,e.__svgPathStrokePercent=g),d.d=b.getStr()}else{j=a.type;var o=Math.pow(10,k);f[0](i,d,o)}return tN(d,a.transform),tL(d,m,a,c),c.animation&&tH(a,d,c),dq(j,a.id+"",d)}function tQ(a,b){return a instanceof c?tP(a,b):a instanceof cU?function(d,e){var b=d.style,a=b.image;if(a&&!fT(a)&&(tJ(a)?a=a.src:tK(a)&&(a=a.toDataURL())),a){var f=b.x||0,g=b.y||0,h=b.width,i=b.height,c={href:a,width:h,height:i};return f&&(c.x=f),g&&(c.y=g),tN(c,d.transform),tL(c,b,d,e),e.animation&&tH(d,c,e),dq("image",d.id+"",c)}}(a,b):a instanceof lc?function(c,g){var a=c.style,d=a.text;if(null!=d&&(d+=""),!(!d||isNaN(a.x)||isNaN(a.y))){var e,h,k,l=a.font||cr,m=a.x||0,n=(e=a.y||0,h=i$(l),"top"===(k=a.textBaseline)?e+=h/2:"bottom"===k&&(e-=h/2),e),b={"dominant-baseline":"central","text-anchor":hV[a.textAlign]||a.textAlign};if(lr(a)){var f="",i=a.fontStyle,o=lp(a.fontSize);if(!parseFloat(o))return;var p=a.fontFamily||cq,j=a.fontWeight;f+="font-size:"+o+";font-family:"+p+";",i&&"normal"!==i&&(f+="font-style:"+i+";"),j&&"normal"!==j&&(f+="font-weight:"+j+";"),b.style=f}else b.style="font: "+l;return d.match(/\s/)&&(b["xml:space"]="preserve"),m&&(b.x=m),n&&(b.y=n),tN(b,c.transform),tL(b,a,c,g),g.animation&&tH(c,b,g),dq("text",c.id+"",b,void 0,d)}}(a,b):void 0}function tR(f,p,d){var e,b=f.style;if((e=b)&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)){var j,c,g,k=(c=(j=f).style,g=j.getGlobalScale(),[c.shadowColor,(c.shadowBlur||0).toFixed(2),(c.shadowOffsetX||0).toFixed(2),(c.shadowOffsetY||0).toFixed(2),g[0],g[1]].join(",")),l=d.shadowCache,a=l[k];if(!a){var m=f.getGlobalScale(),h=m[0],i=m[1];if(!h||!i)return;var q=b.shadowOffsetX||0,r=b.shadowOffsetY||0,n=b.shadowBlur,o=hR(b.shadowColor),s=o.opacity,t=o.color,u=n/2/h,v=n/2/i,w=u+" "+v;a=d.zrId+"-s"+d.shadowIdx++,d.defs[a]=dq("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[dq("feDropShadow","",{dx:q/h,dy:r/i,stdDeviation:w,"flood-color":t,"flood-opacity":s})]),l[k]=a}p.filter=hZ(a)}}function tS(o,p,j,e){var f,a=o[j],b={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(hX(a))f="linearGradient",b.x1=a.x,b.y1=a.y,b.x2=a.x2,b.y2=a.y2;else{if(!hY(a))return;f="radialGradient",b.cx=f$(a.x,.5),b.cy=f$(a.y,.5),b.r=f$(a.r,.5)}for(var g=a.colorStops,h=[],d=0,q=g.length;d<q;++d){var r=100*hU(g[d].offset)+"%",s=g[d].color,k=hR(s),t=k.color,l=k.opacity,i={offset:r};i["stop-color"]=t,l<1&&(i["stop-opacity"]=l),h.push(dq("stop",d+"",i))}var u=dq(f,"",b,h),m=tx(u),n=e.gradientCache,c=n[m];c||(c=e.zrId+"-g"+e.gradientIdx++,n[m]=c,b.id=c,e.defs[c]=dq(f,c,b,h)),p[j]=hZ(c)}function tT(k,q,l,j){var g,a=k.style[l],b={patternUnits:"userSpaceOnUse"};if(hW(a)){var d=a.imageWidth,e=a.imageHeight,h=void 0,f=a.image;if(fT(f)?h=f:tJ(f)?h=f.src:tK(f)&&(h=f.toDataURL()),"undefined"==typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";f1(d,m),f1(e,m)}else if(null==d||null==e){var r=function(a,c){if(a){var b=a.elm,f=a.attrs.width=d||c.width,g=a.attrs.height=e||c.height;b&&(b.setAttribute("width",f),b.setAttribute("height",g))}},i=j4(h,null,k,function(a){r(n,a),r(g,a)});i&&i.width&&i.height&&(d=d||i.width,e=e||i.height)}g=dq("image","img",{href:h,width:d,height:e}),b.width=d,b.height=e}else a.svgElement&&(g=ct(a.svgElement),b.width=a.svgWidth,b.height=a.svgHeight);if(g){b.patternTransform=h_(a);var n=dq("pattern","",b,[g]),o=tx(n),p=j.patternCache,c=p[o];c||(c=j.zrId+"-p"+j.patternIdx++,p[o]=c,b.id=c,n=j.defs[c]=dq("pattern",c,b,[g])),q[l]=hZ(c)}}function tU(c,e,b){var d=b.clipPathCache,f=b.defs,a=d[c.id];if(!a){var g={id:a=b.zrId+"-c"+b.clipPathIdx++};d[c.id]=a,f[a]=dq("clipPath",a,g,[tP(c,b)])}e["clip-path"]=hZ(a)}function tV(a){return document.createTextNode(a)}function tW(a,b,c){a.insertBefore(b,c)}function tX(a,b){a.removeChild(b)}function tY(a,b){a.appendChild(b)}function tZ(a){return a.parentNode}function t$(a){return a.nextSibling}function t_(a,b){a.textContent=b}var t0=dq("","");function t1(a){return void 0===a}function t2(a){return void 0!==a}function t3(d,e,f){for(var b={},a=e;a<=f;++a){var c=d[a].key;void 0!==c&&(b[c]=a)}return b}function t4(a,b){var c=a.key===b.key,d=a.tag===b.tag;return d&&c}function t5(a){var b,c=a.children,d=a.tag;if(t2(d)){var e=a.elm=tw(d);if(t8(t0,a),cv(c))for(b=0;b<c.length;++b){var f=c[b];null!=f&&tY(e,t5(f))}else t2(a.text)&&!aq(a.text)&&tY(e,tV(a.text))}else a.elm=tV(a.text);return a.elm}function t6(c,d,e,a,f){for(;a<=f;++a){var b=e[a];null!=b&&tW(c,t5(b),d)}}function t7(c,d,b,e){for(;b<=e;++b){var a=d[b];null!=a&&(t2(a.tag)?tX(tZ(a.elm),a.elm):tX(c,a.elm))}}function t8(f,g){var a,b=g.elm,e=f&&f.attrs||{},d=g.attrs||{};if(e!==d){for(a in d){var c=d[a];e[a]!==c&&(!0===c?b.setAttribute(a,""):!1===c?b.removeAttribute(a):120!==a.charCodeAt(0)?b.setAttribute(a,c):"xmlns:xlink"===a||"xmlns"===a?b.setAttributeNS("http://www.w3.org/2000/xmlns/",a,c):58===a.charCodeAt(3)?b.setAttributeNS("http://www.w3.org/XML/1998/namespace",a,c):58===a.charCodeAt(5)?b.setAttributeNS(tv,a,c):b.setAttribute(a,c))}for(a in e)a in d||b.removeAttribute(a)}}function t9(b,c){var d=c.elm=b.elm,a=b.children,e=c.children;b!==c&&(t8(b,c),t1(c.text)?t2(a)&&t2(e)?a!==e&&function(j,b,c){for(var l,m,n,o,h=0,k=0,f=b.length-1,d=b[0],e=b[f],g=c.length-1,a=c[0],i=c[g];h<=f&&k<=g;)null==d?d=b[++h]:null==e?e=b[--f]:null==a?a=c[++k]:null==i?i=c[--g]:t4(d,a)?(t9(d,a),d=b[++h],a=c[++k]):t4(e,i)?(t9(e,i),e=b[--f],i=c[--g]):t4(d,i)?(t9(d,i),tW(j,d.elm,t$(e.elm)),d=b[++h],i=c[--g]):t4(e,a)?(t9(e,a),tW(j,e.elm,d.elm),e=b[--f],a=c[++k]):(t1(l)&&(l=t3(b,h,f)),t1(m=l[a.key])?tW(j,t5(a),d.elm):(n=b[m]).tag!==a.tag?tW(j,t5(a),d.elm):(t9(n,a),b[m]=void 0,tW(j,n.elm,d.elm)),a=c[++k]);(h<=f||k<=g)&&(h>f?t6(j,null==c[g+1]?null:c[g+1].elm,c,k,g):t7(j,b,h,f))}(d,a,e):t2(e)?(t2(b.text)&&t_(d,""),t6(d,null,e,0,e.length-1)):t2(a)?t7(d,a,0,a.length-1):t2(b.text)&&t_(d,""):b.text!==c.text&&(t2(a)&&t7(d,a,0,a.length-1),t_(d,c.text)))}var ua=0,dt=function(){function a(b,d,a){if(this.type="svg",this.refreshHover=ub("refreshHover"),this.configLayer=ub("configLayer"),this.storage=d,this._opts=a=fP({},a),this.root=b,this._id="zr"+ua++,this._oldVNode=tz(a.width,a.height),b&&!a.ssr){var c=this._viewport=document.createElement("div");c.style.cssText="position:relative;overflow:hidden";var e=this._svgDom=this._oldVNode.elm=tw("svg");t8(null,this._oldVNode),c.appendChild(e),b.appendChild(c)}this.resize(a.width,a.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var a=this.renderToVNode({willUpdate:!0});a.attrs.style="position:absolute;left:0;top:0;user-select:none",function(a,b){if(t4(a,b))t9(a,b);else{var d=a.elm,c=tZ(d);t5(b),null!==c&&(tW(c,b.elm,t$(d)),t7(c,[a],0,0))}}(this._oldVNode,a),this._oldVNode=a}},a.prototype.renderOneToVNode=function(a){return tQ(a,ty(this._id))},a.prototype.renderToVNode=function(a){a=a||{};var q=this.storage.getDisplayList(!0),f=this._backgroundColor,j=this._width,k=this._height,b=ty(this._id);b.animation=a.animation,b.willUpdate=a.willUpdate,b.compress=a.compress;var c=[];if(f&&"none"!==f){var l=hR(f),r=l.color,s=l.opacity;this._bgVNode=dq("rect","bg",{width:j,height:k,x:"0",y:"0",id:"0",fill:r,"fill-opacity":s}),c.push(this._bgVNode)}else this._bgVNode=null;var e=a.compress?null:this._mainVNode=dq("g","main",{},[]);this._paintList(q,b,e?e.children:c),e&&c.push(e);var m=Y(ap(b.defs),function(a){return b.defs[a]});if(m.length&&c.push(dq("defs","defs",{},m)),a.animation){var n,o,g,d,t,u,h,i,p=(n=b.cssNodes,o=b.cssAnims,g={newline:!0},d=(g=g||{}).newline?"\n":"",t=" {"+d,u=d+"}",h=Y(ap(n),function(a){return a+t+Y(ap(n[a]),function(b){return b+":"+n[a][b]+";"}).join(d)+u}).join(d),i=Y(ap(o),function(a){return"@keyframes "+a+t+Y(ap(o[a]),function(b){return b+t+Y(ap(o[a][b]),function(c){var d=o[a][b][c];return"d"===c&&(d='path("'+d+'")'),c+":"+d+";"}).join(d)+u}).join(d)+u}).join(d),h||i?["<![CDATA[",h,i,"]]>"].join(d):"");if(p){var v=dq("style","stl",{},[],p);c.push(v)}}return tz(j,k,c,a.useViewBox)},a.prototype.renderToString=function(a){return a=a||{},tx(this.renderToVNode({animation:f$(a.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:f$(a.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(b){this._backgroundColor=b;var a=this._bgVNode;if(a&&a.elm){var c=hR(b),e=c.color,d=c.opacity;a.elm.setAttribute("fill",e),d<1&&a.elm.setAttribute("fill-opacity",d)}},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(i,j,k){for(var b,d,s=i.length,l=[],m=0,t=0,e=0;e<s;e++){var f=i[e];if(!f.invisible){var c=f.__clipPaths,n=c&&c.length||0,o=d&&d.length||0,a=void 0;for(a=Math.max(n-1,o-1);a>=0&&(!c||!d||c[a]!==d[a]);a--);for(var p=o-1;p>a;p--)b=l[--m-1];for(var g=a+1;g<n;g++){var q={};tU(c[g],q,j);var h=dq("g","clip-g-"+t++,q,[]);(b?b.children:k).push(h),l[m++]=h,b=h}d=c;var r=tQ(f,j);r&&(b?b.children:k).push(r)}}},a.prototype.resize=function(a,b){var d=this._opts,e=this.root,c=this._viewport;if(null!=a&&(d.width=a),null!=b&&(d.height=b),e&&c&&(c.style.display="none",a=rS(e,0,d),b=rS(e,1,d),c.style.display=""),this._width!==a||this._height!==b){if(this._width=a,this._height=b,c){var g=c.style;g.width=a+"px",g.height=b+"px"}var f=this._svgDom;f&&(f.setAttribute("width",a),f.setAttribute("height",b))}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(c){var a=encodeURIComponent(this.renderToString()),b="data:image/svg+xml;";return c?(a=h0(a))&&b+"base64,"+a:b+"charset=UTF-8,"+a},a}();function ub(a){return function(){}}var uc=dt;function ud(a){return null==a?0:a.length||1}function ue(a){return a}var uf=function(){function a(a,b,c,d,e,f){this._old=a,this._new=b,this._oldKeyGetter=c||ue,this._newKeyGetter=d||ue,this.context=e,this._diffModeMultiple="multiple"===f}return a.prototype.add=function(a){return this._add=a,this},a.prototype.update=function(a){return this._update=a,this},a.prototype.updateManyToOne=function(a){return this._updateManyToOne=a,this},a.prototype.updateOneToMany=function(a){return this._updateOneToMany=a,this},a.prototype.updateManyToMany=function(a){return this._updateManyToMany=a,this},a.prototype.remove=function(a){return this._remove=a,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var d=this._old,f=this._new,b={},g=Array(d.length),h=Array(f.length);this._initIndexMap(d,null,g,"_oldKeyGetter"),this._initIndexMap(f,b,h,"_newKeyGetter");for(var a=0;a<d.length;a++){var e=g[a],c=b[e],i=ud(c);if(i>1){var j=c.shift();1===c.length&&(b[e]=c[0]),this._update&&this._update(j,a)}else 1===i?(b[e]=null,this._update&&this._update(c,a)):this._remove&&this._remove(a)}this._performRestAdd(h,b)},a.prototype._executeMultiple=function(){var l=this._old,m=this._new,j={},a={},g=[],k=[];this._initIndexMap(l,j,g,"_oldKeyGetter"),this._initIndexMap(m,a,k,"_newKeyGetter");for(var h=0;h<g.length;h++){var c=g[h],b=j[c],e=a[c],d=ud(b),f=ud(e);if(d>1&&1===f)this._updateManyToOne&&this._updateManyToOne(e,b),a[c]=null;else if(1===d&&f>1)this._updateOneToMany&&this._updateOneToMany(e,b),a[c]=null;else if(1===d&&1===f)this._update&&this._update(e,b),a[c]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(e,b),a[c]=null;else if(d>1)for(var i=0;i<d;i++)this._remove&&this._remove(b[i]);else this._remove&&this._remove(b)}this._performRestAdd(k,a)},a.prototype._performRestAdd=function(e,f){for(var a=0;a<e.length;a++){var g=e[a],b=f[g],c=ud(b);if(c>1)for(var d=0;d<c;d++)this._add&&this._add(b[d]);else 1===c&&this._add&&this._add(b);f[g]=null}},a.prototype._initIndexMap=function(e,c,f,i){for(var g=this._diffModeMultiple,a=0;a<e.length;a++){var b="_ec_"+this[i](e[a],a);if(g||(f[a]=b),c){var d=c[b],h=ud(d);0===h?(c[b]=a,g&&f.push(b)):1===h?c[b]=[d,a]:d.push(a)}}},a}(),ug=function(){function a(a,b){this._encode=a,this._schema=b}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function uh(a,b){return a.hasOwnProperty(b)||(a[b]=[]),a[b]}function ui(a){return"category"===a?"ordinal":"time"===a?"time":"float"}var uj=function(a){this.otherDims={},null!=a&&fP(this,a)},uk=a(),ul={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},um=function(){function a(a){this.dimensions=a.dimensions,this._dimOmitted=a.dimensionOmitted,this.source=a.source,this._fullDimCount=a.fullDimensionCount,this._updateDimOmitted(a.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(a){this._dimOmitted=a,a&&(this._dimNameMap||(this._dimNameMap=up(this.source)))},a.prototype.getSourceDimensionIndex=function(a){return f$(this._dimNameMap.get(a),-1)},a.prototype.getSourceDimension=function(b){var a=this.source.dimensionsDefine;if(a)return a[b]},a.prototype.makeStoreSchema=function(){for(var i,j=this._fullDimCount,g=oy(this.source),n=(i=j,!(i>30)),b="",k=[],d=0,l=0;d<j;d++){var c=void 0,e=void 0,f=void 0,a=this.dimensions[l];if(a&&a.storeDimIndex===d)c=g?a.name:null,e=a.type,f=a.ordinalMeta,l++;else{var h=this.getSourceDimension(d);h&&(c=g?h.name:null,e=h.type)}k.push({property:c,type:e,ordinalMeta:f}),!g||null==c||a&&a.isCalculationCoord||(b+=n?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),b+="$",b+=ul[e]||"f",f&&(b+=f.uid),b+="$"}var m=this.source;return{dimensions:k,hash:[m.seriesLayoutBy,m.startIndex,b].join("$$")}},a.prototype.makeOutputDimensionNames=function(){for(var d=[],a=0,e=0;a<this._fullDimCount;a++){var c=void 0,b=this.dimensions[e];if(b&&b.storeDimIndex===a)b.isCalculationCoord||(c=b.name),e++;else{var f=this.getSourceDimension(a);f&&(c=f.name)}d.push(c)}return d},a.prototype.appendCalculationDimension=function(a){this.dimensions.push(a),a.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function un(a){return a instanceof um}function uo(e){for(var b=s(),a=0;a<(e||[]).length;a++){var c=e[a],d=aq(c)?c.name:c;null!=d&&null==b.get(d)&&b.set(d,a)}return b}function up(a){var b=uk(a);return b.dimNameMap||(b.dimNameMap=uo(a.dimensionsDefine))}var uq=aq,ur=Y,us="undefined"==typeof Int32Array?Array:Int32Array,ut=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],uu=["_approximateExtent"],uv=function(){function a(d,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var b,h=!1;un(d)?(b=d.dimensions,this._dimOmitted=d.isDimensionOmitted(),this._schema=d):(h=!0,b=d),b=b||["x","y"];for(var i={},g=[],k={},l=!1,o={},c=0;c<b.length;c++){var e=b[c],a=fT(e)?new uj({name:e}):e instanceof uj?e:new uj(e),f=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=f,a.coordDimIndex=0);var m=a.otherDims=a.otherDims||{};g.push(f),i[f]=a,null!=o[f]&&(l=!0),a.createInvertedIndices&&(k[f]=[]),0===m.itemName&&(this._nameDimIdx=c),0===m.itemId&&(this._idDimIdx=c),h&&(a.storeDimIndex=c)}if(this.dimensions=g,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=k,this._dimOmitted){var p=this._dimIdxToName=s();j(g,function(a){p.set(i[a].storeDimIndex,a)})}}return a.prototype.getDimension=function(b){var a=this._recognizeDimIndex(b);if(null==a)return b;if(a=b,!this._dimOmitted)return this.dimensions[a];var c=this._dimIdxToName.get(a);if(null!=c)return c;var d=this._schema.getSourceDimension(a);if(d)return d.name},a.prototype.getDimensionIndex=function(a){var b=this._recognizeDimIndex(a);if(null!=b)return b;if(null==a)return -1;var c=this._getDimInfo(a);return c?c.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(a):-1},a.prototype._recognizeDimIndex=function(a){if(fV(a)||null!=a&&!isNaN(a)&&!this._getDimInfo(a)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(a)))return+a},a.prototype._getStoreDimIndex=function(a){var b;return this.getDimensionIndex(a)},a.prototype.getDimensionInfo=function(a){return this._getDimInfo(this.getDimension(a))},a.prototype._initGetDimensionInfo=function(a){var b=this._dimInfos;this._getDimInfo=a?function(a){return b.hasOwnProperty(a)?b[a]:void 0}:function(a){return b[a]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(a,b){var c=this._dimSummary;if(null==b)return c.encodeFirstDimNotExtra[a];var d=c.encode[a];return d?d[b]:null},a.prototype.mapDimensionsAll=function(a){return(this._dimSummary.encode[a]||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(a,q,r){var k,l,b,d,m,f,e,n,g,o,h,i,c,v=this;if(a instanceof pc&&(c=a),!c){var p=this.dimensions,t=oq(a)||fR(a)?new oz(a,p.length):a;c=new pc;var u=ur(p,function(a){return{type:v._dimInfos[a].type,property:a}});c.initData(t,u,r)}this._store=c,this._nameList=(q||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,c.count()),this._dimSummary=(k=this,l=this._schema,d=(b={}).encode={},m=s(),f=[],e=[],n={},j(k.dimensions,function(b){var a=k.getDimensionInfo(b),c=a.coordDim;if(c){var g,h=a.coordDimIndex;uh(d,c)[h]=b,a.isExtraCoord||(m.set(c,1),g=a.type,"ordinal"===g||"time"===g||(f[0]=b),uh(n,c)[h]=k.getDimensionIndex(a.name)),a.defaultTooltip&&e.push(b)}nE.each(function(f,c){var e=uh(d,c),b=a.otherDims[c];null!=b&& !1!==b&&(e[b]=a.name)})}),g=[],o={},m.each(function(c,a){var b=d[a];o[a]=b[0],g=g.concat(b)}),b.dataDimsOnCoord=g,b.dataDimIndicesOnCoord=Y(g,function(a){return k.getDimensionInfo(a).storeDimIndex}),b.encodeFirstDimNotExtra=o,(h=d.label)&&h.length&&(f=h.slice()),(i=d.tooltip)&&i.length?e=i.slice():e.length||(e=f.slice()),d.defaultedLabel=f,d.defaultedTooltip=e,b.userOutput=new ug(n,l),b),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(b){var a=this._store.appendData(b);this._doInit(a[0],a[1])},a.prototype.appendValues=function(e,b){var c=this._store.appendValues(e,b.length),d=c.start,f=c.end,g=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),b)for(var a=d;a<f;a++){var h=a-d;this._nameList[a]=b[h],g&&fu(this,a)}},a.prototype._updateOrdinalMeta=function(){for(var d=this._store,c=this.dimensions,a=0;a<c.length;a++){var b=this._dimInfos[c[a]];b.ordinalMeta&&d.collectOrdinalMeta(b.storeDimIndex,b.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var a=this._store.getProvider();return null==this._idDimIdx&&a.getSource().sourceFormat!==c_&&!a.fillStorage},a.prototype._doInit=function(c,d){if(!(c>=d)){var e=this._store.getProvider();this._updateOrdinalMeta();var k,f=this._nameList,g=this._idList;if(e.getSource().sourceFormat===aG&&!e.pure)for(var j=[],a=c;a<d;a++){var b=e.getItem(a,j);if(!this.hasItemOption&&jA(b)&&(this.hasItemOption=!0),b){var h=b.name;null==f[a]&&null!=h&&(f[a]=jK(h,null));var i=b.id;null==g[a]&&null!=i&&(g[a]=jK(i,null))}}if(this._shouldMakeIdFromName())for(var a=c;a<d;a++)fu(this,a);fo(this)}},a.prototype.getApproximateExtent=function(a){return this._approximateExtent[a]||this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.setApproximateExtent=function(b,a){a=this.getDimension(a),this._approximateExtent[a]=b.slice()},a.prototype.getCalculationInfo=function(a){return this._calculationInfo[a]},a.prototype.setCalculationInfo=function(a,b){uq(a)?fP(this._calculationInfo,a):this._calculationInfo[a]=b},a.prototype.getName=function(c){var b=this.getRawIndex(c),a=this._nameList[b];return null==a&&null!=this._nameDimIdx&&(a=fq(this,this._nameDimIdx,b)),null==a&&(a=""),a},a.prototype._getCategory=function(a,d){var b=this._store.get(a,d),c=this._store.getOrdinalMeta(a);return c?c.categories[b]:b},a.prototype.getId=function(a){return fp(this,this.getRawIndex(a))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(b,c){var d=this._store,a=this._dimInfos[b];if(a)return d.get(a.storeDimIndex,c)},a.prototype.getByRawIndex=function(b,c){var d=this._store,a=this._dimInfos[b];if(a)return d.getByRawIndex(a.storeDimIndex,c)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(a){return this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.getSum=function(a){return this._store.getSum(this._getStoreDimIndex(a))},a.prototype.getMedian=function(a){return this._store.getMedian(this._getStoreDimIndex(a))},a.prototype.getValues=function(a,c){var d=this,b=this._store;return cv(a)?b.getValues(ur(a,function(a){return d._getStoreDimIndex(a)}),c):b.getValues(a)},a.prototype.hasValue=function(c){for(var b=this._dimSummary.dataDimIndicesOnCoord,a=0,d=b.length;a<d;a++)if(isNaN(this._store.get(b[a],c)))return!1;return!0},a.prototype.indexOfName=function(b){for(var a=0,c=this._store.count();a<c;a++)if(this.getName(a)===b)return a;return -1},a.prototype.getRawIndex=function(a){return this._store.getRawIndex(a)},a.prototype.indexOfRawIndex=function(a){return this._store.indexOfRawIndex(a)},a.prototype.rawIndexOf=function(b,c){var d,a=(b&&this._invertedIndicesMap[b])[c];return null==a||isNaN(a)?-1:a},a.prototype.indicesOfNearest=function(a,b,c){return this._store.indicesOfNearest(this._getStoreDimIndex(a),b,c)},a.prototype.each=function(a,b,c){cw(a)&&(c=b,b=a,a=[]);var d=c||this,e=ur(fr(a),this._getStoreDimIndex,this);this._store.each(e,d?cu(b,d):b)},a.prototype.filterSelf=function(a,b,c){cw(a)&&(c=b,b=a,a=[]);var d=c||this,e=ur(fr(a),this._getStoreDimIndex,this);return this._store=this._store.filter(e,d?cu(b,d):b),this},a.prototype.selectRange=function(a){var d=this,b={},c=ap(a),e=[];return j(c,function(c){var f=d._getStoreDimIndex(c);b[f]=a[c],e.push(f)}),this._store=this._store.selectRange(b),this},a.prototype.mapArray=function(a,c,b){cw(a)&&(b=c,c=a,a=[]),b=b||this;var d=[];return this.each(a,function(){d.push(c&&c.apply(this,arguments))},b),d},a.prototype.map=function(d,a,e,f){var b=e||f||this,g=ur(fr(d),this._getStoreDimIndex,this),c=ft(this);return c._store=this._store.map(g,b?cu(a,b):a),c},a.prototype.modify=function(c,a,d,e){var b=d||e||this,f=ur(fr(c),this._getStoreDimIndex,this);this._store.modify(f,b?cu(a,b):a)},a.prototype.downSample=function(b,c,d,e){var a=ft(this);return a._store=this._store.downSample(this._getStoreDimIndex(b),c,d,e),a},a.prototype.lttbDownSample=function(b,c){var a=ft(this);return a._store=this._store.lttbDownSample(this._getStoreDimIndex(b),c),a},a.prototype.getRawDataItem=function(a){return this._store.getRawDataItem(a)},a.prototype.getItemModel=function(b){var a=this.hostModel,c=this.getRawDataItem(b);return new _(c,a,a&&a.ecModel)},a.prototype.diff=function(a){var b=this;return new uf(a?a.getStore().getIndices():[],this.getStore().getIndices(),function(b){return fp(a,b)},function(a){return fp(b,a)})},a.prototype.getVisual=function(b){var a=this._visual;return a&&a[b]},a.prototype.setVisual=function(a,b){this._visual=this._visual||{},uq(a)?fP(this._visual,a):this._visual[a]=b},a.prototype.getItemVisual=function(d,a){var b=this._itemVisuals[d],c=b&&b[a];return null==c?this.getVisual(a):c},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(d,c){var e=this._itemVisuals,b=e[d];b||(b=e[d]={});var a=b[c];return null==a&&(cv(a=this.getVisual(c))?a=a.slice():uq(a)&&(a=fP({},a)),b[c]=a),a},a.prototype.setItemVisual=function(c,a,d){var b=this._itemVisuals[c]||{};this._itemVisuals[c]=b,uq(a)?fP(b,a):b[a]=d},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(a,b){uq(a)?fP(this._layout,a):this._layout[a]=b},a.prototype.getLayout=function(a){return this._layout[a]},a.prototype.getItemLayout=function(a){return this._itemLayouts[a]},a.prototype.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?fP(this._itemLayouts[a]||{},b):b},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(a,b){lA(this.hostModel&&this.hostModel.seriesIndex,this.dataType,a,b),this._graphicEls[a]=b},a.prototype.getItemGraphicEl=function(a){return this._graphicEls[a]},a.prototype.eachItemGraphicEl=function(a,b){j(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},a.prototype.cloneShallow=function(b){return b||(b=new a(this._schema?this._schema:ur(this.dimensions,this._getDimInfo,this),this.hostModel)),fs(b,this),b._store=this._store,b},a.prototype.wrapMethod=function(a,c){var b=this[a];cw(b)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=b.apply(this,arguments);return c.apply(this,[a].concat(f0(arguments)))})},a.internalField=void(fo=function(a){var b=a._invertedIndicesMap;j(b,function(d,e){var f=a._dimInfos[e],g=f.ordinalMeta,h=a._store;if(g){d=b[e]=new us(g.categories.length);for(var c=0;c<d.length;c++)d[c]=-1;for(var c=0;c<h.count();c++)d[h.get(f.storeDimIndex,c)]=c}})},fq=function(a,b,c){return jK(a._getCategory(b,c),null)},fp=function(b,c){var a=b._idList[c];return null==a&&null!=b._idDimIdx&&(a=fq(b,b._idDimIdx,c)),null==a&&(a="e\0\0"+c),a},fr=function(a){return cv(a)||(a=null!=a?[a]:[]),a},ft=function(b){var c=new a(b._schema?b._schema:ur(b.dimensions,b._getDimInfo,b),b.hostModel);return fs(c,b),c},fs=function(b,a){j(ut.concat(a.__wrappedMethods||[]),function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b.__wrappedMethods=a.__wrappedMethods,j(uu,function(c){b[c]=ct(a[c])}),b._calculationInfo=fP({},a._calculationInfo)},fu=function(a,b){var f=a._nameList,e=a._idList,g=a._nameDimIdx,h=a._idDimIdx,c=f[b],d=e[b];if(null==c&&null!=g&&(f[b]=c=fq(a,g,b)),null==d&&null!=h&&(e[b]=d=fq(a,h,b)),null==d&&null!=c){var i=a._nameRepeatCount,j=i[c]=(i[c]||0)+1;d=c,j>1&&(d+="__ec__"+j),e[b]=d}}),a}();function uw(a,b){oq(a)||(a=os(a));var q,n=(b=b||{}).coordDimensions||[],i=b.dimensionsDefine||a.dimensionsDefine||[],r=s(),g=[],e=uy(a,n,i,b.dimensionsCount),k=b.canOmitUnusedDimensions&&(q=e)>30,t=i===a.dimensionsDefine,z=t?up(a):uo(i),l=b.encodeDefine;!l&&b.encodeDefaulter&&(l=b.encodeDefaulter(a,e));for(var u=s(l),o=new c4(e),d=0;d<o.length;d++)o[d]=-1;function p(c){var f=o[c];if(f<0){var d=i[c],b=aq(d)?d:{name:d},a=new uj,e=b.name;null!=e&&null!=z.get(e)&&(a.name=a.displayName=e),null!=b.type&&(a.type=b.type),null!=b.displayName&&(a.displayName=b.displayName);var h=g.length;return o[c]=h,a.storeDimIndex=c,g.push(a),a}return g[f]}if(!k)for(var d=0;d<e;d++)p(d);u.each(function(c,b){var a=jw(c).slice();if(1===a.length&&!fT(a[0])&&a[0]<0){u.set(b,!1);return}var d=u.set(b,[]);j(a,function(c,f){var a=fT(c)?z.get(c):c;null!=a&&a<e&&(d[f]=a,B(p(a),b,f))})});var A=0;function B(b,a,c){null!=nE.get(a)?b.otherDims[a]=c:(b.coordDim=a,b.coordDimIndex=c,r.set(a,!0))}j(n,function(c){if(fT(c))g=c,a={};else{g=(a=c).name;var g,d,h,a,i=a.ordinalMeta;a.ordinalMeta=null,(a=fP({},a)).ordinalMeta=i,d=a.dimsDef,h=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var b=u.get(g);if(!1!==b){if(!(b=jw(b)).length)for(var f=0;f<(d&&d.length||1);f++){for(;A<e&&null!=p(A).coordDim;)A++;A<e&&b.push(A++)}j(b,function(f,e){var b=p(f);if(t&&null!=a.type&&(b.type=a.type),B(x(b,a),g,e),null==b.name&&d){var c=d[e];aq(c)||(c={name:c}),b.name=b.displayName=c.name,b.defaultTooltip=c.defaultTooltip}h&&x(b.otherDims,h)})}});var m=b.generateCoord,f=b.generateCoordCount,v=null!=f;f=m?f||1:0;var w=m||"value";function y(a){null==a.name&&(a.name=a.coordDim)}if(k)j(g,function(a){y(a)}),g.sort(function(a,b){return a.storeDimIndex-b.storeDimIndex});else for(var h=0;h<e;h++){var c=p(h);null==c.coordDim&&(c.coordDim=uz(w,r,v),c.coordDimIndex=0,(!m||f<=0)&&(c.isExtraCoord=!0),f--),y(c),null==c.type&&(nL(a,h)===nG.Must||c.isExtraCoord&&(null!=c.otherDims.itemName||null!=c.otherDims.seriesName))&&(c.type="ordinal")}return ux(g),new um({source:a,dimensions:g,fullDimensionCount:e,dimensionOmitted:k})}function ux(d){for(var e=s(),b=0;b<d.length;b++){var f=d[b],c=f.name,a=e.get(c)||0;a>0&&(f.name=c+(a-1)),a++,e.set(c,a)}}function uy(b,a,c,d){var e=Math.max(b.dimensionsDetectedCount||1,a.length,c.length,d||0);return j(a,function(a){var b;aq(a)&&(b=a.dimsDef)&&(e=Math.max(e,b.length))}),e}function uz(a,c,e){var d=c.data;if(e||d.hasOwnProperty(a)){for(var b=0;d.hasOwnProperty(a+b);)b++;a+=b}return c.set(a,!0),a}var uA=function(a){this.coordSysDims=[],this.axisMap=s(),this.categoryAxisMap=s(),this.coordSysName=a},uB={cartesian2d:function(d,a,e,f){var b=d.getReferringComponents("xAxis",jR).models[0],c=d.getReferringComponents("yAxis",jR).models[0];a.coordSysDims=["x","y"],e.set("x",b),e.set("y",c),uC(b)&&(f.set("x",b),a.firstCategoryDimIndex=0),uC(c)&&(f.set("y",c),null==a.firstCategoryDimIndex&&(a.firstCategoryDimIndex=1))},singleAxis:function(c,b,d,e){var a=c.getReferringComponents("singleAxis",jR).models[0];b.coordSysDims=["single"],d.set("single",a),uC(a)&&(e.set("single",a),b.firstCategoryDimIndex=0)},polar:function(g,a,d,e){var f=g.getReferringComponents("polar",jR).models[0],b=f.findAxisModel("radiusAxis"),c=f.findAxisModel("angleAxis");a.coordSysDims=["radius","angle"],d.set("radius",b),d.set("angle",c),uC(b)&&(e.set("radius",b),a.firstCategoryDimIndex=0),uC(c)&&(e.set("angle",c),null==a.firstCategoryDimIndex&&(a.firstCategoryDimIndex=1))},geo:function(b,a,c,d){a.coordSysDims=["lng","lat"]},parallel:function(a,c,e,f){var d=a.ecModel,b=d.getComponent("parallel",a.get("parallelIndex")),g=c.coordSysDims=b.dimensions.slice();j(b.parallelAxisIndex,function(i,b){var a=d.getComponent("parallelAxis",i),h=g[b];e.set(h,a),uC(a)&&(f.set(h,a),null==c.firstCategoryDimIndex&&(c.firstCategoryDimIndex=b))})}};function uC(a){return"category"===a.get("type")}function uD(b,a){return!!a&&a===b.getCalculationInfo("stackedDimension")}function uE(a,b){return uD(a,b)?a.getCalculationInfo("stackResultDimension"):b}function uF(b){for(var a=0;a<b.length&&null==b[a];)a++;return b[a]}var uG=function(o,a,b){b=b||{};var c,p=a.getSourceManager(),d=!1;o?(d=!0,c=os(o)):d=(c=p.getSource()).sourceFormat===aG;var q,f,g,r,e,k,v,w,l,x,s=function(b){var c=b.get("coordinateSystem"),a=new uA(c),d=uB[c];if(d)return d(b,a,a.axisMap,a.categoryAxisMap),a}(a),t=(q=a,f=s,r=q.get("coordinateSystem"),e=n_.get(r),f&&f.coordSysDims&&(g=Y(f.coordSysDims,function(a){var b={name:a},c=f.axisMap.get(a);if(c){var d=c.get("type");b.type=ui(d)}return b})),g||(g=e&&(e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice())||["x","y"]),g),n=b.useEncodeDefaulter,y=cw(n)?n:n?m(nI,t,a):null,z={coordDimensions:t,generateCoord:b.generateCoord,encodeDefine:a.getEncode(),encodeDefaulter:y,canOmitUnusedDimensions:!d},h=uw(c,z),A=(k=h.dimensions,v=b.createInvertedIndices,(w=s)&&j(k,function(a,c){var d=a.coordDim,b=w.categoryAxisMap.get(d);b&&(null==l&&(l=c),a.ordinalMeta=b.getOrdinalMeta(),v&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(x=!0)}),x||null==l||(k[l].otherDims.itemName=0),l),u=d?null:p.getSharedDataStore(h),B=function(e,f,l){var a,g,h,c,b,i,d,p,m=(l=l||{}).byIndex,s=l.stackedCoordDimension;(p=f,un(p.schema))?(a=(g=f.schema).dimensions,h=f.store):a=f;var t=!!(e&&e.get("stack"));if(j(a,function(d,e){fT(d)&&(a[e]=d={name:d}),!t||d.isExtraCoord||(m||c||!d.ordinalMeta||(c=d),b||"ordinal"===d.type||"time"===d.type||s&&s!==d.coordDim||(b=d))}),!b||m||c||(m=!0),b){i="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var r=b.coordDim,k=b.type,q=0;j(a,function(a){a.coordDim===r&&q++});var n={name:i,coordDim:r,coordDimIndex:q,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},o={name:d,coordDim:d,coordDimIndex:q+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};g?(h&&(n.storeDimIndex=h.ensureCalculationDimension(d,k),o.storeDimIndex=h.ensureCalculationDimension(i,k)),g.appendCalculationDimension(n),g.appendCalculationDimension(o)):(a.push(n),a.push(o))}return{stackedDimension:b&&b.name,stackedByDimension:c&&c.name,isStackedByIndex:m,stackedOverDimension:d,stackResultDimension:i}}(a,{schema:h,store:u}),i=new uv(h,a);i.setCalculationInfo(B);var C=null!=A&&function b(a){if(a.sourceFormat===aG)return!cv(jz(uF(a.data||[])))}(c)?function(c,d,a,b){return b===A?a:this.defaultDimValueGetter(c,d,a,b)}:null;return i.hasItemOption=!1,i.initData(d?c:u,null,C),i},uH=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c}return cp(a,b),a.prototype.getInitialData=function(a){return uG(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(a){var d=new t,e=rM("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);d.add(e),e.setStyle(a.lineStyle);var f=this.getData().getVisual("symbol"),h=this.getData().getVisual("symbolRotate"),g="none"===f?"circle":f,c=.8*a.itemHeight,b=rM(g,(a.itemWidth-c)/2,(a.itemHeight-c)/2,c,c,a.itemStyle.fill);d.add(b),b.setStyle(a.itemStyle);var i="inherit"===a.iconRotate?h:a.iconRotate||0;return b.rotation=i*Math.PI/180,b.setOrigin([a.itemWidth/2,a.itemHeight/2]),g.indexOf("empty")> -1&&(b.style.stroke=b.style.fill,b.style.fill="#fff",b.style.lineWidth=2),d},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(e);function uI(b,d){var a=b.mapDimensionsAll("defaultedLabel"),e=a.length;if(1===e){var f=oH(b,d,a[0]);return null!=f?f+"":null}if(e){for(var g=[],c=0;c<a.length;c++)g.push(oH(b,d,a[c]));return g.join(" ")}}function uJ(c,a){var d=c.mapDimensionsAll("defaultedLabel");if(!cv(a))return a+"";for(var e=[],b=0;b<d.length;b++){var f=c.getDimensionIndex(d[b]);f>=0&&e.push(a[f])}return e.join(" ")}var du=function(b){function a(c,d,e,f){var a=b.call(this)||this;return a.updateData(c,d,e,f),a}return cp(a,b),a.prototype._createSymbol=function(b,e,f,c,d){this.removeAll();var a=rM(b,-1,-1,2,2,null,d);a.attr({z2:100,culling:!0,scaleX:c[0]/2,scaleY:c[1]/2}),a.drift=uK,this._symbolType=b,this.add(a)},a.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},a.prototype.getSymbolType=function(){return this._symbolType},a.prototype.getSymbolPath=function(){return this.childAt(0)},a.prototype.highlight=function(){lX(this.childAt(0))},a.prototype.downplay=function(){lY(this.childAt(0))},a.prototype.setZ=function(b,c){var a=this.childAt(0);a.zlevel=b,a.z=c},a.prototype.setDraggable=function(b,c){var a=this.childAt(0);a.draggable=b,a.cursor=!c&&b?"move":a.cursor},a.prototype.updateData=function(d,c,l,g){this.silent=!1;var i=d.getItemVisual(c,"symbol")||"circle",j=d.hostModel,e=a.getSymbolSize(d,c),k=i!==this._symbolType,h=g&&g.disableAnimation;if(k){var m=d.getItemVisual(c,"symbolKeepAspect");this._createSymbol(i,d,c,e,m)}else{var b=this.childAt(0);b.silent=!1;var f={scaleX:e[0]/2,scaleY:e[1]/2};h?b.attr(f):mk(b,f,j,c),mq(b)}if(this._updateCommon(d,c,e,l,g),k){var b=this.childAt(0);if(!h){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,ml(b,f,j,c)}}h&&this.childAt(0).stopAnimation("leave")},a.prototype._updateCommon=function(c,d,l,b,j){var m,n,o,p,q,r,s,e,k,a=this.childAt(0),z=c.hostModel;if(b&&(m=b.emphasisItemStyle,n=b.blurItemStyle,o=b.selectItemStyle,p=b.focus,q=b.blurScope,s=b.labelStatesModels,e=b.hoverScale,k=b.cursorStyle,r=b.emphasisDisabled),!b||c.hasItemOption){var f=b&&b.itemModel?b.itemModel:c.getItemModel(d),g=f.getModel("emphasis");m=g.getModel("itemStyle").getItemStyle(),o=f.getModel(["select","itemStyle"]).getItemStyle(),n=f.getModel(["blur","itemStyle"]).getItemStyle(),p=g.get("focus"),q=g.get("blurScope"),r=g.get("disabled"),s=mv(f),e=g.getShallow("scale"),k=f.getShallow("cursor")}var A=c.getItemVisual(d,"symbolRotate");a.attr("rotation",(A||0)*Math.PI/180||0);var t=rO(c.getItemVisual(d,"symbolOffset"),l);t&&(a.x=t[0],a.y=t[1]),k&&a.attr("cursor",k);var h=c.getItemVisual(d,"style"),w=h.fill;if(a instanceof cU){var i=a.style;a.useStyle(fP({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},h))}else a.__isEmptyBrush?a.useStyle(fP({},h)):a.useStyle(h),a.style.decal=null,a.setColor(w,j&&j.symbolInnerColor),a.style.strokeNoScale=!0;var x=c.getItemVisual(d,"liftZ"),u=this._z2;null!=x?null==u&&(this._z2=a.z2,a.z2+=x):null!=u&&(a.z2=u,this._z2=null);var B=j&&j.useNameLabel;mu(a,s,{labelFetcher:z,labelDataIndex:d,defaultText:function(a){return B?c.getName(a):uI(c,a)},inheritColor:w,defaultOpacity:h.opacity}),this._sizeX=l[0]/2,this._sizeY=l[1]/2;var v=a.ensureState("emphasis");if(v.style=m,a.ensureState("select").style=o,a.ensureState("blur").style=n,e){var y=Math.max(fV(e)?e:1.1,3/this._sizeY);v.scaleX=this._sizeX*y,v.scaleY=this._sizeY*y}this.setSymbolScale(1),l8(this,p,q,r)},a.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},a.prototype.fadeOut=function(g,c,a){var b=this.childAt(0),d=lz(this).dataIndex,e=a&&a.animation;if(this.silent=b.silent=!0,a&&a.fadeLabel){var f=b.getTextContent();f&&mn(f,{style:{opacity:0}},c,{dataIndex:d,removeOpt:e,cb:function(){b.removeTextContent()}})}else b.removeTextContent();mn(b,{style:{opacity:0},scaleX:0,scaleY:0},c,{dataIndex:d,cb:g,removeOpt:e})},a.getSymbolSize=function(a,b){return rN(a.getItemVisual(b,"symbolSize"))},a}(t);function uK(a,b){this.parent.drift(a,b)}var uL=du;function uM(d,a,c,b){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(b.isIgnore&&b.isIgnore(c))&&!(b.clipShape&&!b.clipShape.contain(a[0],a[1]))&&"none"!==d.getItemVisual(c,"symbol")}function uN(a){return null==a||aq(a)||(a={isIgnore:a}),a||{}}function uO(c){var a=c.hostModel,b=a.getModel("emphasis");return{emphasisItemStyle:b.getModel("itemStyle").getItemStyle(),blurItemStyle:a.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:a.getModel(["select","itemStyle"]).getItemStyle(),focus:b.get("focus"),blurScope:b.get("blurScope"),emphasisDisabled:b.get("disabled"),hoverScale:b.get("scale"),labelStatesModels:mv(a),cursorStyle:a.get("cursor")}}var uP=function(){function a(a){this.group=new t,this._SymbolCtor=a||uL}return a.prototype.updateData=function(a,b){this._progressiveEls=null,b=uN(b);var d=this.group,g=a.hostModel,c=this._data,h=this._SymbolCtor,e=b.disableAnimation,i=uO(a),j={disableAnimation:e},f=b.getSymbolPoint||function(b){return a.getItemLayout(b)};c||d.removeAll(),a.diff(c).add(function(c){var g=f(c);if(uM(a,g,c,b)){var e=new h(a,c,i,j);e.setPosition(g),a.setItemGraphicEl(c,e),d.add(e)}}).update(function(l,p){var k=c.getItemGraphicEl(p),m=f(l);if(!uM(a,m,l,b)){d.remove(k);return}var q=a.getItemVisual(l,"symbol")||"circle",n=k&&k.getSymbolType&&k.getSymbolType();if(!k||n&&n!==q)d.remove(k),(k=new h(a,l,i,j)).setPosition(m);else{k.updateData(a,l,i,j);var o={x:m[0],y:m[1]};e?k.attr(o):mk(k,o,g)}d.add(k),a.setItemGraphicEl(l,k)}).remove(function(b){var a=c.getItemGraphicEl(b);a&&a.fadeOut(function(){d.remove(a)},g)}).execute(),this._getSymbolPoint=f,this._data=a},a.prototype.updateLayout=function(){var b=this,a=this._data;a&&a.eachItemGraphicEl(function(a,c){var d=b._getSymbolPoint(c);a.setPosition(d),a.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=uO(a),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(e,c,d){function g(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],d=uN(d);for(var a=e.start;a<e.end;a++){var f=c.getItemLayout(a);if(uM(c,f,a,d)){var b=new this._SymbolCtor(c,a,this._seriesScope);b.traverse(g),b.setPosition(f),this.group.add(b),c.setItemGraphicEl(a,b),this._progressiveEls.push(b)}}},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype.remove=function(b){var c=this.group,a=this._data;a&&b?a.eachItemGraphicEl(function(b){b.fadeOut(function(){c.remove(b)},a.hostModel)}):c.removeAll()},a}();function uQ(d,a,j){var f=d.getBaseAxis(),g=d.getOtherAxis(f),k=uR(g,j),h=f.dim,c=g.dim,l=a.mapDimension(c),m=a.mapDimension(h),b=Y(d.dimensions,function(b){return a.mapDimension(b)}),e=!1,i=a.getCalculationInfo("stackResultDimension");return uD(a,b[0])&&(e=!0,b[0]=i),uD(a,b[1])&&(e=!0,b[1]=i),{dataDimsForPoint:b,valueStart:k,valueAxisDim:c,baseAxisDim:h,stacked:!!e,valueDim:l,baseDim:m,baseDataOffset:"x"===c||"radius"===c?1:0,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function uR(d,c){var a=0,b=d.scale.getExtent();return"start"===c?a=b[0]:"end"===c?a=b[1]:fV(c)&&!isNaN(c)?a=c:b[0]>0?a=b[0]:b[1]<0&&(a=b[1]),a}function uS(a,g,c,e){var b=NaN;a.stacked&&(b=c.get(c.getCalculationInfo("stackedOverDimension"),e)),isNaN(b)&&(b=a.valueStart);var f=a.baseDataOffset,d=[];return d[f]=c.get(a.baseDim,e),d[1-f]=b,g.dataToPoint(d)}var dv="undefined"!=typeof Float32Array,uT=dv?Float32Array:Array;function uU(a){return cv(a)?dv?new Float32Array(a):a:new uT(a)}function uV(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}var uW=Math.min,uX=Math.max;function uY(a,b){return isNaN(a)||isNaN(b)}function uZ(w,g,G,v,L,n,k,H,I){for(var r,s,x,y,d,e,c=G,t=0;t<v;t++){var a=g[2*c],b=g[2*c+1];if(c>=L||c<0)break;if(uY(a,b)){if(I){c+=n;continue}break}if(c===G)w[n>0?"moveTo":"lineTo"](a,b),x=a,y=b;else{var z=a-r,A=b-s;if(z*z+A*A<.5){c+=n;continue}if(k>0){for(var o=c+n,l=g[2*o],m=g[2*o+1];l===a&&m===b&&t<v;)t++,o+=n,c+=n,l=g[2*o],m=g[2*o+1],a=g[2*c],b=g[2*c+1],z=a-r,A=b-s;var B=t+1;if(I)for(;uY(l,m)&&B<v;)B++,o+=n,l=g[2*o],m=g[2*o+1];var u=.5,p=0,q=0,h=void 0,i=void 0;if(B>=v||uY(l,m))d=a,e=b;else{p=l-r,q=m-s;var C=a-r,D=l-a,E=b-s,F=m-b,j=void 0,f=void 0;if("x"===H){j=Math.abs(C),f=Math.abs(D);var J=p>0?1:-1;d=a-J*j*k,e=b,h=a+J*f*k,i=b}else if("y"===H){j=Math.abs(E),f=Math.abs(F);var K=q>0?1:-1;d=a,e=b-K*j*k,h=a,i=b+K*f*k}else j=Math.sqrt(C*C+E*E),f=Math.sqrt(D*D+F*F),u=f/(f+j),d=a-p*k*(1-u),e=b-q*k*(1-u),h=a+p*k*u,i=b+q*k*u,h=uW(h,uX(l,a)),i=uW(i,uX(m,b)),h=uX(h,uW(l,a)),i=uX(i,uW(m,b)),p=h-a,q=i-b,d=a-p*j/f,e=b-q*j/f,d=uW(d,uX(r,a)),e=uW(e,uX(s,b)),d=uX(d,uW(r,a)),e=uX(e,uW(s,b)),p=a-d,q=b-e,h=a+p*f/j,i=b+q*f/j}w.bezierCurveTo(x,y,d,e,a,b),x=h,y=i}else w.lineTo(a,b)}r=a,s=b,c+=n}return t}var dw=function(){this.smooth=0,this.smoothConstraint=!0},u$=function(b){function a(c){var a=b.call(this,c)||this;return a.type="ec-polyline",a}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new dw},a.prototype.buildPath=function(e,d){var c=d.points,b=0,a=c.length/2;if(d.connectNulls){for(;a>0&&uY(c[2*a-2],c[2*a-1]);a--);for(;b<a&&uY(c[2*b],c[2*b+1]);b++);}for(;b<a;)b+=uZ(e,c,b,a,a,1,d.smooth,d.smoothMonotone,d.connectNulls)+1},a.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var c,d,a=this.path.data,n=Q.CMD,h="x"===t,o=[],b=0;b<a.length;){var u=a[b++],f=void 0,g=void 0,p=void 0,q=void 0,k=void 0,l=void 0,i=void 0;switch(u){case n.M:c=a[b++],d=a[b++];break;case n.L:if(f=a[b++],g=a[b++],i=h?(e-c)/(f-c):(e-d)/(g-d),i<=1&&i>=0){var j=h?(g-d)*i+d:(f-c)*i+c;return h?[e,j]:[j,e]}c=f,d=g;break;case n.C:f=a[b++],g=a[b++],p=a[b++],q=a[b++],k=a[b++],l=a[b++];var s=h?hi(c,f,p,k,e,o):hi(d,g,q,l,e,o);if(s>0)for(var r=0;r<s;r++){var m=o[r];if(m<=1&&m>=0){var j=h?hg(d,g,q,l,m):hg(c,f,p,k,m);return h?[e,j]:[j,e]}}c=k,d=l}}},a}(c),u_=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a}(dw),u0=function(b){function a(c){var a=b.call(this,c)||this;return a.type="ec-polygon",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new u_},a.prototype.buildPath=function(e,b){var d=b.points,h=b.stackedOnPoints,c=0,a=d.length/2,g=b.smoothMonotone;if(b.connectNulls){for(;a>0&&uY(d[2*a-2],d[2*a-1]);a--);for(;c<a&&uY(d[2*c],d[2*c+1]);c++);}for(;c<a;){var f=uZ(e,d,c,a,a,1,b.smooth,g,b.connectNulls);uZ(e,h,c+f-1,f,a,-1,b.stackedOnSmooth,g,b.connectNulls),c+=f+1,e.closePath()}},a}(c);function u1(h,l,i,m,n){var d=h.getArea(),c=d.x,g=d.y,a=d.width,e=d.height,f=i.get(["lineStyle","width"])||2;c-=f/2,g-=f/2,a+=f,e+=f,c=Math.floor(c),a=Math.round(a);var b=new z({shape:{x:c,y:g,width:a,height:e}});if(l){var j=h.getBaseAxis(),o=j.isHorizontal(),k=j.inverse;o?(k&&(b.shape.x+=a),b.shape.width=0):(k||(b.shape.y+=e),b.shape.height=0);var p=cw(n)?function(a){n(a,b)}:null;ml(b,{shape:{width:a,height:e,x:c,y:g}},i,null,m,p)}return b}function u2(b,f,g){var a=b.getArea(),d=au(a.r0,1),e=au(a.r,1),c=new aN({shape:{cx:au(b.cx,1),cy:au(b.cy,1),r0:d,r:e,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return f&&("angle"===b.getBaseAxis().dim?c.shape.endAngle=a.startAngle:c.shape.r=d,ml(c,{shape:{endAngle:a.endAngle,r:e}},g)),c}function u3(a,b,c,d,e){if(a){if("polar"===a.type)return u2(a,b,c);if("cartesian2d"===a.type)return u1(a,b,c,d,e)}return null}function u4(a,b){return a.type===b}function u5(b,c){if(b.length===c.length){for(var a=0;a<b.length;a++)if(b[a]!==c[a])return;return!0}}function u6(a){for(var b=1/0,c=1/0,d=-1/0,e=-1/0,f=0;f<a.length;){var g=a[f++],h=a[f++];isNaN(g)||(b=Math.min(g,b),d=Math.max(g,d)),isNaN(h)||(c=Math.min(h,c),e=Math.max(h,e))}return[[b,c],[d,e]]}function u7(g,h){var a=u6(g),b=a[0],c=a[1],d=u6(h),e=d[0],f=d[1];return Math.max(Math.abs(b[0]-e[0]),Math.abs(b[1]-e[1]),Math.abs(c[0]-f[0]),Math.abs(c[1]-f[1]))}function u8(a){return fV(a)?a:a?.5:0}function u9(c,k,l,m){var i=k.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,f=[],b=0,d=[],e=[],g=[],j=[];if(m){for(b=0;b<c.length;b+=2)isNaN(c[b])||isNaN(c[b+1])||j.push(c[b],c[b+1]);c=j}for(b=0;b<c.length-2;b+=2)switch(g[0]=c[b+2],g[1]=c[b+3],e[0]=c[b],e[1]=c[b+1],f.push(e[0],e[1]),l){case"end":d[a]=g[a],d[1-a]=e[1-a],f.push(d[0],d[1]);break;case"middle":var n=(e[a]+g[a])/2,h=[];d[a]=h[a]=n,d[1-a]=e[1-a],h[1-a]=g[1-a],f.push(d[0],d[1]),f.push(h[0],h[1]);break;default:d[a]=e[a],d[1-a]=g[1-a],f.push(d[0],d[1])}return f.push(c[b++],c[b++]),f}function va(a,b){return isNaN(a)||isNaN(b)}function vb(a,b){return[a[2*b],a[2*b+1]]}function vc(b){if(b.get(["endLabel","show"]))return!0;for(var a=0;a<lF.length;a++)if(b.get([lF[a],"endLabel","show"]))return!0;return!1}function vd(j,c,g,a){if(!u4(c,"cartesian2d"))return u2(c,g,a);var h=a.getModel("endLabel"),k=h.get("valueAnimation"),l=a.getData(),m={lastFrameIndex:0},e=vc(a)?function(a,b){j._endLabelOnDuring(a,b,l,m,k,h,c)}:null,i=c.getBaseAxis().isHorizontal(),f=u1(c,g,a,function(){var a=j._endLabel;a&&g&&null!=m.originalX&&a.attr({x:m.originalX,y:m.originalY})},e);if(!a.get("clip",!0)){var b=f.shape,d=Math.max(b.width,b.height);i?(b.y-=d,b.height+=2*d):(b.x-=d,b.width+=2*d)}return e&&e(1,f),f}var ve=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.init=function(){var b=new t,a=new uP;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=b},a.prototype.render=function(a,N,u){var e,O=this,b=a.coordinateSystem,H=this.group,d=a.getData(),I=a.getModel("lineStyle"),q=a.getModel("areaStyle"),h=d.getLayout("points")||[],m="polar"===b.type,J=this._coordSys,r=this._symbolDraw,f=this._polyline,c=this._polygon,l=this._lineGroup,v=a.get("animation"),n=!q.isEmpty(),s=q.get("origin"),K=uQ(b,d,s),g=n&&function(g,c,d){if(!d.valueDim)return[];for(var e=c.count(),b=uU(2*e),a=0;a<e;a++){var f=uS(d,g,c,a);b[2*a]=f[0],b[2*a+1]=f[1]}return b}(b,d,K),o=a.get("showSymbol"),k=a.get("connectNulls"),w=o&&!m&&function(e,b,f){var c=e.get("showAllSymbol"),d="auto"===c;if(!c||d){var a=f.getAxesByScale("ordinal")[0];if(!(!a||d&&function h(a,d){var e=a.getExtent(),b=Math.abs(e[1]-e[0])/a.scale.count();isNaN(b)&&(b=0);for(var f=d.count(),g=Math.max(1,Math.round(f/5)),c=0;c<f;c+=g)if(1.5*uL.getSymbolSize(d,c)[a.isHorizontal()?1:0]>b)return!1;return!0}(a,b))){var g=b.mapDimension(a.dim),h={};return j(a.getViewLabels(),function(b){h[a.scale.getRawOrdinalNumber(b.tickValue)]=1}),function(a){return!h.hasOwnProperty(b.get(g,a))}}}}(a,d,b),y=this._data;y&&y.eachItemGraphicEl(function(a,b){a.__temp&&(H.remove(a),y.setItemGraphicEl(b,null))}),o||r.remove(),H.add(l);var i=!m&&a.get("step");b&&b.getArea&&a.get("clip",!0)&&(null!=(e=b.getArea()).width?(e.x-=.1,e.y-=.1,e.width+=.2,e.height+=.2):e.r0&&(e.r0-=.5,e.r+=.5)),this._clipShapeForSymbol=e;var p=function(k,m,n){var d,g,e=k.getVisual("visualMeta");if(e&&e.length&&k.count()&&"cartesian2d"===m.type){for(var h=e.length-1;h>=0;h--){var o=k.getDimensionInfo(e[h].dimension);if("x"===(d=o&&o.coordDim)||"y"===d){g=e[h];break}}if(g){var s=m.getAxis(d),b=Y(g.stops,function(a){return{coord:s.toGlobalCoord(s.dataToCoord(a.value)),color:a.color}}),i=b.length,c=g.outerColors.slice();i&&b[0].coord>b[i-1].coord&&(b.reverse(),c.reverse());var a=function(h,e){var b,f,c=[],j=h.length;function d(a,b,c){var d=a.coord,e=function(e,a,u){if(a&&a.length&&e>=0&&e<=1){var f,k,p,g,l,q,h,m,r,i,n,s,v,j=e*(a.length-1),o=Math.floor(j),t=Math.ceil(j),b=hI(a[o]),c=hI(a[t]),d=j-o;return hO([hy((f=b[0],k=c[0],f+(k-f)*(p=d))),hy((g=b[1],l=c[1],g+(l-g)*(q=d))),hy((h=b[2],m=c[2],h+(m-h)*(r=d))),hz((i=b[3],n=c[3],i+(n-i)*(s=d)))],"rgba")}}((c-d)/(b.coord-d),[a.color,b.color]);return{coord:c,color:e}}for(var g=0;g<j;g++){var a=h[g],i=a.coord;if(i<0)b=a;else if(i>e){f?c.push(d(f,a,e)):b&&c.push(d(b,a,0),d(b,a,e));break}else b&&(c.push(d(b,a,0)),b=null),c.push(a),f=a}return c}(b,"x"===d?n.getWidth():n.getHeight()),f=a.length;if(!f&&i)return b[0].coord<0?c[1]?c[1]:b[i-1].color:c[0]?c[0]:b[0].color;var p=a[0].coord-10,q=a[f-1].coord+10,r=q-p;if(r<.001)return"transparent";j(a,function(a){a.offset=(a.coord-p)/r}),a.push({offset:f?a[f-1].offset:.5,color:c[1]||"transparent"}),a.unshift({offset:f?a[0].offset:.5,color:c[0]||"transparent"});var l=new qu(0,0,0,0,a,!0);return l[d]=p,l[d+"2"]=q,l}}}(d,b,u)||d.getVisual("style")[d.getVisual("drawType")];if(f&&J.type===b.type&&i===this._step){n&&!c?c=this._newPolygon(h,g):c&&!n&&(l.remove(c),c=this._polygon=null),m||this._initOrUpdateEndLabel(a,b,np(p));var z=l.getClipPath();if(z){var L=vd(this,b,!1,a);ml(z,{shape:L.shape},a)}else l.setClipPath(vd(this,b,!0,a));o&&r.updateData(d,{isIgnore:w,clipShape:e,disableAnimation:!0,getSymbolPoint:function(a){return[h[2*a],h[2*a+1]]}}),u5(this._stackedOnPoints,g)&&u5(this._points,h)||(v?this._doUpdateAnimation(d,g,b,u,i,s,k):(i&&(h=u9(h,b,i,k),g&&(g=u9(g,b,i,k))),f.setShape({points:h}),c&&c.setShape({points:h,stackedOnPoints:g})))}else o&&r.updateData(d,{isIgnore:w,clipShape:e,disableAnimation:!0,getSymbolPoint:function(a){return[h[2*a],h[2*a+1]]}}),v&&this._initSymbolLabelAnimation(d,b,e),i&&(h=u9(h,b,i,k),g&&(g=u9(g,b,i,k))),f=this._newPolyline(h),n?c=this._newPolygon(h,g):c&&(l.remove(c),c=this._polygon=null),m||this._initOrUpdateEndLabel(a,b,np(p)),l.setClipPath(vd(this,b,!0,a));var t=a.getModel("emphasis"),A=t.get("focus"),B=t.get("blurScope"),C=t.get("disabled");f.useStyle(x(I.getLineStyle(),{fill:"none",stroke:p,lineJoin:"bevel"})),mc(f,a,"lineStyle"),f.style.lineWidth>0&&"bolder"===a.get(["emphasis","lineStyle","width"])&&(f.getState("emphasis").style.lineWidth=+f.style.lineWidth+1),lz(f).seriesIndex=a.seriesIndex,l8(f,A,B,C);var D=u8(a.get("smooth")),E=a.get("smoothMonotone");if(f.setShape({smooth:D,smoothMonotone:E,connectNulls:k}),c){var F=d.getCalculationInfo("stackedOnSeries"),G=0;c.useStyle(x(q.getAreaStyle(),{fill:p,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),F&&(G=u8(F.get("smooth"))),c.setShape({smooth:D,stackedOnSmooth:G,smoothMonotone:E,connectNulls:k}),mc(c,a,"areaStyle"),lz(c).seriesIndex=a.seriesIndex,l8(c,A,B,C)}var M=function(a){O._changePolyState(a)};d.eachItemGraphicEl(function(a){a&&(a.onHoverStateChange=M)}),this._polyline.onHoverStateChange=M,this._data=d,this._coordSys=b,this._stackedOnPoints=g,this._points=h,this._step=i,this._valueOrigin=s,a.get("triggerLineEvent")&&(this.packEventData(a,f),c&&this.packEventData(a,c))},a.prototype.packEventData=function(a,b){lz(b).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},a.prototype.highlight=function(d,m,n,i){var c=d.getData(),b=jN(c,i);if(this._changePolyState("emphasis"),b instanceof Array||null==b||!(b>=0))f.prototype.highlight.call(this,d,m,n,i);else{var j=c.getLayout("points"),a=c.getItemGraphicEl(b);if(!a){var g=j[2*b],h=j[2*b+1];if(isNaN(g)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,h))return;var k=d.get("zlevel"),l=d.get("z");(a=new uL(c,b)).x=g,a.y=h,a.setZ(k,l);var e=a.getSymbolPath().getTextContent();e&&(e.zlevel=k,e.z=l,e.z2=this._polyline.z2+1),a.__temp=!0,c.setItemGraphicEl(b,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}},a.prototype.downplay=function(d,g,h,e){var c=d.getData(),a=jN(c,e);if(this._changePolyState("normal"),null!=a&&a>=0){var b=c.getItemGraphicEl(a);b&&(b.__temp?(c.setItemGraphicEl(a,null),this.group.remove(b)):b.downplay())}else f.prototype.downplay.call(this,d,g,h,e)},a.prototype._changePolyState=function(a){var b=this._polygon;lS(this._polyline,a),b&&lS(b,a)},a.prototype._newPolyline=function(b){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new u$({shape:{points:b},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},a.prototype._newPolygon=function(b,c){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new u0({shape:{points:b,stackedOnPoints:c},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},a.prototype._initSymbolLabelAnimation=function(e,a,i){var f,g,b=a.getBaseAxis(),j=b.inverse;"cartesian2d"===a.type?(f=b.isHorizontal(),g=!1):"polar"===a.type&&(f="angle"===b.dim,g=!0);var h=e.hostModel,c=h.get("animationDuration");cw(c)&&(c=c(null));var d=h.get("animationDelay")||0,k=cw(d)?d(null):d;e.eachItemGraphicEl(function(l,u){var n=l;if(n){var v=[l.x,l.y],b=void 0,e=void 0,m=void 0;if(i){if(g){var o=i,q=a.pointToCoord(v);f?(b=o.startAngle,e=o.endAngle,m=-q[1]/180*Math.PI):(b=o.r0,e=o.r,m=q[0])}else{var h=i;f?(b=h.x,e=h.x+h.width,m=l.x):(b=h.y+h.height,e=h.y,m=l.y)}}var p=e===b?0:(m-b)/(e-b);j&&(p=1-p);var r=cw(d)?d(u):c*p+k,s=n.getSymbolPath(),t=s.getTextContent();n.attr({scaleX:0,scaleY:0}),n.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:r}),t&&t.animateFrom({style:{opacity:0}},{duration:300,delay:r}),s.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(a,j,k){var l=a.getModel("endLabel");if(vc(a)){var c,m,f,d,e,n=a.getData(),b=this._polyline,g=n.getLayout("points");if(!g){b.removeTextContent(),this._endLabel=null;return}var h=this._endLabel;h||((h=this._endLabel=new bh({z2:200})).ignoreClip=!0,b.setTextContent(this._endLabel),b.disableLabelAnimation=!0);var i=function(b){for(var a=b.length/2;a>0&&va(b[2*a-2],b[2*a-1]);a--);return a-1}(g);i>=0&&(mu(b,mv(a,"endLabel"),{inheritColor:k,labelFetcher:a,labelDataIndex:i,defaultText:function(b,c,a){return null!=a?uJ(n,a):uI(n,b)},enableTextSetter:!0},(c=l,d=(f=(m=j).getBaseAxis()).isHorizontal(),e=f.inverse,{normal:{align:c.get("align")||(d?e?"right":"left":"center"),verticalAlign:c.get("verticalAlign")||(d?"middle":e?"top":"bottom")}})),b.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(o,x,j,e,h,p,y){var c=this._endLabel,z=this._polyline;if(c){o<1&&null==e.originalX&&(e.originalX=c.x,e.originalY=c.y);var k=j.getLayout("points"),f=j.hostModel,A=f.get("connectNulls"),B=p.get("precision"),q=p.get("distance")||0,r=y.getBaseAxis(),g=r.isHorizontal(),l=r.inverse,d=x.shape,s=l?g?d.x:d.y+d.height:g?d.x+d.width:d.y,m=(g?q:0)*(l?-1:1),n=(g?0:-q)*(l?-1:1),t=g?"x":"y",u=function(e,d,i){for(var b,c,j=e.length/2,f="x"===i?0:1,g=0,h=-1,a=0;a<j;a++)if(!(isNaN(c=e[2*a+f])||isNaN(e[2*a+1-f]))){if(0===a){b=c;continue}if(b<=d&&c>=d||b>=d&&c<=d){h=a;break}g=a,b=c}return{range:[g,h],t:(d-b)/(c-b)}}(k,s,t),b=u.range,v=b[1]-b[0],i=void 0;if(v>=1){if(v>1&&!A){var a=vb(k,b[0]);c.attr({x:a[0]+m,y:a[1]+n}),h&&(i=f.getRawValue(b[0]))}else{var a=z.getPointOn(s,t);a&&c.attr({x:a[0]+m,y:a[1]+n});var C=f.getRawValue(b[0]),D=f.getRawValue(b[1]);h&&(i=jW(j,B,C,D,u.t))}e.lastFrameIndex=b[0]}else{var w=1===o||e.lastFrameIndex>0?b[0]:0,a=vb(k,w);h&&(i=f.getRawValue(w)),c.attr({x:a[0]+m,y:a[1]+n})}h&&mF(c).setLabelText(i)}},a.prototype._doUpdateAnimation=function(k,q,d,t,e,r,i){var b=this._polyline,c=this._polygon,n=k.hostModel,a=function(x,c,y,k,q,N,M,O){for(var z=uV(x,c),g=[],l=[],m=[],n=[],A=[],h=[],B=[],C=uQ(q,c,M),D=x.getLayout("points")||[],o=c.getLayout("points")||[],b=0;b<z.length;b++){var f=z[b],E=!0,i=void 0,a=void 0;switch(f.cmd){case"=":i=2*f.idx,a=2*f.idx1;var r=D[i],s=D[i+1],F=o[a],G=o[a+1];(isNaN(r)||isNaN(s))&&(r=F,s=G),g.push(r,s),l.push(F,G),m.push(y[i],y[i+1]),n.push(k[a],k[a+1]),B.push(c.getRawIndex(f.idx1));break;case"+":var j=f.idx,H=C.dataDimsForPoint,I=q.dataToPoint([c.get(H[0],j),c.get(H[1],j)]);a=2*j,g.push(I[0],I[1]),l.push(o[a],o[a+1]);var J=uS(C,q,c,j);m.push(J[0],J[1]),n.push(k[a],k[a+1]),B.push(c.getRawIndex(j));break;case"-":E=!1}E&&(A.push(f),h.push(h.length))}h.sort(function(a,b){return B[a]-B[b]});for(var p=g.length,t=uU(p),u=uU(p),v=uU(p),w=uU(p),K=[],b=0;b<h.length;b++){var L=h[b],d=2*b,e=2*L;t[d]=g[e],t[d+1]=g[e+1],u[d]=l[e],u[d+1]=l[e+1],v[d]=m[e],v[d+1]=m[e+1],w[d]=n[e],w[d+1]=n[e+1],K[b]=A[L]}return{current:t,next:u,stackedOnCurrent:v,stackedOnNext:w,status:K}}(this._data,k,this._stackedOnPoints,q,this._coordSys,d,this._valueOrigin,r),f=a.current,l=a.stackedOnCurrent,g=a.next,j=a.stackedOnNext;if(e&&(f=u9(a.current,d,e,i),l=u9(a.stackedOnCurrent,d,e,i),g=u9(a.next,d,e,i),j=u9(a.stackedOnNext,d,e,i)),u7(f,g)>3e3||c&&u7(l,j)>3e3){b.stopAnimation(),b.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:j}));return}b.shape.__points=a.current,b.shape.points=f;var o={shape:{points:g}};a.current!==f&&(o.shape.__points=a.next),b.stopAnimation(),mk(b,o,n),c&&(c.setShape({points:f,stackedOnPoints:l}),c.stopAnimation(),mk(c,{shape:{stackedOnPoints:j}},n),b.shape.points!==c.shape.points&&(c.shape.points=b.shape.points));for(var s=[],m=a.status,h=0;h<m.length;h++)if("="===m[h].cmd){var p=k.getItemGraphicEl(m[h].idx1);p&&s.push({el:p,ptIdx:h})}b.animators&&b.animators.length&&b.animators[0].during(function(){c&&c.dirtyShape();for(var e=b.shape.__points,a=0;a<s.length;a++){var d=s[a].el,f=2*s[a].ptIdx;d.x=e[f],d.y=e[f+1],d.markRedraw()}})},a.prototype.remove=function(b){var c=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(b,d){b.__temp&&(c.remove(b),a.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(f);function vf(a,b){return{seriesType:a,plan:af(),reset:function(d){var c=d.getData(),e=d.coordinateSystem,g=d.pipelineContext,i=b||g.large;if(e){var a=Y(e.dimensions,function(a){return c.mapDimension(a)}).slice(0,2),h=a.length,f=c.getCalculationInfo("stackResultDimension");uD(c,a[0])&&(a[0]=f),uD(c,a[1])&&(a[1]=f);var j=c.getStore(),k=c.getDimensionIndex(a[0]),l=c.getDimensionIndex(a[1]);return h&&{progress:function(c,g){for(var o=c.end-c.start,d=i&&uU(o*h),f=[],m=[],a=c.start,n=0;a<c.end;a++){var b=void 0;if(1===h){var p=j.get(k,a);b=e.dataToPoint(p,null,m)}else f[0]=j.get(k,a),f[1]=j.get(l,a),b=e.dataToPoint(f,null,m);i?(d[n++]=b[0],d[n++]=b[1]):g.setItemLayout(a,b.slice())}i&&g.setLayout("points",d)}}}}}}var vg={average:function(b){for(var d=0,c=0,a=0;a<b.length;a++)!isNaN(b[a])&&(d+=b[a],c++);return 0===c?NaN:d/c},sum:function(b){for(var c=0,a=0;a<b.length;a++)c+=b[a]||0;return c},max:function(c){for(var a=-1/0,b=0;b<c.length;b++)c[b]>a&&(a=c[b]);return isFinite(a)?a:NaN},min:function(c){for(var a=1/0,b=0;b<c.length;b++)c[b]<a&&(a=c[b]);return isFinite(a)?a:NaN},nearest:function(a){return a[0]}},vh=function(a){return Math.round(a.length/2)};function vi(a){return{seriesType:a,reset:function(b,n,k){var c=b.getData(),a=b.get("sampling"),f=b.coordinateSystem,g=c.count();if(g>10&&"cartesian2d"===f.type&&a){var h=f.getBaseAxis(),i=f.getOtherAxis(h),j=h.getExtent(),l=k.getDevicePixelRatio(),m=Math.abs(j[1]-j[0])*(l||1),d=Math.round(g/m);if(isFinite(d)&&d>1){"lttb"===a&&b.setData(c.lttbDownSample(c.mapDimension(i.dim),1/d));var e=void 0;fT(a)?e=vg[a]:cw(a)&&(e=a),e&&b.setData(c.downSample(c.mapDimension(i.dim),1/d,e,vh))}}}}}var vj="__ec_stack_";function vk(a){return a.get("stack")||vj+a.seriesIndex}function vl(a){return a.dim+a.index}function vm(a,b){var c=[];return b.eachSeriesByType(a,function(a){vr(a)&&c.push(a)}),c}function vn(a){var c=function(h){var d={};j(h,function(f){var a=f.coordinateSystem.getBaseAxis();if("time"===a.type||"value"===a.type)for(var b=f.getData(),c=a.dim+"_"+a.index,i=b.getDimensionIndex(b.mapDimension(a.dim)),g=b.getStore(),e=0,j=g.count();e<j;++e){var h=g.get(i,e);d[c]?d[c].push(h):d[c]=[h]}});var g={};for(var e in d)if(d.hasOwnProperty(e)){var a=d[e];if(a){a.sort(function(a,b){return a-b});for(var b=null,c=1;c<a.length;++c){var f=a[c]-a[c-1];f>0&&(b=null===b?f:Math.min(b,f))}g[e]=b}}return g}(a),b=[];return j(a,function(a){var e,d=a.coordinateSystem.getBaseAxis(),f=d.getExtent();if("category"===d.type)e=d.getBandWidth();else if("value"===d.type||"time"===d.type){var g=c[d.dim+"_"+d.index],h=Math.abs(f[1]-f[0]),i=d.scale.getExtent(),j=Math.abs(i[1]-i[0]);e=g?h/j*g:h}else{var k=a.getData();e=Math.abs(f[1]-f[0])/k.count()}var l=je(a.get("barWidth"),e),m=je(a.get("barMaxWidth"),e),n=je(a.get("barMinWidth")||(vs(a)?.5:1),e),o=a.get("barGap"),p=a.get("barCategoryGap");b.push({bandWidth:e,barWidth:l,barMaxWidth:m,barMinWidth:n,barGap:o,barCategoryGap:p,axisKey:vl(d),stackId:vk(a)})}),vo(b)}function vo(a){var b={};j(a,function(a,m){var g=a.axisKey,h=a.bandWidth,c=b[g]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=c.stacks;b[g]=c;var e=a.stackId;!d[e]&&c.autoWidthCount++,d[e]=d[e]||{width:0,maxWidth:0};var f=a.barWidth;f&&!d[e].width&&(d[e].width=f,f=Math.min(c.remainedWidth,f),c.remainedWidth-=f);var i=a.barMaxWidth;i&&(d[e].maxWidth=i);var j=a.barMinWidth;j&&(d[e].minWidth=j);var k=a.barGap;null!=k&&(c.gap=k);var l=a.barCategoryGap;null!=l&&(c.categoryGap=l)});var c={};return j(b,function(a,m){c[m]={};var h,b=a.stacks,n=a.bandWidth,f=a.categoryGap;null==f&&(f=Math.max(35-4*ap(b).length,15)+"%");var i=je(f,n),g=je(a.gap,1),k=a.remainedWidth,d=a.autoWidthCount,e=(k-i)/(d+(d-1)*g);e=Math.max(e,0),j(b,function(b){var c=b.maxWidth,f=b.minWidth;if(b.width){var a=b.width;c&&(a=Math.min(a,c)),f&&(a=Math.max(a,f)),b.width=a,k-=a+g*a,d--}else{var a=e;c&&c<a&&(a=Math.min(c,k)),f&&f>a&&(a=f),a!==e&&(b.width=a,k-=a+g*a,d--)}}),e=Math.max(e=(k-i)/(d+(d-1)*g),0);var l=0;j(b,function(a,b){a.width||(a.width=e),h=a,l+=a.width*(1+g)}),h&&(l-=h.width*g);var o=-l/2;j(b,function(a,b){c[m][b]=c[m][b]||{bandWidth:n,offset:o,width:a.width},o+=a.width*(1+g)})}),c}function vp(b,c){var a=vm(b,c),d=vn(a);j(a,function(a){var c=a.getData(),e=a.coordinateSystem,f=e.getBaseAxis(),g=vk(a),b=d[vl(f)][g],h=b.offset,i=b.width;c.setLayout({bandWidth:b.bandWidth,offset:h,size:i})})}function vq(a){return{seriesType:a,plan:af(),reset:function(b){if(vr(b)){var a=b.getData(),e=b.coordinateSystem,d=e.getBaseAxis(),c=e.getOtherAxis(d),h=a.getDimensionIndex(a.mapDimension(c.dim)),i=a.getDimensionIndex(a.mapDimension(d.dim)),j=b.get("showBackground",!0),g=a.mapDimension(c.dim),f=a.getCalculationInfo("stackResultDimension"),k=uD(a,g)&&!!a.getCalculationInfo("stackedOnSeries"),l=c.isHorizontal(),m=vt(d,c),n=vs(b),o=b.get("barMinHeight")||0,p=f&&a.getDimensionIndex(f),q=a.getLayout("size"),r=a.getLayout("offset");return{progress:function(E,y){for(var a,z=E.count,v=n&&uU(3*z),g=n&&j&&uU(3*z),F=n&&uU(z),w=e.master.getRect(),G=l?w.width:w.height,A=y.getStore(),b=0;null!=(a=E.next());){var B=A.get(k?p:h,a),x=A.get(i,a),d=m,C=void 0;k&&(C=+B-A.get(h,a));var s=void 0,t=void 0,c=void 0,f=void 0;if(l){var u=e.dataToPoint([B,x]);if(k){var D=e.dataToPoint([C,x]);d=D[0]}s=d,t=u[1]+r,c=u[0]-d,f=q,Math.abs(c)<o&&(c=(c<0?-1:1)*o)}else{var u=e.dataToPoint([x,B]);if(k){var D=e.dataToPoint([x,C]);d=D[1]}s=u[0]+r,t=d,c=q,Math.abs(f=u[1]-d)<o&&(f=(f<=0?-1:1)*o)}n?(v[b]=s,v[b+1]=t,v[b+2]=l?c:f,g&&(g[b]=l?w.x:s,g[b+1]=l?t:w.y,g[b+2]=G),F[a]=a):y.setItemLayout(a,{x:s,y:t,width:c,height:f}),b+=3}n&&y.setLayout({largePoints:v,largeDataIndices:F,largeBackgroundPoints:g,valueAxisHorizontal:l})}}}}}}function vr(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function vs(a){return a.pipelineContext&&a.pipelineContext.large}function vt(b,a){return a.toGlobalCoord(a.dataToCoord("log"===a.type?1:0))}var bW=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.getInitialData=function(a,b){return uG(null,this,{useEncodeDefaulter:!0})},a.prototype.getMarkerPosition=function(d){var a=this.coordinateSystem;if(a&&a.clampData){var b=a.dataToPoint(a.clampData(d)),c=this.getData(),e=c.getLayout("offset"),f=c.getLayout("size"),g=a.getBaseAxis().isHorizontal()?0:1;return b[g]+=e+f/2,b}return[NaN,NaN]},a.type="series.__base_bar__",a.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},a}(e);e.registerClass(bW);var bX=bW,vu=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.getInitialData=function(){return uG(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},a.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},a.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a},a.prototype.brushSelector=function(a,b,c){return c.rect(b.getItemLayout(a))},a.type="series.bar",a.dependencies=["grid","polar"],a.defaultOption=mP(bX.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),a}(bX),vv=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},vw=function(b){function a(c){var a=b.call(this,c)||this;return a.type="sausage",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new vv},a.prototype.buildPath=function(d,c){var e=c.cx,f=c.cy,g=Math.max(c.r0||0,0),i=Math.max(c.r,0),l=(i-g)*.5,j=g+l,a=c.startAngle,b=c.endAngle,h=c.clockwise,k=2*Math.PI,o=h?b-a<k:a-b<k;o||(a=b-(h?k:-k));var m=Math.cos(a),n=Math.sin(a);o?(d.moveTo(m*g+e,n*g+f),d.arc(m*j+e,n*j+f,l,-Math.PI+a,a,!h)):d.moveTo(m*i+e,n*i+f),d.arc(e,f,i,a,b,!h),d.arc(Math.cos(b)*j+e,Math.sin(b)*j+f,l,b-2*Math.PI,b-Math.PI,!h),0!==g&&d.arc(e,f,g,b,a,h)},a}(c);function vx(a,b,c){return b*Math.sin(a)*(c?-1:1)}function vy(a,b,c){return b*Math.cos(a)*(c?1:-1)}var vz=Math.max,vA=Math.min,dx=function(b){function a(){var c=b.call(this)||this;return c.type=a.type,c._isFirstFrame=!0,c}return cp(a,b),a.prototype.render=function(a,c,b,e){this._model=a,this._removeOnRenderedListener(b),this._updateDrawMode(a);var d=a.get("coordinateSystem");("cartesian2d"===d||"polar"===d)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,c,b):this._renderNormal(a,c,b,e))},a.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},a.prototype.incrementalRender=function(a,b){this._progressiveEls=[],this._incrementalRenderLarge(a,b)},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype._updateDrawMode=function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},a.prototype._renderNormal=function(a,o,l,c){var i,j=this.group,d=a.getData(),m=this._data,b=a.coordinateSystem,k=b.getBaseAxis();"cartesian2d"===b.type?i=k.isHorizontal():"polar"===b.type&&(i="angle"===k.dim);var p=a.isAnimationEnabled()?a:null,e=vD(a,b);e&&this._enableRealtimeSort(e,d,l);var q=a.get("clip",!0)||e,r=function(b,e){var a=b.getArea&&b.getArea();if(u4(b,"cartesian2d")){var d=b.getBaseAxis();if("category"!==d.type||!d.onBand){var c=e.getLayout("bandWidth");d.isHorizontal()?(a.x-=c,a.width+=2*c):(a.y-=c,a.height+=2*c)}}return a}(b,d);j.removeClipPath();var s=a.get("roundCap",!0),u=a.get("showBackground",!0),n=a.getModel("backgroundStyle"),v=n.get("borderRadius")||0,f=[],w=this._backgroundEls,x=c&&c.isInitSort,y=c&&"changeAxisOrder"===c.type;function z(c){var e=vJ[b.type](d,c),a=vT(b,i,e);return a.useStyle(n.getItemStyle()),"cartesian2d"===b.type&&a.setShape("r",v),f[c]=a,a}d.diff(m).add(function(c){var h=d.getItemModel(c),g=vJ[b.type](d,c,h);if(u&&z(c),d.hasValue(c)&&vI[b.type](g)){var l=!1;q&&(l=vB[b.type](r,g));var f=vC[b.type](a,d,c,g,i,p,k.model,!1,s);e&&(f.forceLabelAnimation=!0),vL(f,d,c,h,g,a,i,"polar"===b.type),x?f.attr({shape:g}):e?vE(e,p,f,g,c,i,!1,!1):ml(f,{shape:g},a,c),d.setItemGraphicEl(c,f),j.add(f),f.ignore=l}}).update(function(g,o){var A=d.getItemModel(g),h=vJ[b.type](d,g,A);if(u){var l=void 0;0===w.length?l=z(o):((l=w[o]).useStyle(n.getItemStyle()),"cartesian2d"===b.type&&l.setShape("r",v),f[g]=l);var D=vJ[b.type](d,g),E=vS(i,D,b);mk(l,{shape:E},p,g)}var c=m.getItemGraphicEl(o);if(!d.hasValue(g)||!vI[b.type](h)){j.remove(c);return}var B=!1;if(q&&(B=vB[b.type](r,h))&&j.remove(c),c?mq(c):c=vC[b.type](a,d,g,h,i,p,k.model,!!c,s),e&&(c.forceLabelAnimation=!0),y){var C=c.getTextContent();if(C){var t=mF(C);null!=t.prevValue&&(t.prevValue=t.value)}}else vL(c,d,g,A,h,a,i,"polar"===b.type);x?c.attr({shape:h}):e?vE(e,p,c,h,g,i,!0,y):mk(c,{shape:h},a,g,null),d.setItemGraphicEl(g,c),c.ignore=B,j.add(c)}).remove(function(b){var c=m.getItemGraphicEl(b);c&&mp(c,a,b)}).execute();var g=this._backgroundGroup||(this._backgroundGroup=new t);g.removeAll();for(var h=0;h<f.length;++h)g.add(f[h]);j.add(g),this._backgroundEls=f,this._data=d},a.prototype._renderLarge=function(a,b,c){this._clear(),vP(a,this.group),this._updateLargeClip(a)},a.prototype._incrementalRenderLarge=function(b,a){this._removeBackground(),vP(a,this.group,this._progressiveEls,!0)},a.prototype._updateLargeClip=function(a){var b=a.get("clip",!0)&&u3(a.coordinateSystem,!1,a),c=this.group;b?c.setClipPath(b):c.removeClipPath()},a.prototype._enableRealtimeSort=function(a,b,c){var d=this;if(b.count()){var e=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(b,a,c),this._isFirstFrame=!1;else{var f=function(d){var c=b.getItemGraphicEl(d),a=c&&c.shape;return a&&Math.abs(e.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){d._updateSortWithinSameData(b,f,e,c)},c.getZr().on("rendered",this._onRendered)}}},a.prototype._dataSort=function(a,c,d){var b=[];return a.each(a.mapDimension(c.dim),function(e,c){var a=d(c);a=null==a?NaN:a,b.push({dataIndex:c,mappedValue:a,ordinalNumber:e})}),b.sort(function(a,b){return b.mappedValue-a.mappedValue}),{ordinalNumbers:Y(b,function(a){return a.ordinalNumber})}},a.prototype._isOrderChangedWithinSameData=function(a,h,c){for(var d=c.scale,i=a.mapDimension(c.dim),e=Number.MAX_VALUE,b=0,j=d.getOrdinalMeta().categories.length;b<j;++b){var f=a.rawIndexOf(i,d.getRawOrdinalNumber(b)),g=f<0?Number.MIN_VALUE:h(a.indexOfRawIndex(f));if(g>e)return!0;e=g}return!1},a.prototype._isOrderDifferentInView=function(d,e){for(var b=e.scale,c=b.getExtent(),a=Math.max(0,c[0]),f=Math.min(c[1],b.getOrdinalMeta().categories.length-1);a<=f;++a)if(d.ordinalNumbers[a]!==b.getRawOrdinalNumber(a))return!0},a.prototype._updateSortWithinSameData=function(b,c,a,d){if(this._isOrderChangedWithinSameData(b,c,a)){var e=this._dataSort(b,a,c);this._isOrderDifferentInView(e,a)&&(this._removeOnRenderedListener(d),d.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:e}))}},a.prototype._dispatchInitSort=function(b,c,d){var a=c.baseAxis,e=this._dataSort(b,a,function(a){return b.get(b.mapDimension(c.otherAxis.dim),a)});d.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:e})},a.prototype.remove=function(b,a){this._clear(this._model),this._removeOnRenderedListener(a)},a.prototype.dispose=function(b,a){this._removeOnRenderedListener(a)},a.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},a.prototype._clear=function(a){var c=this.group,b=this._data;a&&a.isAnimationEnabled()&&b&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],b.eachItemGraphicEl(function(b){mp(b,a,lz(b).dataIndex)})):c.removeAll(),this._data=null,this._isFirstFrame=!0},a.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},a.type="bar",a}(f),vB={cartesian2d:function(b,a){var i=a.width<0?-1:1,j=a.height<0?-1:1;i<0&&(a.x+=a.width,a.width=-a.width),j<0&&(a.y+=a.height,a.height=-a.height);var k=b.x+b.width,l=b.y+b.height,c=vz(a.x,b.x),e=vA(a.x+a.width,k),d=vz(a.y,b.y),f=vA(a.y+a.height,l),g=e<c,h=f<d;return a.x=g&&c>k?e:c,a.y=h&&d>l?f:d,a.width=g?0:e-c,a.height=h?0:f-d,i<0&&(a.x+=a.width,a.width=-a.width),j<0&&(a.y+=a.height,a.height=-a.height),g||h},polar:function(c,a){var d=a.r0<=a.r?1:-1;if(d<0){var b=a.r;a.r=a.r0,a.r0=b}var e=vA(a.r,c.r),f=vz(a.r0,c.r0);if(a.r=e,a.r0=f,d<0){var b=a.r;a.r=a.r0,a.r0=b}return e-f<0}},vC={cartesian2d:function(f,g,b,c,d,e,h,i,j){var k,a=new z({shape:fP({},c),z2:1});if(a.__dataIndex=b,a.name="item",e){a.shape[d?"height":"width"]=0}return a},polar:function(o,p,q,c,b,e,r,i,j){var f=!b&&j?vw:aN,a=new f({shape:c,z2:1});a.name="item";var k,g,l,m=vK(b);if(a.calculateTextPosition=(k=m,l=(g=g={isRoundCap:f===vw}).isRoundCap,function(p,u,w){var v=u.position;if(!v||v instanceof Array)return i0(p,u,w);var x=k(v),a=null!=u.distance?u.distance:5,s=this.shape,c=s.cx,d=s.cy,q=s.r,t=s.r0,e=(q+t)/2,b=s.startAngle,o=s.endAngle,f=(b+o)/2,r=l?Math.abs(q-t)/2:0,g=Math.cos,h=Math.sin,i=c+q*g(b),j=d+q*h(b),m="left",n="top";switch(x){case"startArc":i=c+(t-a)*g(f),j=d+(t-a)*h(f),m="center",n="top";break;case"insideStartArc":i=c+(t+a)*g(f),j=d+(t+a)*h(f),m="center",n="bottom";break;case"startAngle":i=c+e*g(b)+vx(b,a+r,!1),j=d+e*h(b)+vy(b,a+r,!1),m="right",n="middle";break;case"insideStartAngle":i=c+e*g(b)+vx(b,-a+r,!1),j=d+e*h(b)+vy(b,-a+r,!1),m="left",n="middle";break;case"middle":i=c+e*g(f),j=d+e*h(f),m="center",n="middle";break;case"endArc":i=c+(q+a)*g(f),j=d+(q+a)*h(f),m="center",n="bottom";break;case"insideEndArc":i=c+(q-a)*g(f),j=d+(q-a)*h(f),m="center",n="top";break;case"endAngle":i=c+e*g(o)+vx(o,a+r,!0),j=d+e*h(o)+vy(o,a+r,!0),m="left",n="middle";break;case"insideEndAngle":i=c+e*g(o)+vx(o,-a+r,!0),j=d+e*h(o)+vy(o,-a+r,!0),m="right",n="middle";break;default:return i0(p,u,w)}return(p=p||{}).x=i,p.y=j,p.align=m,p.verticalAlign=n,p}),e){var n=a.shape,d=b?"r":"endAngle",h={};n[d]=b?0:c.startAngle,h[d]=c[d],(i?mk:ml)(a,{shape:h},e)}return a}};function vD(c,a){var d=c.get("realtimeSort",!0),b=a.getBaseAxis();if(d&&"category"===b.type&&"cartesian2d"===a.type)return{baseAxis:b,otherAxis:a.getOtherAxis(b)}}function vE(h,d,e,a,f,i,g,j){var b,c;i?(c={x:a.x,width:a.width},b={y:a.y,height:a.height}):(c={y:a.y,height:a.height},b={x:a.x,width:a.width}),j||(g?mk:ml)(e,{shape:b},d,f,null),(g?mk:ml)(e,{shape:c},d?h.baseAxis.model:null,f)}function vF(c,b){for(var a=0;a<b.length;a++)if(!isFinite(c[b[a]]))return!0;return!1}var vG=["x","y","width","height"],vH=["cx","cy","r","startAngle","endAngle"],vI={cartesian2d:function(a){return!vF(a,vG)},polar:function(a){return!vF(a,vH)}},vJ={cartesian2d:function(f,g,c){var a=f.getItemLayout(g),b=c?vM(c,a):0,d=a.width>0?1:-1,e=a.height>0?1:-1;return{x:a.x+d*b/2,y:a.y+e*b/2,width:a.width-d*b,height:a.height-e*b}},polar:function(b,c,d){var a=b.getItemLayout(c);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function vK(a){var b,c;return c=(b=a)?"Arc":"Angle",function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+c;default:return a}}}function vL(a,q,d,b,c,f,g,h){var i=q.getItemVisual(d,"style");h||a.setShape("r",b.get(["itemStyle","borderRadius"])||0),a.useStyle(i);var m=b.getShallow("cursor");m&&a.attr("cursor",m);var n=h?g?c.r>=c.r0?"endArc":"startArc":c.endAngle>=c.startAngle?"endAngle":"startAngle":g?c.height>=0?"bottom":"top":c.width>=0?"right":"left",o=mv(b);mu(a,o,{labelFetcher:f,labelDataIndex:d,defaultText:uI(f.getData(),d),inheritColor:i.fill,defaultOpacity:i.opacity,defaultOutsidePosition:n});var p=a.getTextContent();if(h&&p){var k=b.get(["label","position"]);a.textConfig.inside="middle"===k||null,function(b,e,j,f){if(fV(f)){b.setTextConfig({rotation:f});return}if(cv(e)){b.setTextConfig({rotation:0});return}var c,a=b.shape,g=a.clockwise?a.startAngle:a.endAngle,h=a.clockwise?a.endAngle:a.startAngle,i=j(e);switch(i){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":c=(g+h)/2;break;case"startAngle":case"insideStartAngle":c=g;break;case"endAngle":case"insideEndAngle":c=h;break;default:b.setTextConfig({rotation:0});return}var d=1.5*Math.PI-c;"middle"===i&&d>Math.PI/2&&d<1.5*Math.PI&&(d-=Math.PI),b.setTextConfig({rotation:d})}(a,"outside"===k?n:k,vK(g),b.get(["label","rotate"]))}mG(p,o,f.getRawValue(d),function(a){return uJ(q,a)});var e,l=b.getModel(["emphasis"]);l8(a,l.get("focus"),l.get("blurScope"),l.get("disabled")),mc(a,b),null!=(e=c).startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle&&(a.style.fill="none",a.style.stroke="none",j(a.states,function(a){a.style&&(a.style.fill=a.style.stroke="none")}))}function vM(b,a){var c=b.get(["itemStyle","borderColor"]);if(!c||"none"===c)return 0;var d=b.get(["itemStyle","borderWidth"])||0,e=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width),f=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height);return Math.min(d,e,f)}var vN=function(){},vO=function(b){function a(c){var a=b.call(this,c)||this;return a.type="largeBar",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new vN},a.prototype.buildPath=function(g,h){for(var b=h.points,e=this.baseDimIdx,f=1-this.baseDimIdx,c=[],d=[],i=this.barWidth,a=0;a<b.length;a+=3)d[e]=i,d[f]=b[a+2],c[e]=b[a+e],c[f]=b[a+f],g.rect(c[0],c[1],d[0],d[1])},a}(c);function vP(d,f,e,g){var b=d.getData(),h=b.getLayout("valueAxisHorizontal")?1:0,i=b.getLayout("largeDataIndices"),j=b.getLayout("size"),l=d.getModel("backgroundStyle"),k=b.getLayout("largeBackgroundPoints");if(k){var c=new vO({shape:{points:k},incremental:!!g,silent:!0,z2:0});c.baseDimIdx=h,c.largeDataIndices=i,c.barWidth=j,c.useStyle(l.getItemStyle()),f.add(c),e&&e.push(c)}var a=new vO({shape:{points:b.getLayout("largePoints")},incremental:!!g,z2:1});a.baseDimIdx=h,a.largeDataIndices=i,a.barWidth=j,f.add(a),a.useStyle(b.getVisual("style")),lz(a).seriesIndex=d.seriesIndex,d.get("silent")||(a.on("mousedown",vQ),a.on("mousemove",vQ)),e&&e.push(a)}var vQ=da(function(a){var b=vR(this,a.offsetX,a.offsetY);lz(this).dataIndex=b>=0?b:null},30,!1);function vR(d,i,j){for(var e=d.baseDimIdx,a=1-e,f=d.shape.points,k=d.largeDataIndices,c=[],b=[],l=d.barWidth,g=0,m=f.length/3;g<m;g++){var h=3*g;if(b[e]=l,b[a]=f[h+2],c[e]=f[h+e],c[a]=f[h+a],b[a]<0&&(c[a]+=b[a],b[a]=-b[a]),i>=c[0]&&i<=c[0]+b[0]&&j>=c[1]&&j<=c[1]+b[1])return k[g]}return -1}function vS(b,f,e){if(u4(e,"cartesian2d")){var c=f,a=e.getArea();return{x:b?c.x:a.x,y:b?a.y:c.y,width:b?c.width:a.width,height:b?a.height:c.height}}var a=e.getArea(),d=f;return{cx:a.cx,cy:a.cy,r0:b?a.r0:d.r0,r:b?a.r:d.r,startAngle:b?d.startAngle:0,endAngle:b?d.endAngle:2*Math.PI}}function vT(a,b,c){return new("polar"===a.type?aN:z)({shape:vS(b,c,a),silent:!0,z2:0})}var vU=dx,vV=2*Math.PI,vW=Math.PI/180;function vX(b,a){return nw(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function vY(d,e){var c=vX(d,e),a=d.get("center"),b=d.get("radius");cv(b)||(b=[0,b]),cv(a)||(a=[a,a]);var f=je(c.width,e.getWidth()),g=je(c.height,e.getHeight()),h=Math.min(f,g),i=je(a[0],f)+c.x,j=je(a[1],g)+c.y,k=je(b[0],h/2),l=je(b[1],h/2);return{cx:i,cy:j,r0:k,r:l}}function vZ(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),d=b.mapDimension("value"),i=vX(a,c),e=vY(a,c),q=e.cx,r=e.cy,j=e.r,s=e.r0,h=-a.get("startAngle")*vW,t=a.get("minAngle")*vW,f=0;b.each(d,function(a){!isNaN(a)&&f++});var k=b.getSum(d),l=Math.PI/(k||f)*2,m=a.get("clockwise"),u=a.get("roseType"),v=a.get("stillShowZeroSum"),n=b.getDataExtent(d);n[0]=0;var g=vV,o=0,p=h,w=m?1:-1;if(b.setLayout({viewRect:i,r:j}),b.each(d,function(a,c){if(isNaN(a)){b.setItemLayout(c,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:q,cy:r,r0:s,r:u?NaN:j});return}(d="area"!==u?0===k&&v?l:a*l:vV/f)<t?(d=t,g-=t):o+=a;var d,e=p+w*d;b.setItemLayout(c,{angle:d,startAngle:p,endAngle:e,clockwise:m,cx:q,cy:r,r0:s,r:u?bb(a,n,[s,j]):j}),p=e}),g<vV&&f){if(g<=.001){var x=vV/f;b.each(d,function(d,a){if(!isNaN(d)){var c=b.getItemLayout(a);c.angle=x,c.startAngle=h+w*a*x,c.endAngle=h+w*(a+1)*x}})}else l=g/o,p=h,b.each(d,function(c,e){if(!isNaN(c)){var a=b.getItemLayout(e),d=a.angle===t?t:c*l;a.startAngle=p,a.endAngle=p+w*d,p+=w*d}})}})}function v$(a){return{seriesType:a,reset:function(b,c){var a=c.findComponents({mainType:"legend"});if(a&&a.length){var d=b.getData();d.filterSelf(function(c){for(var e=d.getName(c),b=0;b<a.length;b++)if(!a[b].isSelected(e))return!1;return!0})}}}}var v_=Math.PI/180;function v0(a,h,i,j,k,l,e,m,c,d){if(!(a.length<2)){for(var f=a.length,b=0;b<f;b++)if("outer"===a[b].position&&"labelLine"===a[b].labelAlignTo){var g=a[b].label.x-d;a[b].linePoints[1][0]+=g,a[b].label.x=d}s8(a,c,c+e)&&function(f){for(var l={list:[],maxY:0},m={list:[],maxY:0},b=0;b<f.length;b++)if("none"===f[b].labelAlignTo){var a=f[b],c=a.label.y>i?m:l,d=Math.abs(a.label.y-i);if(d>=c.maxY){var g=a.label.x-h-a.len2*k,e=j+a.len,o=Math.abs(g)<e?Math.sqrt(d*d/(1-g*g/e/e)):e;c.rB=o,c.maxY=d}c.list.push(a)}n(l),n(m)}(a)}function n(b){for(var d=b.rB,l=d*d,c=0;c<b.list.length;c++){var a=b.list[c],e=Math.abs(a.label.y-i),f=j+a.len,g=h+(Math.sqrt((1-Math.abs(e*e/l))*(f*f))+a.len2)*k,m=g-a.label.x,n=a.targetTextWidth-m*k;v1(a,n,!0),a.label.x=g}}}function v1(c,d,e){if(void 0===e&&(e=!1),null==c.labelStyleWidth){var a=c.label,f=a.style,b=c.rect,j=f.backgroundColor,g=f.padding,h=g?g[1]+g[3]:0,k=f.overflow,l=b.width+(j?0:h);if(d<l||e){var n=b.height;if(k&&k.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",d-h);var o=a.getBoundingRect();a.setStyle("width",Math.ceil(o.width)),a.setStyle("backgroundColor",j)}else{var i=d-h,p=d<l?i:e?i>c.unconstrainedWidth?null:i:null;a.setStyle("width",p)}var m=a.getBoundingRect();b.width=m.width;var q=(a.style.margin||0)+2.1;b.height=m.height+q,b.y-=(b.height-n)/2}}}function v2(a){return"center"===a.position}function v3(c,b,d){var a=c.get("borderRadius");if(null==a)return d?{cornerRadius:0}:null;cv(a)||(a=[a,a,a,a]);var e=Math.abs(b.r||0-b.r0||0);return{cornerRadius:Y(a,function(a){return i_(a,e)})}}var v4=function(b){function a(c,d,e){var a=b.call(this)||this;a.z2=2;var f=new bh;return a.setTextContent(f),a.updateData(c,d,e,!0),a}return cp(a,b),a.prototype.updateData=function(h,c,i,p){var a=this,d=h.hostModel,e=h.getItemModel(c),f=e.getModel("emphasis"),b=h.getItemLayout(c),g=fP(v3(e.getModel("itemStyle"),b,!0),b);if(isNaN(g.startAngle)){a.setShape(g);return}if(p){a.setShape(g);var q=d.getShallow("animationType");d.ecModel.ssr?(ml(a,{scaleX:0,scaleY:0},d,{dataIndex:c,isFrom:!0}),a.originX=g.cx,a.originY=g.cy):"scale"===q?(a.shape.r=b.r0,ml(a,{shape:{r:b.r}},d,c)):null!=i?(a.setShape({startAngle:i,endAngle:i}),ml(a,{shape:{startAngle:b.startAngle,endAngle:b.endAngle}},d,c)):(a.shape.endAngle=b.startAngle,mk(a,{shape:{endAngle:b.endAngle}},d,c))}else mq(a),mk(a,{shape:g},d,c);a.useStyle(h.getItemVisual(c,"style")),mc(a,e);var l=(b.startAngle+b.endAngle)/2,m=d.get("selectedOffset"),j=Math.cos(l)*m,k=Math.sin(l)*m,n=e.getShallow("cursor");n&&a.attr("cursor",n),this._updateLabel(d,h,c),a.ensureState("emphasis").shape=fP({r:b.r+(f.get("scale")&&f.get("scaleSize")||0)},v3(f.getModel("itemStyle"),b)),fP(a.ensureState("select"),{x:j,y:k,shape:v3(e.getModel(["select","itemStyle"]),b)}),fP(a.ensureState("blur"),{shape:v3(e.getModel(["blur","itemStyle"]),b)});var o=a.getTextGuideLine(),r=a.getTextContent();o&&fP(o.ensureState("select"),{x:j,y:k}),fP(r.ensureState("select"),{x:j,y:k}),l8(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},a.prototype._updateLabel=function(f,b,a){var d=b.getItemModel(a),j=d.getModel("labelLine"),c=b.getItemVisual(a,"style"),g=c&&c.fill,h=c&&c.opacity;mu(this,mv(d),{labelFetcher:b.hostModel,labelDataIndex:a,inheritColor:g,defaultOpacity:h,defaultText:f.getFormattedLabel(a,"normal")||b.getName(a)});var k=this.getTextContent();this.setTextConfig({position:null,rotation:null}),k.attr({z2:10});var i=f.get(["label","position"]);if("outside"!==i&&"outer"!==i)this.removeTextGuideLine();else{var e=this.getTextGuideLine();e||(e=new c8,this.setTextGuideLine(e)),s4(this,s5(d),{stroke:g,opacity:f_(j.get(["lineStyle","opacity"]),h,1)})}},a}(aN),v5=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return cp(a,b),a.prototype.render=function(b,l,h,m){var i,a=b.getData(),f=this._data,g=this.group;if(!f&&a.count()>0){for(var c=a.getItemLayout(0),d=1;isNaN(c&&c.startAngle)&&d<a.count();++d)c=a.getItemLayout(d);c&&(i=c.startAngle)}if(this._emptyCircleSector&&g.remove(this._emptyCircleSector),0===a.count()&&b.get("showEmptyCircle")){var e=new aN({shape:vY(b,h)});e.useStyle(b.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=e,g.add(e)}a.diff(f).add(function(b){var c=new v4(a,b,i);a.setItemGraphicEl(b,c),g.add(c)}).update(function(c,d){var b=f.getItemGraphicEl(d);b.updateData(a,c,i),b.off("click"),g.add(b),a.setItemGraphicEl(c,b)}).remove(function(a){mp(f.getItemGraphicEl(a),b,a)}).execute(),function(f){var o,p,g=f.getData(),h=[],q=!1,w=(f.get("minShowLabelAngle")||0)*v_,d=g.getLayout("viewRect"),r=g.getLayout("r"),s=d.width,t=d.x,u=d.y,v=d.height;function m(a){a.ignore=!0}g.each(function(N){var z,A,O,B,C=g.getItemGraphicEl(N),a=C.shape,b=C.getTextContent(),U=C.getTextGuideLine(),G=g.getItemModel(N),f=G.getModel("label"),d=f.get("position")||G.get(["emphasis","label","position"]),H=f.get("distanceToLabelLine"),I=f.get("alignTo"),J=je(f.get("edgeDistance"),s),V=f.get("bleedMargin"),D=G.getModel("labelLine"),u=D.get("length");u=je(u,s);var E=D.get("length2");if(E=je(E,s),Math.abs(a.endAngle-a.startAngle)<w){j(b.states,m),b.ignore=!0;return}if(function(a){if(!a.ignore)return!0;for(var b in a.states)if(!1===a.states[b].ignore)return!0;return!1}(b)){var F=(a.startAngle+a.endAngle)/2,c=Math.cos(F),e=Math.sin(F);o=a.cx,p=a.cy;var i="inside"===d||"inner"===d;if("center"===d)z=a.cx,A=a.cy,B="center";else{var K=(i?(a.r+a.r0)/2*c:a.r*c)+o,L=(i?(a.r+a.r0)/2*e:a.r*e)+p;if(z=K+3*c,A=L+3*e,!i){var P=K+c*(u+r-a.r),Q=L+e*(u+r-a.r),R=P+(c<0?-1:1)*E,S=Q;z="edge"===I?c<0?t+J:t+s-J:R+(c<0?-H:H),A=S,O=[[K,L],[P,Q],[R,S]]}B=i?"center":"edge"===I?c>0?"right":"left":c>0?"left":"right"}var v=Math.PI,l=0,x=f.get("rotate");if(fV(x))l=x*(v/180);else if("center"===d)l=0;else if("radial"===x|| !0===x)l=c<0?-F+v:-F;else if("tangential"===x&&"outside"!==d&&"outer"!==d){var n=Math.atan2(c,e);n<0&&(n=2*v+n),e>0&&(n=v+n),l=n-v}if(q=!!l,b.x=z,b.y=A,b.rotation=l,b.setStyle({verticalAlign:"middle"}),i){b.setStyle({align:B});var M=b.states.select;M&&(M.x+=b.x,M.y+=b.y)}else{var y=b.getBoundingRect().clone();y.applyTransform(b.getComputedTransform());var T=(b.style.margin||0)+2.1;y.y-=T/2,y.height+=T,h.push({label:b,labelLine:U,position:d,len:u,len2:E,minTurnAngle:D.get("minTurnAngle"),maxSurfaceAngle:D.get("maxSurfaceAngle"),surfaceNormal:new k(c,e),linePoints:O,textAlign:B,labelDistance:H,labelAlignTo:I,edgeDistance:J,bleedMargin:V,rect:y,unconstrainedWidth:y.width,labelStyleWidth:b.style.width})}C.setTextConfig({inside:i})}}),!q&&f.get("avoidLabelOverlap")&&function(f,g,m,n,h,o,e,p){for(var q=[],r=[],i=Number.MAX_VALUE,j=-Number.MAX_VALUE,c=0;c<f.length;c++){var b=f[c].label;!v2(f[c])&&(b.x<g?(i=Math.min(i,b.x),q.push(f[c])):(j=Math.max(j,b.x),r.push(f[c])))}for(var c=0;c<f.length;c++){var a=f[c];if(!v2(a)&&a.linePoints){if(null!=a.labelStyleWidth)continue;var b=a.label,d=a.linePoints,k=void 0;k="edge"===a.labelAlignTo?b.x<g?d[2][0]-a.labelDistance-e-a.edgeDistance:e+h-a.edgeDistance-d[2][0]-a.labelDistance:"labelLine"===a.labelAlignTo?b.x<g?i-e-a.bleedMargin:e+h-j-a.bleedMargin:b.x<g?b.x-e-a.bleedMargin:e+h-b.x-a.bleedMargin,a.targetTextWidth=k,v1(a,k)}}v0(r,g,m,n,1,h,o,e,p,j),v0(q,g,m,n,-1,h,o,e,p,i);for(var c=0;c<f.length;c++){var a=f[c];if(!v2(a)&&a.linePoints){var b=a.label,d=a.linePoints,t="edge"===a.labelAlignTo,l=b.style.padding,u=l?l[1]+l[3]:0,v=b.style.backgroundColor?0:u,s=a.rect.width+v,w=d[1][0]-d[2][0];t?b.x<g?d[2][0]=e+a.edgeDistance+s+a.labelDistance:d[2][0]=e+h-a.edgeDistance-s-a.labelDistance:(b.x<g?d[2][0]=b.x+a.labelDistance:d[2][0]=b.x-a.labelDistance,d[1][0]=d[2][0]+w),d[1][1]=d[2][1]=b.y}}}(h,o,p,r,s,v,t,u);for(var i=0;i<h.length;i++){var b=h[i],a=b.label,e=b.labelLine,n=isNaN(a.x)||isNaN(a.y);if(a){a.setStyle({align:b.textAlign}),n&&(j(a.states,m),a.ignore=!0);var l=a.states.select;l&&(l.x+=a.x,l.y+=a.y)}if(e){var c=b.linePoints;n||!c?(j(e.states,m),e.ignore=!0):(s0(c,b.minTurnAngle),s1(c,b.surfaceNormal,b.maxSurfaceAngle),e.setShape({points:c}),a.__hostTarget.textGuideLineConfig={anchor:new k(c[0][0],c[0][1])})}}}(b),"expansion"!==b.get("animationTypeUpdate")&&(this._data=a)},a.prototype.dispose=function(){},a.prototype.containPoint=function(b,f){var a=f.getData().getItemLayout(0);if(a){var c=b[0]-a.cx,d=b[1]-a.cy,e=Math.sqrt(c*c+d*d);return e<=a.r&&e>=a.r0}},a.type="pie",a}(f);function v6(b,a,e){a=cv(a)&&{coordDimensions:a}||fP({encodeDefine:b.getEncode()},a);var c=b.getSource(),f=uw(c,a).dimensions,d=new uv(f,b);return d.initData(c,e),d}var v7=function(){function a(a,b){this._getDataWithEncodedVisual=a,this._getRawData=b}return a.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},a.prototype.containName=function(a){return this._getRawData().indexOfName(a)>=0},a.prototype.indexOfName=function(a){return this._getDataWithEncodedVisual().indexOfName(a)},a.prototype.getItemVisual=function(a,b){return this._getDataWithEncodedVisual().getItemVisual(a,b)},a}(),v8=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.init=function(a){b.prototype.init.apply(this,arguments),this.legendVisualProvider=new v7(cu(this.getData,this),cu(this.getRawData,this)),this._defaultLabelLine(a)},a.prototype.mergeOption=function(){b.prototype.mergeOption.apply(this,arguments)},a.prototype.getInitialData=function(){return v6(this,{coordDimensions:["value"],encodeDefaulter:m(nJ,this)})},a.prototype.getDataParams=function(d){var a=this.getData(),c=b.prototype.getDataParams.call(this,d),e=[];return a.each(a.mapDimension("value"),function(a){e.push(a)}),c.percent=function(c,f,k){if(!c[f])return 0;var l=ao(c,function(b,a){return b+(isNaN(a)?0:a)},0);if(0===l)return 0;for(var g=Math.pow(10,k),h=Y(c,function(a){return(isNaN(a)?0:a)/l*g*100}),m=100*g,d=Y(h,function(a){return Math.floor(a)}),i=ao(d,function(a,b){return a+b},0),b=Y(h,function(a,b){return a-d[b]});i<m;){for(var j=Number.NEGATIVE_INFINITY,e=null,a=0,n=b.length;a<n;++a)b[a]>j&&(j=b[a],e=a);++d[e],b[e]=0,++i}return d[f]/g}(e,d,a.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},a.prototype._defaultLabelLine=function(a){jx(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},a.type="series.pie",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},a}(e),v9=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c}return cp(a,b),a.prototype.getInitialData=function(a,b){return uG(null,this,{useEncodeDefaulter:!0})},a.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?5e3:this.get("progressive"):a},a.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1e4:this.get("progressiveThreshold"):a},a.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},a.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},a.type="series.scatter",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},a}(e),wa=function(){},wb=function(b){function a(c){var a=b.call(this,c)||this;return a._off=0,a.hoverDataIdx=-1,a}return cp(a,b),a.prototype.getDefaultShape=function(){return new wa},a.prototype.reset=function(){this.notClear=!1,this._off=0},a.prototype.buildPath=function(d,h){var a,e=h.points,b=h.size,i=this.symbolProxy,c=i.shape,j=d.getContext?d.getContext():d,l=j&&b[0]<4,k=this.softClipShape;if(l){this._ctx=j;return}for(this._ctx=null,a=this._off;a<e.length;){var f=e[a++],g=e[a++];!(isNaN(f)||isNaN(g))&&(!k||k.contain(f,g))&&(c.x=f-b[0]/2,c.y=g-b[1]/2,c.width=b[0],c.height=b[1],i.buildPath(d,c,!0))}this.incremental&&(this._off=a,this.notClear=!0)},a.prototype.afterBrush=function(){var a,f=this.shape,c=f.points,b=f.size,g=this._ctx,h=this.softClipShape;if(g){for(a=this._off;a<c.length;){var d=c[a++],e=c[a++];!(isNaN(d)||isNaN(e))&&(!h||h.contain(d,e))&&g.fillRect(d-b[0]/2,e-b[1]/2,b[0],b[1])}this.incremental&&(this._off=a,this.notClear=!0)}},a.prototype.findDataIndex=function(c,d){for(var e=this.shape,b=e.points,f=e.size,g=Math.max(f[0],4),h=Math.max(f[1],4),a=b.length/2-1;a>=0;a--){var i=2*a,j=b[i]-g/2,k=b[i+1]-h/2;if(c>=j&&d>=k&&c<=j+g&&d<=k+h)return a}return -1},a.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},a.prototype.getBoundingRect=function(){var c=this._rect;if(!c){for(var h=this.shape,d=h.points,i=h.size,j=i[0],k=i[1],a=1/0,b=1/0,e=-1/0,f=-1/0,g=0;g<d.length;){var l=d[g++],m=d[g++];a=Math.min(l,a),e=Math.max(l,e),b=Math.min(m,b),f=Math.max(m,f)}c=this._rect=new as(a-j/2,b-k/2,e-a+j,f-b+k)}return c},a}(c),wc=function(){function a(){this.group=new t}return a.prototype.updateData=function(a,c){this._clear();var b=this._create();b.setShape({points:a.getLayout("points")}),this._setCommon(b,a,c)},a.prototype.updateLayout=function(a){var b=a.getLayout("points");this.group.eachChild(function(a){if(null!=a.startIndex){var c=(a.endIndex-a.startIndex)*2,d=8*a.startIndex;b=new Float32Array(b.buffer,d,c)}a.setShape("points",b),a.reset()})},a.prototype.incrementalPrepareUpdate=function(a){this._clear()},a.prototype.incrementalUpdate=function(d,g,i){var b=this._newAdded[0],e=g.getLayout("points"),c=b&&b.shape.points;if(c&&c.length<2e4){var h=c.length,f=new Float32Array(h+e.length);f.set(c),f.set(e,h),b.endIndex=d.end,b.setShape({points:f})}else{this._newAdded=[];var a=this._create();a.startIndex=d.start,a.endIndex=d.end,a.incremental=!0,a.setShape({points:e}),this._setCommon(a,g,i)}},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new wb({cursor:"default"});return this.group.add(a),this._newAdded.push(a),a},a.prototype._setCommon=function(a,b,d){var e=b.hostModel;d=d||{};var c=b.getVisual("symbolSize");a.setShape("size",c instanceof Array?c:[c,c]),a.softClipShape=d.clipShape||null,a.symbolProxy=rM(b.getVisual("symbol"),0,0,0,0),a.setColor=a.symbolProxy.setColor;var h=a.shape.size[0]<4;a.useStyle(e.getModel("itemStyle").getItemStyle(h?["color","shadowBlur","shadowColor"]:["color"]));var f=b.getVisual("style"),g=f&&f.fill;g&&a.setColor(g);var i=lz(a);i.seriesIndex=e.seriesIndex,a.on("mousemove",function(c){i.dataIndex=null;var b=a.hoverDataIdx;b>=0&&(i.dataIndex=b+(a.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),wd=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,c,d){var b=a.getData();this._updateSymbolDraw(b,a).updateData(b,{clipShape:this._getClipShape(a)}),this._finished=!0},a.prototype.incrementalPrepareRender=function(a,c,d){var b=a.getData();this._updateSymbolDraw(b,a).incrementalPrepareUpdate(b),this._finished=!1},a.prototype.incrementalRender=function(b,a,c){this._symbolDraw.incrementalUpdate(b,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=b.end===a.getData().count()},a.prototype.updateTransform=function(b,d,e){var a=b.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var c=vf("").reset(b,d,e);c.progress&&c.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},a.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},a.prototype._getClipShape=function(b){var a=b.coordinateSystem,c=a&&a.getArea&&a.getArea();return b.get("clip",!0)?c:null},a.prototype._updateSymbolDraw=function(d,c){var a=this._symbolDraw,b=c.pipelineContext.large;return a&&b===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=b?new wc:new uP,this._isLargeDraw=b,this.group.removeAll()),this.group.add(a.group),a},a.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},a.prototype.dispose=function(){},a.type="scatter",a}(f),we=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.type="grid",a.dependencies=["xAxis","yAxis"],a.layoutMode="box",a.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},a}(d),ai=function(){function a(){}return a.prototype.getNeedCrossZero=function(){return!this.option.scale},a.prototype.getCoordSysModel=function(){},a}(),dy=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",jR).models[0]},a.type="cartesian2dAxis",a}(d);h(dy,ai);var bY={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},dz=an({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},bY),aR=an({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},bY),dA=an({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},aR),dB=x({logBase:10},aR),dC={category:dz,value:aR,time:dA,log:dB},wf=0,dD=function(){function a(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this.uid=++wf}return a.createByAxisModel=function(e){var b=e.option,c=b.data,d=c&&Y(c,wg);return new a({categories:d,needCollect:!d,deduplication:!1!==b.dedplication})},a.prototype.getOrdinal=function(a){return this._getOrCreateMap().get(a)},a.prototype.parseAndCollect=function(b){var a,c=this._needCollect;if(!fT(b)&&!c)return b;if(c&&!this._deduplication)return a=this.categories.length,this.categories[a]=b,a;var d=this._getOrCreateMap();return null==(a=d.get(b))&&(c?(a=this.categories.length,this.categories[a]=b,d.set(b,a)):a=NaN),a},a.prototype._getOrCreateMap=function(){return this._map||(this._map=s(this.categories))},a}();function wg(a){return aq(a)&&null!=a.value?a.value:a+""}var wh=dD,wi={value:1,category:1,time:1,log:1};function wj(a,b,c,d){j(wi,function(g,e){var h=an(an({},dC[e],!0),d,!0),f=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;return a.type=b+"Axis."+e,a}return cp(a,c),a.prototype.mergeDefaultAndTheme=function(a,c){var b=ny(this),d=b?nA(a):{};an(a,c.getTheme().get(e+"Axis")),an(a,this.getDefaultOption()),a.type=wk(a),b&&nz(a,d,b)},a.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=wh.createByAxisModel(this))},a.prototype.getCategories=function(b){var a=this.option;if("category"===a.type)return b?a.data:this.__ordinalMeta.categories},a.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},a.type=b+"Axis."+e,a.defaultOption=h,a}(c);a.registerComponentModel(f)}),a.registerSubTypeDefaulter(b+"Axis",wk)}function wk(a){return a.type||(a.data?"category":"value")}var bZ=function(){function a(a){this._setting=a||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(a){return this._setting[a]},a.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},a.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},a.prototype.isInExtentRange=function(a){return this._extent[0]<=a&&this._extent[1]>=a},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(a){this._isBlank=a},a}();$(bZ);var v=bZ;function wl(a){return"interval"===a.type||"log"===a.type}function wm(b){var c=Math.pow(10,jn(b)),a=b/c;return a?2===a?a=3:3===a?a=5:a*=2:a=1,au(a*c)}function wn(a){return jf(a)+2}function wo(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function wp(a,b){return a>=b[0]&&a<=b[1]}function wq(b,a){return a[1]===a[0]?.5:(b-a[0])/(a[1]-a[0])}function wr(b,a){return b*(a[1]-a[0])+a[0]}var b$=function(b){function a(d){var c=b.call(this,d)||this;c.type="ordinal";var a=c.getSetting("ordinalMeta");return a||(a=new wh({})),cv(a)&&(a=new wh({categories:Y(a,function(a){return aq(a)?a.value:a})})),c._ordinalMeta=a,c._extent=c.getSetting("extent")||[0,a.categories.length-1],c}return cp(a,b),a.prototype.parse=function(a){return null==a?NaN:fT(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},a.prototype.contain=function(a){return wp(a=this.parse(a),this._extent)&&null!=this._ordinalMeta.categories[a]},a.prototype.normalize=function(a){return wq(a=this._getTickNumber(this.parse(a)),this._extent)},a.prototype.scale=function(a){return a=Math.round(wr(a,this._extent)),this.getRawOrdinalNumber(a)},a.prototype.getTicks=function(){for(var b=[],c=this._extent,a=c[0];a<=c[1];)b.push({value:a}),a++;return b},a.prototype.getMinorTicks=function(a){},a.prototype.setSortInfo=function(d){if(null==d){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var e=d.ordinalNumbers,f=this._ordinalNumbersByTick=[],c=this._ticksByOrdinalNumber=[],a=0,g=this._ordinalMeta.categories.length,i=Math.min(g,e.length);a<i;++a){var h=e[a];f[a]=h,c[h]=a}for(var b=0;a<g;++a){for(;null!=c[b];)b++;f.push(b),c[b]=a}},a.prototype._getTickNumber=function(a){var b=this._ticksByOrdinalNumber;return b&&a>=0&&a<b.length?b[a]:a},a.prototype.getRawOrdinalNumber=function(a){var b=this._ordinalNumbersByTick;return b&&a>=0&&a<b.length?b[a]:a},a.prototype.getLabel=function(b){if(!this.isBlank()){var c=this.getRawOrdinalNumber(b.value),a=this._ordinalMeta.categories[c];return null==a?"":a+""}},a.prototype.count=function(){return this._extent[1]-this._extent[0]+1},a.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},a.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},a.prototype.getOrdinalMeta=function(){return this._ordinalMeta},a.prototype.calcNiceTicks=function(){},a.prototype.calcNiceExtent=function(){},a.type="ordinal",a}(v);v.registerClass(b$);var ws=b$,wt=au,b_=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return cp(a,b),a.prototype.parse=function(a){return a},a.prototype.contain=function(a){return wp(a,this._extent)},a.prototype.normalize=function(a){return wq(a,this._extent)},a.prototype.scale=function(a){return wr(a,this._extent)},a.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},a.prototype.unionExtent=function(b){var a=this._extent;b[0]<a[0]&&(a[0]=b[0]),b[1]>a[1]&&(a[1]=b[1]),this.setExtent(a[0],a[1])},a.prototype.getInterval=function(){return this._interval},a.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=wn(a)},a.prototype.getTicks=function(g){var c=this._interval,d=this._extent,b=this._niceExtent,f=this._intervalPrecision,a=[];if(!c)return a;d[0]<b[0]&&(g?a.push({value:wt(b[0]-c,f)}):a.push({value:d[0]}));for(var e=b[0];e<=b[1]&&(a.push({value:e}),(e=wt(e+c,f))!==a[a.length-1].value);)if(a.length>1e4)return[];var h=a.length?a[a.length-1].value:b[1];return d[1]>h&&(g?a.push({value:wt(h+c,f)}):a.push({value:d[1]})),a},a.prototype.getMinorTicks=function(e){for(var b=this.getTicks(!0),f=[],g=this.getExtent(),a=1;a<b.length;a++){for(var j=b[a],h=b[a-1],c=0,i=[],k=j.value-h.value,l=k/e;c<e-1;){var d=wt(h.value+(c+1)*l);d>g[0]&&d<g[1]&&i.push(d),c++}f.push(i)}return f},a.prototype.getLabel=function(b,c){if(null==b)return"";var a=c&&c.precision;null==a?a=jf(b.value)||0:"auto"===a&&(a=this._intervalPrecision);var d=wt(b.value,a,!0);return nf(d)},a.prototype.calcNiceTicks=function(j,p,q){j=j||5;var d,m,f,g,c,n,b,k,o,h=this._extent,i=h[1]-h[0];if(isFinite(i)){i<0&&(i=-i,h.reverse());var a,e,l=(d=h,m=j,f=p,g=q,c={},n=d[1]-d[0],b=c.interval=jo(n/m,!0),null!=f&&b<f&&(b=c.interval=f),null!=g&&b>g&&(b=c.interval=g),k=c.intervalPrecision=wn(b),o=c.niceTickExtent=[au(Math.ceil(d[0]/b)*b,k),au(Math.floor(d[1]/b)*b,k)],a=o,e=d,isFinite(a[0])||(a[0]=e[0]),isFinite(a[1])||(a[1]=e[1]),wo(a,0,e),wo(a,1,e),a[0]>a[1]&&(a[0]=a[1]),c);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},a.prototype.calcNiceExtent=function(b){var a=this._extent;if(a[0]===a[1]){if(0!==a[0]){var d=a[0];b.fixMax||(a[1]+=d/2),a[0]-=d/2}else a[1]=1}isFinite(a[1]-a[0])||(a[0]=0,a[1]=1),this.calcNiceTicks(b.splitNumber,b.minInterval,b.maxInterval);var c=this._interval;b.fixMin||(a[0]=wt(Math.floor(a[0]/c)*c)),b.fixMax||(a[1]=wt(Math.ceil(a[1]/c)*c))},a.prototype.setNiceExtent=function(a,b){this._niceExtent=[a,b]},a.type="interval",a}(v);v.registerClass(b_);var b0=b_,wu=function(d,e,a,b){for(;a<b;){var c=a+b>>>1;d[c][1]<e?a=c+1:b=c}return a},b1=function(b){function a(c){var a=b.call(this,c)||this;return a.type="time",a}return cp(a,b),a.prototype.getLabel=function(a){var b=this.getSetting("useUTC");return m$(a.value,mU[function(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(mY(this._minLevelUnit))]||mU.second,b,this.getSetting("locale"))},a.prototype.getFormattedLabel=function(a,b,c){var d=this.getSetting("useUTC");return function(b,j,c,k,i){var a=null;if(fT(c))a=c;else if(cw(c))a=c(b.value,j,{level:b.level});else{var e=fP({},ab);if(b.level>0)for(var d=0;d<mV.length;++d)e[mV[d]]="{primary|"+e[mV[d]]+"}";var f=c?!1===c.inherit?c:x(c,e):e,g=m_(b.value,i);if(f[g])a=f[g];else if(f.inherit){for(var l=mW.indexOf(g),d=l-1;d>=0;--d)if(f[g]){a=f[g];break}a=a||e.none}if(cv(a)){var h=null==b.level?0:b.level>=0?b.level:a.length+b.level;h=Math.min(h,a.length-1),a=a[h]}}return m$(new Date(b.value),a,i,k)}(a,b,c,this.getSetting("locale"),d)},a.prototype.getTicks=function(){var c=this._interval,b=this._extent,a=[];if(!c)return a;a.push({value:b[0],level:0});var d=this.getSetting("useUTC"),e=wC(this._minLevelUnit,this._approxInterval,d,b);return(a=a.concat(e)).push({value:b[1],level:0}),a},a.prototype.calcNiceExtent=function(b){var a=this._extent;if(a[0]===a[1]&&(a[0]-=J,a[1]+=J),a[1]=== -1/0&&a[0]===1/0){var c=new Date;a[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate()),a[0]=a[1]-J}this.calcNiceTicks(b.splitNumber,b.minInterval,b.maxInterval)},a.prototype.calcNiceTicks=function(a,b,c){a=a||10;var d=this._extent,g=d[1]-d[0];this._approxInterval=g/a,null!=b&&this._approxInterval<b&&(this._approxInterval=b),null!=c&&this._approxInterval>c&&(this._approxInterval=c);var e=wv.length,f=Math.min(wu(wv,this._approxInterval,0,e),e-1);this._interval=wv[f][1],this._minLevelUnit=wv[Math.max(f-1,0)][0]},a.prototype.parse=function(a){return fV(a)?a:+jm(a)},a.prototype.contain=function(a){return wp(this.parse(a),this._extent)},a.prototype.normalize=function(a){return wq(this.parse(a),this._extent)},a.prototype.scale=function(a){return wr(a,this._extent)},a.type="time",a}(b0),wv=[["second",1e3],["minute",6e4],["hour",aa],["quarter-day",6*aa],["half-day",12*aa],["day",1.2*J],["half-week",3.5*J],["week",7*J],["month",31*J],["quarter",95*J],["half-year",bm/2],["year",bm]];function ww(a,b){return(a/=J)>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function wy(a){return(a/=30*J)>6?6:a>3?3:a>2?2:1}function wz(a){return(a/=aa)>12?12:a>6?6:a>3.5?4:a>2?2:1}function wA(a,b){return(a/=b?6e4:1e3)>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function wB(a){return jo(a,!0)}function wC(q,r,x,f){var c=mW,s=0;function y(g,c,h,i,j,k,d){for(var b=new Date(c),a=c,e=b[i]();a<h&&a<=f[1];)d.push({value:a}),e+=g,b[j](e),a=b.getTime();d.push({value:a,notAdd:!0})}function t(g,e,h){var i=[],m=!e.length;if(!function(b,c,d,k){var l=jm(c),m=jm(d),e=function(a){return m0(l,a,k)===m0(m,a,k)},f=function(){return e("year")},g=function(){return f()&&e("month")},h=function(){return g()&&e("day")},i=function(){return h()&&e("hour")},j=function(){return i()&&e("minute")},a=function(){return j()&&e("second")};switch(b){case"year":return f();case"month":return g();case"day":return h();case"hour":return i();case"minute":return j();case"second":return a();case"millisecond":return a()&&e("millisecond")}}(mY(g),f[0],f[1],x)){m&&(e=[{value:function(c,d,b){var a=new Date(c);switch(mY(d)){case"year":case"month":a[m9(b)](0);case"day":a[na(b)](1);case"hour":a[nb(b)](0);case"minute":a[nc(b)](0);case"second":a[nd(b)](0),a[ne(b)](0)}return a.getTime()}(new Date(f[0]),g,x)},{value:f[1]}]);for(var a=0;a<e.length-1;a++){var j=e[a].value,k=e[a+1].value;if(j!==k){var b=void 0,c=void 0,d=void 0,l=!1;switch(g){case"year":b=Math.max(1,Math.round(r/J/365)),c=m1(x),d=m8(x);break;case"half-year":case"quarter":case"month":b=wy(r),c=m2(x),d=m9(x);break;case"week":case"half-week":case"day":b=ww(r,31),c=m3(x),d=na(x),l=!0;break;case"half-day":case"quarter-day":case"hour":b=wz(r),c=m4(x),d=nb(x);break;case"minute":b=wA(r,!0),c=m5(x),d=nc(x);break;case"second":b=wA(r,!1),c=m6(x),d=nd(x);break;case"millisecond":b=wB(r),c=m7(x),d=ne(x)}y(b,j,k,c,d,l,i),"year"===g&&h.length>1&&0===a&&h.unshift({value:h[0].value-b})}}for(var a=0;a<i.length;a++)h.push(i[a]);return i}}for(var g=[],b=[],h=0,m=0,a=0;a<c.length&&s++ <1e4;++a){var u=mY(c[a]);if(mZ(c[a])){t(c[a],g[g.length-1]||[],b);var v=c[a+1]?mY(c[a+1]):null;if(u!==v){if(b.length){m=h,b.sort(function(a,b){return a.value-b.value});for(var n=[],d=0;d<b.length;++d){var i=b[d].value;(0===d||b[d-1].value!==i)&&(n.push(b[d]),i>=f[0]&&i<=f[1]&&h++)}var j=(f[1]-f[0])/r;if(h>1.5*j&&m>j/1.5||(g.push(n),h>j||q===c[a]))break}b=[]}}}for(var k=fS(Y(g,function(a){return fS(a,function(a){return a.value>=f[0]&&a.value<=f[1]&&!a.notAdd})}),function(a){return a.length>0}),e=[],w=k.length-1,a=0;a<k.length;++a)for(var o=k[a],l=0;l<o.length;++l)e.push({value:o[l].value,level:w-a});e.sort(function(a,b){return a.value-b.value});for(var p=[],a=0;a<e.length;++a)(0===a||e[a].value!==e[a-1].value)&&p.push(e[a]);return p}v.registerClass(b1);var wD=b1,wE=v.prototype,b2=b0.prototype,wF=au,wG=Math.floor,wH=Math.ceil,wI=Math.pow,wJ=Math.log,aS=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new b0,a._interval=0,a}return cp(a,b),a.prototype.getTicks=function(a){var b=this._originalScale,d=this._extent,e=b.getExtent(),c=b2.getTicks.call(this,a);return Y(c,function(c){var b=c.value,a=au(wI(this.base,b));return a=b===d[0]&&this._fixMin?wK(a,e[0]):a,a=b===d[1]&&this._fixMax?wK(a,e[1]):a,{value:a}},this)},a.prototype.setExtent=function(a,b){var c=this.base;a=wJ(a)/wJ(c),b=wJ(b)/wJ(c),b2.setExtent.call(this,a,b)},a.prototype.getExtent=function(){var b=this.base,a=wE.getExtent.call(this);a[0]=wI(b,a[0]),a[1]=wI(b,a[1]);var c=this._originalScale.getExtent();return this._fixMin&&(a[0]=wK(a[0],c[0])),this._fixMax&&(a[1]=wK(a[1],c[1])),a},a.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=wJ(a[0])/wJ(b),a[1]=wJ(a[1])/wJ(b),wE.unionExtent.call(this,a)},a.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},a.prototype.calcNiceTicks=function(d){d=d||10;var b=this._extent,c=b[1]-b[0];if(c!==1/0&&!(c<=0)){var e,a=Math.pow(10,jn(e=c));for(d/c*a<=.5&&(a*=10);!isNaN(a)&&1>Math.abs(a)&&Math.abs(a)>0;)a*=10;var f=[au(wH(b[0]/a)*a),au(wG(b[1]/a)*a)];this._interval=a,this._niceExtent=f}},a.prototype.calcNiceExtent=function(a){b2.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},a.prototype.parse=function(a){return a},a.prototype.contain=function(a){return a=wJ(a)/wJ(this.base),wp(a,this._extent)},a.prototype.normalize=function(a){return a=wJ(a)/wJ(this.base),wq(a,this._extent)},a.prototype.scale=function(a){return a=wr(a,this._extent),wI(this.base,a)},a.type="log",a}(v),b3=aS.prototype;function wK(a,b){return wF(a,jf(b))}b3.getMinorTicks=b2.getMinorTicks,b3.getLabel=b2.getLabel,v.registerClass(aS);var wL=aS,wM=function(){function a(a,b,c){this._prepareParams(a,b,c)}return a.prototype._prepareParams=function(b,c,a){a[1]<a[0]&&(a=[NaN,NaN]),this._dataMin=a[0],this._dataMax=a[1];var h=this._isOrdinal="ordinal"===b.type;this._needCrossZero="interval"===b.type&&c.getNeedCrossZero&&c.getNeedCrossZero();var d=this._modelMinRaw=c.get("min",!0);cw(d)?this._modelMinNum=wQ(b,d({min:a[0],max:a[1]})):"dataMin"!==d&&(this._modelMinNum=wQ(b,d));var e=this._modelMaxRaw=c.get("max",!0);if(cw(e)?this._modelMaxNum=wQ(b,e({min:a[0],max:a[1]})):"dataMax"!==e&&(this._modelMaxNum=wQ(b,e)),h)this._axisDataLen=c.getCategories().length;else{var f=c.get("boundaryGap"),g=cv(f)?f:[f||0,f||0];"boolean"==typeof g[0]||"boolean"==typeof g[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[i_(g[0],1),i_(g[1],1)]}},a.prototype.calculate=function(){var i,j,c=this._isOrdinal,d=this._dataMin,f=this._dataMax,e=this._axisDataLen,k=this._boundaryGapInner,l=c?null:f-d||Math.abs(d),a="dataMin"===this._modelMinRaw?d:this._modelMinNum,b="dataMax"===this._modelMaxRaw?f:this._modelMaxNum,g=null!=a,h=null!=b;null==a&&(a=c?e?0:NaN:d-k[0]*l),null==b&&(b=c?e?e-1:NaN:f+k[1]*l),null!=a&&isFinite(a)||(a=NaN),null!=b&&isFinite(b)||(b=NaN);var o=(i=a)!=i||(j=b)!=j||c&&!e;this._needCrossZero&&(a>0&&b>0&&!g&&(a=0),a<0&&b<0&&!h&&(b=0));var m=this._determinedMin,n=this._determinedMax;return null!=m&&(a=m,g=!0),null!=n&&(b=n,h=!0),{min:a,max:b,minFixed:g,maxFixed:h,isBlank:o}},a.prototype.modifyDataMinMax=function(a,b){this[wO[a]]=b},a.prototype.setDeterminedMinMax=function(a,b){var c;this[wN[a]]=b},a.prototype.freeze=function(){this.frozen=!0},a}(),wN={min:"_determinedMin",max:"_determinedMax"},wO={min:"_dataMin",max:"_dataMax"};function wP(b,c,d){var a=b.rawExtentInfo;return a||(a=new wM(b,c,d),b.rawExtentInfo=a),a}function wQ(c,a){var b;return null==a?null:(b=a)!=b?NaN:c.parse(a)}function wR(b,c){var i=b.type,a=wP(b,c,b.getExtent()).calculate();b.setBlank(a.isBlank);var d=a.min,e=a.max,f=c.ecModel;if(f&&"time"===i){var g=vm("bar",f),k=!1;if(j(g,function(a){k=k||a.getBaseAxis()===c.axis}),k){var l=vn(g),h=wS(d,e,c,l);d=h.min,e=h.max}}return{extent:[d,e],fixMin:a.minFixed,fixMax:a.maxFixed}}function wS(c,d,f,l){var g=f.axis.getExtent(),m=g[1]-g[0],e=function e(b,c,d){if(b&&c){var a=b[vl(c)];return null!=a&&null!=d?a[vk(d)]:a}}(l,f.axis);if(void 0===e)return{min:c,max:d};var a=1/0;j(e,function(b){a=Math.min(b.offset,a)});var b=-1/0;j(e,function(a){b=Math.max(a.offset+a.width,b)}),a=Math.abs(a),b=Math.abs(b);var n,h=a+b,i=d-c,k=i/(1-(a+b)/m)-i;return d+=k*(b/h),c-=k*(a/h),{min:c,max:d}}function wT(a,h){var b=h,c=wR(a,b),d=c.extent,i=b.get("splitNumber");a instanceof wL&&(a.base=b.get("logBase"));var e=a.type,f=b.get("interval"),g="interval"===e||"time"===e;a.setExtent(d[0],d[1]),a.calcNiceExtent({splitNumber:i,fixMin:c.fixMin,fixMax:c.fixMax,minInterval:g?b.get("minInterval"):null,maxInterval:g?b.get("maxInterval"):null}),null!=f&&a.setInterval&&a.setInterval(f)}function wU(a,b){if(b=b||a.get("type"))switch(b){case"category":return new ws({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new wD({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(v.getClass(b)||b0)}}function wV(b){var c,d,e,a=b.getLabelModel().get("formatter"),f="category"===b.type?b.scale.getExtent()[0]:null;return"time"===b.scale.type?(c=a,function(a,d){return b.scale.getFormattedLabel(a,d,c)}):fT(a)?(d=a,function(c){var a=b.scale.getLabel(c);return d.replace("{value}",null!=a?a:"")}):cw(a)?(e=a,function(a,c){return null!=f&&(c=a.value-f),e(wW(b,a),c,null!=a.level?{level:a.level}:null)}):function(a){return b.scale.getLabel(a)}}function wW(a,b){return"category"===a.type?a.scale.getLabel(b):b.value}function wX(a,e){var b=e*Math.PI/180,c=a.width,d=a.height;return new as(a.x,a.y,c*Math.abs(Math.cos(b))+Math.abs(d*Math.sin(b)),c*Math.abs(Math.sin(b))+Math.abs(d*Math.cos(b)))}function wY(b){var a=b.get("interval");return null==a?"auto":a}function wZ(a){return"category"===a.type&&0===wY(a.getLabelModel())}function w$(a,b){var c={};return j(a.mapDimensionsAll(b),function(b){c[uE(a,b)]=!0}),ap(c)}var dE=function(){function a(a){this.type="cartesian",this._dimList=[],this._axes={},this.name=a||""}return a.prototype.getAxis=function(a){return this._axes[a]},a.prototype.getAxes=function(){return Y(this._dimList,function(a){return this._axes[a]},this)},a.prototype.getAxesByScale=function(a){return a=a.toLowerCase(),fS(this.getAxes(),function(b){return b.scale.type===a})},a.prototype.addAxis=function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},a}(),w_=["x","y"];function w0(a){return"interval"===a.type||"time"===a.type}var w1=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=w_,a}return cp(a,b),a.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var d=this.getAxis("x").scale,e=this.getAxis("y").scale;if(w0(d)&&w0(e)){var a=d.getExtent(),b=e.getExtent(),c=this.dataToPoint([a[0],b[0]]),f=this.dataToPoint([a[1],b[1]]),g=a[1]-a[0],h=b[1]-b[0];if(g&&h){var i=(f[0]-c[0])/g,j=(f[1]-c[1])/h,k=c[0]-a[0]*i,l=c[1]-b[0]*j,m=this._transform=[i,0,0,j,k,l];this._invTransform=iE([],m)}}},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},a.prototype.containPoint=function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},a.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},a.prototype.containZone=function(c,d){var a=this.dataToPoint(c),b=this.dataToPoint(d),e=this.getArea(),f=new as(a[0],a[1],b[0]-a[0],b[1]-a[1]);return e.intersect(f)},a.prototype.dataToPoint=function(b,e,a){a=a||[];var c=b[0],d=b[1];if(this._transform&&null!=c&&isFinite(c)&&null!=d&&isFinite(d))return cC(a,b,this._transform);var f=this.getAxis("x"),g=this.getAxis("y");return a[0]=f.toGlobalCoord(f.dataToCoord(c,e)),a[1]=g.toGlobalCoord(g.dataToCoord(d,e)),a},a.prototype.clampData=function(d,a){var e=this.getAxis("x").scale,f=this.getAxis("y").scale,b=e.getExtent(),c=f.getExtent(),g=e.parse(d[0]),h=f.parse(d[1]);return(a=a||[])[0]=Math.min(Math.max(Math.min(b[0],b[1]),g),Math.max(b[0],b[1])),a[1]=Math.min(Math.max(Math.min(c[0],c[1]),h),Math.max(c[0],c[1])),a},a.prototype.pointToData=function(b,c){var a=[];if(this._invTransform)return cC(a,b,this._invTransform);var d=this.getAxis("x"),e=this.getAxis("y");return a[0]=d.coordToData(d.toLocalCoord(b[0]),c),a[1]=e.coordToData(e.toLocalCoord(b[1]),c),a},a.prototype.getOtherAxis=function(a){return this.getAxis("x"===a.dim?"y":"x")},a.prototype.getArea=function(){var a=this.getAxis("x").getGlobalExtent(),b=this.getAxis("y").getGlobalExtent(),c=Math.min(a[0],a[1]),d=Math.min(b[0],b[1]),e=Math.max(a[0],a[1])-c,f=Math.max(b[0],b[1])-d;return new as(c,d,e,f)},a}(dE),w2=a();function w3(b,f){var c,d,e=w4(b,"labels"),a=wY(f),g=w5(e,a);return g||(cw(a)?c=xa(b,a):(d="auto"===a?w7(b):a,c=w9(b,d)),w6(e,a,{labels:c,labelCategoryInterval:d}))}function w4(a,b){return w2(a)[b]||(w2(a)[b]=[])}function w5(b,c){for(var a=0;a<b.length;a++)if(b[a].key===c)return b[a].value}function w6(b,c,a){return b.push({key:c,value:a}),a}function w7(a){var b=w2(a).autoInterval;return null!=b?b:w2(a).autoInterval=a.calculateCategoryInterval()}function w8(a){var b=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function w9(d,i,o){var p=wV(d),f=d.scale,a=f.getExtent(),g=d.getLabelModel(),j=[],b=Math.max((i||0)+1,1),c=a[0],k=f.count();0!==c&&b>1&&k/b>2&&(c=Math.round(Math.ceil(c/b)*b));var h=wZ(d),l=g.get("showMinLabel")||h,m=g.get("showMaxLabel")||h;l&&c!==a[0]&&n(a[0]);for(var e=c;e<=a[1];e+=b)n(e);function n(a){var b={value:a};j.push(o?a:{formattedLabel:p(b),rawLabel:f.getLabel(b),tickValue:a})}return m&&e-b!==a[1]&&n(a[1]),j}function xa(a,d,e){var b=a.scale,f=wV(a),c=[];return j(b.getTicks(),function(a){var g=b.getLabel(a),h=a.value;d(a.value,g)&&c.push(e?h:{formattedLabel:f(a),rawLabel:g,tickValue:h})}),c}var xb=[0,1],dF=function(){function a(a,b,c){this.onBand=!1,this.inverse=!1,this.dim=a,this.scale=b,this._extent=c||[0,0]}return a.prototype.contain=function(b){var a=this._extent,c=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return b>=c&&b<=d},a.prototype.containData=function(a){return this.scale.contain(a)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(a){return jh(a||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(b,c){var a=this._extent;a[0]=b,a[1]=c},a.prototype.dataToCoord=function(a,d){var b=this._extent,c=this.scale;return a=c.normalize(a),this.onBand&&"ordinal"===c.type&&xc(b=b.slice(),c.count()),bb(a,xb,b,d)},a.prototype.coordToData=function(c,d){var a=this._extent,b=this.scale;this.onBand&&"ordinal"===b.type&&xc(a=a.slice(),b.count());var e=bb(c,a,xb,d);return this.scale.scale(e)},a.prototype.pointToData=function(a,b){},a.prototype.getTicksCoords=function(b){var a,c,d=(b=b||{}).tickModel||this.getTickModel(),f=(a=this,c=d,"category"===a.type?function i(a,e){var c,d,f=w4(a,"ticks"),b=wY(e),g=w5(f,b);if(g)return g;if((!e.get("show")||a.scale.isBlank())&&(c=[]),cw(b))c=xa(a,b,!0);else if("auto"===b){var h=w3(a,a.getLabelModel());d=h.labelCategoryInterval,c=Y(h.labels,function(a){return a.tickValue})}else c=w9(a,d=b,!0);return w6(f,b,{ticks:c,tickCategoryInterval:d})}(a,c):{ticks:Y(a.scale.getTicks(),function(a){return a.value})}).ticks,e=Y(f,function(a){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this),g=d.get("alignWithLabel");return xd(this,e,g,b.clamp),e},a.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var b,a=this.model.getModel("minorTick").get("splitNumber");return a>0&&a<100||(a=5),Y(this.scale.getMinorTicks(a),function(a){return Y(a,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},a.prototype.getViewLabels=function(){var a,b,c,d,e,f,g;return(a=this,"category"===a.type?(b=a,c=b.getLabelModel(),d=w3(b,c),!c.get("show")||b.scale.isBlank()?{labels:[],labelCategoryInterval:d.labelCategoryInterval}:d):(e=a,f=e.scale.getTicks(),g=wV(e),{labels:Y(f,function(a,b){return{level:a.level,formattedLabel:g(a,b),rawLabel:e.scale.getLabel(a),tickValue:a.value}})})).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var b=this._extent,c=this.scale.getExtent(),a=c[1]-c[0]+(this.onBand?1:0);0===a&&(a=1);var d=Math.abs(b[1]-b[0]);return Math.abs(d)/a},a.prototype.calculateCategoryInterval=function(){return function(b){var i=w8(b),v=wV(b),n=(i.axisRotate-i.labelRotate)/180*Math.PI,o=b.scale,e=o.getExtent(),f=o.count();if(e[1]-e[0]<1)return 0;var p=1;f>40&&(p=Math.max(1,Math.floor(f/40)));for(var c=e[0],q=b.dataToCoord(c+1)-b.dataToCoord(c),w=Math.abs(q*Math.cos(n)),x=Math.abs(q*Math.sin(n)),j=0,k=0;c<=e[1];c+=p){var r=0,s=0,t=iX(v({value:c}),i.font,"center","top");r=1.3*t.width,s=1.3*t.height,j=Math.max(j,r,7),k=Math.max(k,s,7)}var l=j/w,m=k/x;isNaN(l)&&(l=1/0),isNaN(m)&&(m=1/0);var d=Math.max(0,Math.floor(Math.min(l,m))),a=w2(b.model),g=b.getExtent(),h=a.lastAutoInterval,u=a.lastTickCount;return null!=h&&null!=u&&1>=Math.abs(h-d)&&1>=Math.abs(u-f)&&h>d&&a.axisExtent0===g[0]&&a.axisExtent1===g[1]?d=h:(a.lastTickCount=f,a.lastAutoInterval=d,a.axisExtent0=g[0],a.axisExtent1=g[1]),d}(this)},a}();function xc(a,c){var d,b=(a[1]-a[0])/c/2;a[0]+=b,a[1]-=b}function xd(f,a,h,e){var c,g,d=a.length;if(f.onBand&&!h&&d){var b=f.getExtent();if(1===d)a[0].coord=b[0],c=a[1]={coord:b[0]};else{var i=a[d-1].tickValue-a[0].tickValue,k=(a[d-1].coord-a[0].coord)/i;j(a,function(a){a.coord-=k/2});var l=f.scale.getExtent();g=1+l[1]-a[d-1].tickValue,c={coord:a[d-1].coord+k*g},a.push(c)}var m=b[0]>b[1];n(a[0].coord,b[0])&&(e?a[0].coord=b[0]:a.shift()),e&&n(b[0],a[0].coord)&&a.unshift({coord:b[0]}),n(b[1],c.coord)&&(e?c.coord=b[1]:a.pop()),e&&n(c.coord,b[1])&&a.push({coord:b[1]})}function n(a,b){return a=au(a),b=au(b),m?a>b:a<b}}var o=dF,xe=function(b){function a(c,d,e,f,g){var a=b.call(this,c,d,e)||this;return a.index=0,a.type=f||"value",a.position=g||"bottom",a}return cp(a,b),a.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},a.prototype.getGlobalExtent=function(b){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),b&&a[0]>a[1]&&a.reverse(),a},a.prototype.pointToData=function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},a.prototype.setCategorySortInfo=function(a){if("category"!==this.type)return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},a}(o);function xf(o,e,j){j=j||{};var p=o.coordinateSystem,k=e.axis,a={},f=k.getAxesOnZeroOf()[0],l=k.position,m=f?"onZero":l,h=k.dim,c=p.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],g={left:0,right:1,top:0,bottom:1,onZero:2},i=e.get("offset")||0,b="x"===h?[d[2]-i,d[3]+i]:[d[0]-i,d[1]+i];if(f){var q=f.toGlobalCoord(f.dataToCoord(0));b[g.onZero]=Math.max(Math.min(q,b[1]),b[0])}a.position=["y"===h?b[g[m]]:d[0],"x"===h?b[g[m]]:d[3]],a.rotation=Math.PI/2*("x"===h?0:1),a.labelDirection=a.tickDirection=a.nameDirection=({top:-1,bottom:1,left:-1,right:1})[l],a.labelOffset=f?b[g[l]]-b[g.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),cx(j.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var n=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===m?-n:n,a.z2=1,a}function xg(a){return"cartesian2d"===a.get("coordinateSystem")}function xh(b){var a={xAxisModel:null,yAxisModel:null};return j(a,function(f,c){var d=c.replace(/Model$/,""),e=b.getReferringComponents(d,jR).models[0];a[c]=e}),a}var xi=Math.log;function xj(c,t,j){var g=b0.prototype,k=g.getTicks.call(j),n=g.getTicks.call(j,!0),e=k.length-1,o=g.getInterval.call(j),l=wR(c,t),a=l.extent,h=l.fixMin,i=l.fixMax;if("log"===c.type){var p=xi(c.base);a=[xi(a[0])/p,xi(a[1])/p]}c.setExtent(a[0],a[1]),c.calcNiceExtent({splitNumber:e,fixMin:h,fixMax:i});var q=g.getExtent.call(c);h&&(a[0]=q[0]),i&&(a[1]=q[1]);var b=g.getInterval.call(c),f=a[0],d=a[1];if(h&&i)b=(d-f)/e;else if(h)for(d=a[0]+b*e;d<a[1]&&isFinite(d)&&isFinite(a[1]);)b=wm(b),d=a[0]+b*e;else if(i)for(f=a[1]-b*e;f>a[0]&&isFinite(f)&&isFinite(a[0]);)b=wm(b),f=a[1]-b*e;else{c.getTicks().length-1>e&&(b=wm(b));var m=b*e;(f=au((d=Math.ceil(a[1]/b)*b)-m))<0&&a[0]>=0?(f=0,d=au(m)):d>0&&a[1]<=0&&(d=0,f=-au(m))}var r=(k[0].value-n[0].value)/o,s=(k[e].value-n[e].value)/o;g.setExtent.call(c,f+b*r,d+b*s),g.setInterval.call(c,b),(r||s)&&g.setNiceExtent.call(c,f+b,d-b)}var dG=function(){function a(a,b,c){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=w_,this._initCartesian(a,b,c),this.model=a}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(c,d){var a=this._axesMap;function b(g){var a,h=ap(g),i=h.length;if(i){for(var b=[],d=i-1;d>=0;d--){var c=g[+h[d]],e=c.model,f=c.scale;wl(f)&&e.get("alignTicks")&&null==e.get("interval")?b.push(c):(wT(f,e),wl(f)&&(a=c))}b.length&&(a||wT((a=b.pop()).scale,a.model),j(b,function(b){xj(b.scale,b.model,a.scale)}))}}this._updateScale(c,this.model),b(a.x),b(a.y);var e={};j(a.x,function(b){xl(a,"y",b,e)}),j(a.y,function(b){xl(a,"x",b,e)}),this.resize(this.model,d)},a.prototype.resize=function(a,b,d){var e=a.getBoxLayoutParams(),f=!d&&a.get("containLabel"),g=nw(e,{width:b.getWidth(),height:b.getHeight()});this._rect=g;var h=this._axesList;function c(){j(h,function(a){var b=a.isHorizontal(),c=b?[0,g.width]:[0,g.height],d=a.inverse?1:0;a.setExtent(c[d],c[1-d]),xn(a,b?g.x:g.y)})}c(),f&&(j(h,function(a){if(!a.model.get(["axisLabel","inside"])){var b=function(c){var f,d,e,j=c.model,a=c.scale;if(!(!j.get(["axisLabel","show"])||a.isBlank())){var k=a.getExtent();d=a instanceof ws?a.count():(f=a.getTicks()).length;var g=c.getLabelModel(),l=wV(c),h=1;d>40&&(h=Math.ceil(d/40));for(var b=0;b<d;b+=h){var m=l(f?f[b]:{value:k[0]+b},b),n=g.getTextRect(m),i=wX(n,g.get("rotate")||0);e?e.union(i):e=i}return e}}(a);if(b){var d=a.isHorizontal()?"height":"width",c=a.model.get(["axisLabel","margin"]);g[d]-=b[d]+c,"top"===a.position?g.y+=b.height+c:"left"===a.position&&(g.x+=b.width+c)}}}),c()),j(this._coordsList,function(a){a.calcAffineTransform()})},a.prototype.getAxis=function(b,c){var a=this._axesMap[b];if(null!=a)return a[c||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(a,c){if(null!=a&&null!=c){var e="x"+a+"y"+c;return this._coordsMap[e]}aq(a)&&(c=a.yAxisIndex,a=a.xAxisIndex);for(var b=0,d=this._coordsList;b<d.length;b++)if(d[b].getAxis("x").index===a||d[b].getAxis("y").index===c)return d[b]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(d,c,b){var a=this._findConvertTarget(c);return a.cartesian?a.cartesian.dataToPoint(b):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(b)):null},a.prototype.convertFromPixel=function(d,c,b){var a=this._findConvertTarget(c);return a.cartesian?a.cartesian.pointToData(b):a.axis?a.axis.coordToData(a.axis.toLocalCoord(b)):null},a.prototype._findConvertTarget=function(c){var b,f,a=c.seriesModel,d=c.xAxisModel||a&&a.getReferringComponents("xAxis",jR).models[0],e=c.yAxisModel||a&&a.getReferringComponents("yAxis",jR).models[0],g=c.gridModel,h=this._coordsList;return a?0>fQ(h,b=a.coordinateSystem)&&(b=null):d&&e?b=this.getCartesian(d.componentIndex,e.componentIndex):d?f=this.getAxis("x",d.componentIndex):e?f=this.getAxis("y",e.componentIndex):g&&g.coordinateSystem===this&&(b=this._coordsList[0]),{cartesian:b,axis:f}},a.prototype.containPoint=function(b){var a=this._coordsList[0];if(a)return a.containPoint(b)},a.prototype._initCartesian=function(d,a,e){var f=this,g=this,h={left:!1,right:!1,top:!1,bottom:!1},b={x:{},y:{}},c={x:0,y:0};if(a.eachComponent("xAxis",i("x"),this),a.eachComponent("yAxis",i("y"),this),!c.x||!c.y){this._axesMap={},this._axesList=[];return}function i(a){return function(f,j){if(xk(f,d)){var i=f.get("position");"x"===a?"top"!==i&&"bottom"!==i&&(i=h.bottom?"top":"bottom"):"left"!==i&&"right"!==i&&(i=h.left?"right":"left"),h[i]=!0;var e=new xe(a,wU(f),[0,0],f.get("type"),i),k="category"===e.type;e.onBand=k&&f.get("boundaryGap"),e.inverse=f.get("inverse"),f.axis=e,e.model=f,e.grid=g,e.index=j,g._axesList.push(e),b[a][j]=e,c[a]++}}}this._axesMap=b,j(b.x,function(a,c){j(b.y,function(g,h){var e="x"+c+"y"+h,b=new w1(e);b.master=f,b.model=d,f._coordsMap[e]=b,f._coordsList.push(b),b.addAxis(a),b.addAxis(g)})})},a.prototype._updateScale=function(a,b){function c(a,b){j(w$(a,b.dim),function(c){b.scale.unionExtentFromData(a,c)})}j(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),"category"===a.type){var b=a.model.get("categorySortInfo");a.scale.setSortInfo(b)}}),a.eachSeries(function(a){if(xg(a)){var d=xh(a),e=d.xAxisModel,f=d.yAxisModel;if(xk(e,b)&&xk(f,b)){var g=this.getCartesian(e.componentIndex,f.componentIndex),h=a.getData(),i=g.getAxis("x"),j=g.getAxis("y");c(h,i),c(h,j)}}},this)},a.prototype.getTooltipAxes=function(c){var a=[],b=[];return j(this.getCartesians(),function(d){var e=null!=c&&"auto"!==c?d.getAxis(c):d.getBaseAxis(),f=d.getOtherAxis(e);0>fQ(a,e)&&a.push(e),0>fQ(b,f)&&b.push(f)}),{baseAxes:a,otherAxes:b}},a.create=function(b,d){var c=[];return b.eachComponent("grid",function(f,g){var e=new a(f,b,d);e.name="grid_"+g,e.resize(f,d,!0),f.coordinateSystem=e,c.push(e)}),b.eachSeries(function(a){if(xg(a)){var f,b=xh(a),c=b.xAxisModel,d=b.yAxisModel,e=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=e.getCartesian(c.componentIndex,d.componentIndex)}}),c},a.dimensions=w_,a}();function xk(a,b){return a.getCoordSysModel()===b}function xl(h,i,e,f){e.getAxesOnZeroOf=function(){return b?[b]:[]};var b,a=h[i],g=e.model,j=g.get(["axisLine","onZero"]),d=g.get(["axisLine","onZeroAxisIndex"]);if(j){if(null!=d)xm(a[d])&&(b=a[d]);else for(var c in a)if(a.hasOwnProperty(c)&&xm(a[c])&&!f[k(a[c])]){b=a[c];break}b&&(f[k(b)]=!0)}function k(a){return a.dim+"_"+a.index}}function xm(a){var e,d,b,c;return a&&"category"!==a.type&&"time"!==a.type&&(b=(d=(e=a).scale.getExtent())[0],c=d[1],!(b>0&&c>0||b<0&&c<0))}function xn(a,c){var b=a.getExtent(),d=b[0]+b[1];a.toGlobalCoord="x"===a.dim?function(a){return a+c}:function(a){return d-a+c},a.toLocalCoord="x"===a.dim?function(a){return a-c}:function(a){return d-a+c}}var xo=dG,xp=Math.PI,dH=function(){function a(c,a){this.group=new t,this.opt=a,this.axisModel=c,x(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var b=new t({x:a.position[0],y:a.position[1],rotation:a.rotation});b.updateTransform(),this._transformGroup=b}return a.prototype.hasBuilder=function(a){return!!xq[a]},a.prototype.add=function(a){xq[a](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(e,f,b){var c,d,a=jj(f-e);return jk(a)?(d=b>0?"top":"bottom",c="center"):jk(a-xp)?(d=b>0?"bottom":"top",c="center"):(d="middle",c=a>0&&a<xp?b>0?"right":"left":b>0?"left":"right"),{rotation:a,textAlign:c,textVerticalAlign:d}},a.makeAxisEventDataBase=function(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+"Index"]=a.componentIndex,b},a.isLabelSilent=function(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)},a}(),xq={axisLine:function(e,d,m,n){var g=d.get(["axisLine","show"]);if("auto"===g&&e.handleAutoShown&&(g=e.handleAutoShown("axisLine")),g){var i=d.axis.getExtent(),h=n.transform,a=[i[0],0],b=[i[1],0];h&&(cC(a,a,h),cC(b,b,h));var o=fP({lineCap:"round"},d.getModel(["axisLine","lineStyle"]).getLineStyle()),k=new aO({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:b[0],y2:b[1]},style:o,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});k.anid="line",m.add(k);var f=d.get(["axisLine","symbol"]);if(null!=f){var c=d.get(["axisLine","symbolSize"]);fT(f)&&(f=[f,f]),(fT(c)||fV(c))&&(c=[c,c]);var l=rO(d.get(["axisLine","symbolOffset"])||0,c),p=c[0],q=c[1];j([{rotate:e.rotation+Math.PI/2,offset:l[0],r:0},{rotate:e.rotation-Math.PI/2,offset:l[1],r:Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}],function(b,c){if("none"!==f[c]&&null!=f[c]){var d=rM(f[c],-p/2,-q/2,p,q,o.stroke,!0),g=b.r+b.offset;d.attr({rotation:b.rotate,x:a[0]+g*Math.cos(e.rotation),y:a[1]-g*Math.sin(e.rotation),silent:!0,z2:11}),m.add(d)}})}}},axisTickLabel:function(b,a,c,d){var f=xx(c,d,a,b),e=xz(c,d,a,b);if(xs(a,e,f),xy(c,d,a,b.tickDirection),a.get(["axisLabel","hideOverlap"])){var g=s6(Y(e,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}}));s9(g)}},axisName:function(b,a,q,r){var e,f,h=cx(b.axisName,a.get("name"));if(h){var i=a.get("nameLocation"),m=b.nameDirection,j=a.getModel("nameTextStyle"),k=a.get("nameGap")||0,d=a.axis.getExtent(),n=d[0]>d[1]?-1:1,o=["start"===i?d[0]-n*k:"end"===i?d[1]+n*k:(d[0]+d[1])/2,xv(i)?b.labelOffset+m*k:0],g=a.get("nameRotate");null!=g&&(g=g*xp/180),xv(i)?e=dH.innerTextLayout(b.rotation,null!=g?g:b.rotation,m):(e=xr(b.rotation,i,g||0,d),f=b.axisNameAvailableWidth,null!=f&&(isFinite(f=Math.abs(f/Math.sin(e.rotation)))||(f=null)));var s=j.getFont(),p=a.get("nameTruncate",!0)||{},t=p.ellipsis,u=cx(b.nameTruncateMaxWidth,p.maxWidth,f),c=new bh({x:o[0],y:o[1],rotation:e.rotation,silent:dH.isLabelSilent(a),style:mw(j,{text:h,font:s,overflow:"truncate",width:u,ellipsis:t,fill:j.getTextColor()||a.get(["axisLine","lineStyle","color"]),align:j.get("align")||e.textAlign,verticalAlign:j.get("verticalAlign")||e.textVerticalAlign}),z2:1});if(q1({el:c,componentModel:a,itemName:h}),c.__fullText=h,c.anid="name",a.get("triggerEvent")){var l=dH.makeAxisEventDataBase(a);l.targetType="axisName",l.name=h,lz(c).eventData=l}r.add(c),c.updateTransform(),q.add(c),c.decomposeTransform()}}};function xr(h,e,i,f){var b,c,a=jj(i-h),g=f[0]>f[1],d="start"===e&&!g||"start"!==e&&g;return jk(a-xp/2)?(c=d?"bottom":"top",b="center"):jk(a-1.5*xp)?(c=d?"top":"bottom",b="center"):(c="middle",b=a<1.5*xp&&a>xp/2?d?"left":"right":d?"right":"left"),{rotation:a,textAlign:b,textVerticalAlign:c}}function xs(c,b,a){if(!wZ(c.axis)){var f=c.get(["axisLabel","showMinLabel"]),g=c.get(["axisLabel","showMaxLabel"]);a=a||[];var d=(b=b||[])[0],h=b[1],e=b[b.length-1],i=b[b.length-2],j=a[0],l=a[1],k=a[a.length-1],m=a[a.length-2];!1===f?(xt(d),xt(j)):xu(d,h)&&(f?(xt(h),xt(l)):(xt(d),xt(j))),!1===g?(xt(e),xt(k)):xu(i,e)&&(g?(xt(i),xt(m)):(xt(e),xt(k)))}}function xt(a){a&&(a.ignore=!0)}function xu(a,c){var d=a&&a.getBoundingRect().clone(),e=c&&c.getBoundingRect().clone();if(d&&e){var b=cK([]);return iC(b,b,-a.rotation),d.applyTransform(iA([],b,a.getLocalTransform())),e.applyTransform(iA([],b,c.getLocalTransform())),d.intersect(e)}}function xv(a){return"middle"===a||"center"===a}function xw(d,e,i,j,k){for(var f=[],a=[],b=[],c=0;c<d.length;c++){var g=d[c].coord;a[0]=g,a[1]=0,b[0]=g,b[1]=i,e&&(cC(a,a,e),cC(b,b,e));var h=new aO({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:b[0],y2:b[1]},style:j,z2:2,autoBatch:!0,silent:!0});h.anid=k+"_"+d[c].tickValue,f.push(h)}return f}function xx(h,i,a,b){var g=a.axis,c=a.getModel("axisTick"),d=c.get("show");if("auto"===d&&b.handleAutoShown&&(d=b.handleAutoShown("axisTick")),!(!d||g.scale.isBlank())){for(var j=c.getModel("lineStyle"),k=b.tickDirection*c.get("length"),e=xw(g.getTicksCoords(),i.transform,k,x(j.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<e.length;f++)h.add(e[f]);return e}}function xy(h,i,a,j){var f=a.axis,c=a.getModel("minorTick");if(!(!c.get("show")||f.scale.isBlank())){var d=f.getMinorTicksCoords();if(d.length)for(var k=c.getModel("lineStyle"),l=j*c.get("length"),m=x(k.getLineStyle(),x(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),b=0;b<d.length;b++)for(var g=xw(d[b],i.transform,l,m,"minorticks_"+b),e=0;e<g.length;e++)h.add(g[e])}}function xz(h,i,a,b){var c=a.axis;if(!(!cx(b.axisLabelShow,a.get(["axisLabel","show"]))||c.scale.isBlank())){var d=a.getModel("axisLabel"),k=d.get("margin"),e=c.getViewLabels(),f=(cx(b.labelRotate,d.get("rotate"))||0)*xp/180,l=dH.innerTextLayout(b.rotation,f,b.labelDirection),m=a.getCategories&&a.getCategories(!0),g=[],n=dH.isLabelSilent(a),o=a.get("triggerEvent");return j(e,function(p,t){var e="ordinal"===c.scale.type?c.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,v=p.formattedLabel,u=p.rawLabel,j=d;if(m&&m[e]){var r=m[e];aq(r)&&r.textStyle&&(j=new _(r.textStyle,d,a.ecModel))}var s=j.getTextColor()||a.get(["axisLine","lineStyle","color"]),w=c.dataToCoord(e),f=new bh({x:w,y:b.labelOffset+b.labelDirection*k,rotation:l.rotation,silent:n,z2:10+(p.level||0),style:mw(j,{text:v,align:j.getShallow("align",!0)||l.textAlign,verticalAlign:j.getShallow("verticalAlign",!0)||j.getShallow("baseline",!0)||l.textVerticalAlign,fill:cw(s)?s("category"===c.type?u:"value"===c.type?e+"":e,t):s})});if(f.anid="label_"+e,o){var q=dH.makeAxisEventDataBase(a);q.targetType="axisLabel",q.value=u,q.tickIndex=t,"category"===c.type&&(q.dataIndex=e),lz(f).eventData=q}i.add(f),f.updateTransform(),g.push(f),h.add(f),f.decomposeTransform()}),g}}var xA=dH;function xB(d,h,i,k,l,e){var c=h.getModel("axisPointer"),a={};j(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(b){a[b]=ct(c.get(b))}),a.snap="category"!==d.type&&!!e,"cross"===c.get("type")&&(a.type="line");var b=a.label||(a.label={});if(null==b.show&&(b.show=!1),"cross"===l){var f=c.get(["label","show"]);if(b.show=null==f||f,!e){var g=a.lineStyle=c.get("crossStyle");g&&x(b,g.textStyle)}}return d.model.getModel("axisPointer",new _(a,i,k))}function xC(e,f){for(var b=f.model,c=f.dim,a=0;a<e.length;a++){var d=e[a]||{};if(xD(d[c+"AxisId"],b.id)||xD(d[c+"AxisIndex"],b.componentIndex)||xD(d[c+"AxisName"],b.name))return a}}function xD(a,b){return"all"===a||cv(a)&&fQ(a,b)>=0||a===b}function xE(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[xG(a)]}function xF(a){return!!a.get(["handle","show"])}function xG(a){return a.type+"||"+a.id}var xH={},aj=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,d,c,e){this.axisPointerClass&&function(h){var c=xE(h);if(c){var d=c.axisPointerModel,f=c.axis.scale,e=d.option,i=d.get("status"),a=d.get("value");null!=a&&(a=f.parse(a));var g=xF(d);null==i&&(e.status=g?"show":"hide");var b=f.getExtent().slice();b[0]>b[1]&&b.reverse(),(null==a||a>b[1])&&(a=b[1]),a<b[0]&&(a=b[0]),e.value=a,g&&(e.status=c.axis.scale.isBlank()?"hide":"show")}}(a),b.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,c,!0)},a.prototype.updateAxisPointer=function(a,c,b,d){this._doUpdateAxisPointerClass(a,b,!1)},a.prototype.remove=function(c,b){var a=this._axisPointer;a&&a.remove(b)},a.prototype.dispose=function(c,a){this._disposeAxisPointer(a),b.prototype.dispose.apply(this,arguments)},a.prototype._doUpdateAxisPointerClass=function(b,c,g){var d=a.getAxisPointerClass(this.axisPointerClass);if(d){var h,e,f=(e=xE(h=b))&&e.axisPointerModel;f?(this._axisPointer||(this._axisPointer=new d)).render(b,f,c,g):this._disposeAxisPointer(c)}},a.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},a.registerAxisPointerClass=function(a,b){xH[a]=b},a.getAxisPointerClass=function(a){return a&&xH[a]},a.type="axis",a}(g),xI=a();function xJ(n,w,o,y){var d=o.axis;if(!d.scale.isBlank()){var p=o.getModel("splitArea"),q=p.getModel("areaStyle"),c=q.get("color"),h=y.coordinateSystem.getRect(),b=d.getTicksCoords({tickModel:p,clamp:!0});if(b.length){var m=c.length,r=xI(n).splitAreaColors,t=s(),e=0;if(r)for(var a=0;a<b.length;a++){var u=r.get(b[a].tickValue);if(null!=u){e=(u+(m-1)*a)%m;break}}var i=d.toGlobalCoord(b[0].coord),A=q.getAreaStyle();c=cv(c)?c:[c];for(var a=1;a<b.length;a++){var v=d.toGlobalCoord(b[a].coord),f=void 0,g=void 0,j=void 0,k=void 0;d.isHorizontal()?(f=i,g=h.y,j=v-f,k=h.height,i=f+j):(f=h.x,g=i,j=h.width,k=v-g,i=g+k);var l=b[a-1].tickValue;null!=l&&t.set(l,e),w.add(new z({anid:null!=l?"area_"+l:null,shape:{x:f,y:g,width:j,height:k},style:x({fill:c[e]},A),autoBatch:!0,silent:!0})),e=(e+1)%m}xI(n).splitAreaColors=t}}}function xK(a){xI(a).splitAreaColors=null}var xL=["axisLine","axisTickLabel","axisName"],xM=["splitArea","splitLine","minorSplitLine"],b4=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.axisPointerClass="CartesianAxisPointer",c}return cp(a,b),a.prototype.render=function(a,e,f,c){this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new t,this.group.add(this._axisGroup),a.get("show")){var h=a.getCoordSysModel(),i=xf(h,a),d=new xA(a,fP({handleAutoShown:function(d){for(var c=h.coordinateSystem.getCartesians(),b=0;b<c.length;b++)if(wl(c[b].getOtherAxis(a.axis).scale))return!0;return!1}},i));j(xL,d.add,d),this._axisGroup.add(d.getGroup()),j(xM,function(b){a.get([b,"show"])&&xN[b](this,this._axisGroup,a,h)},this),c&&"changeAxisOrder"===c.type&&c.isInitSort||qW(g,this._axisGroup,a),b.prototype.render.call(this,a,e,f,c)}},a.prototype.remove=function(){xK(this)},a.type="cartesianAxis",a}(aj),xN={splitLine:function(s,l,i,m){var f=i.axis;if(!f.scale.isBlank()){var j=i.getModel("splitLine"),k=j.getModel("lineStyle"),a=k.get("color");a=cv(a)?a:[a];for(var b=m.coordinateSystem.getRect(),n=f.isHorizontal(),o=0,g=f.getTicksCoords({tickModel:j}),c=[],d=[],p=k.getLineStyle(),e=0;e<g.length;e++){var h=f.toGlobalCoord(g[e].coord);n?(c[0]=h,c[1]=b.y,d[0]=h,d[1]=b.y+b.height):(c[0]=b.x,c[1]=h,d[0]=b.x+b.width,d[1]=h);var q=(o++)%a.length,r=g[e].tickValue;l.add(new aO({anid:null!=r?"line_"+g[e].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:x({stroke:a[q]},p),silent:!0}))}}},minorSplitLine:function(o,j,i,k){var h=i.axis,l=i.getModel("minorSplitLine").getModel("lineStyle"),a=k.coordinateSystem.getRect(),m=h.isHorizontal(),d=h.getMinorTicksCoords();if(d.length)for(var b=[],c=[],n=l.getLineStyle(),e=0;e<d.length;e++)for(var f=0;f<d[e].length;f++){var g=h.toGlobalCoord(d[e][f].coord);m?(b[0]=g,b[1]=a.y,c[0]=g,c[1]=a.y+a.height):(b[0]=a.x,b[1]=g,c[0]=a.x+a.width,c[1]=g),j.add(new aO({anid:"minor_line_"+d[e][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:c[0],y2:c[1]},style:n,silent:!0}))}},splitArea:function(a,b,c,d){xJ(a,b,c,d)}},xO=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="xAxis",a}(b4),xP=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type=xO.type,a}return cp(a,b),a.type="yAxis",a}(b4),xQ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="grid",a}return cp(a,b),a.prototype.render=function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new z({shape:a.coordinateSystem.getRect(),style:x({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},a.type="grid",a}(g),xR={offset:0};function xS(a){a.registerComponentView(xQ),a.registerComponentModel(we),a.registerCoordinateSystem("cartesian2d",xo),wj(a,"x",dy,xR),wj(a,"y",dy,xR),a.registerComponentView(xO),a.registerComponentView(xP),a.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})}function xT(a){a.eachSeriesByType("radar",function(a){var c=a.getData(),e=[],b=a.coordinateSystem;if(b){var d=b.getIndicatorAxes();j(d,function(f,a){c.each(c.mapDimension(d[a].dim),function(f,c){e[c]=e[c]||[];var d=b.dataToPoint(f,a);e[c][a]=xU(d)?d:xV(b)})}),c.each(function(a){var d=function(a,c,e){if(a&&c){for(var b=0,d=a.length;b<d;b++)if(c.call(void 0,a[b],b,a))return a[b]}}(e[a],function(a){return xU(a)})||xV(b);e[a].push(d.slice()),c.setItemLayout(a,e[a])})}})}function xU(a){return!isNaN(a[0])&&!isNaN(a[1])}function xV(a){return[a.cx,a.cy]}function xW(b){var a=b.polar;if(a){cv(a)||(a=[a]);var c=[];j(a,function(a,d){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),b.radar=b.radar||[],cv(b.radar)||(b.radar=[b.radar]),b.radar.push(a)):c.push(a)}),b.polar=c}j(b.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var xX=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,d,e){var f=b.coordinateSystem,g=this.group,a=b.getData(),c=this._data;function h(a,b){var c=a.getItemVisual(b,"symbol")||"circle";if("none"!==c){var d=rN(a.getItemVisual(b,"symbolSize")),e=rM(c,-1,-1,2,2),f=a.getItemVisual(b,"symbolRotate")||0;return e.attr({style:{strokeNoScale:!0},z2:100,scaleX:d[0]/2,scaleY:d[1]/2,rotation:f*Math.PI/180||0}),e}}function i(e,d,f,i,g,j){f.removeAll();for(var a=0;a<d.length-1;a++){var c=h(i,g);c&&(c.__dimIdx=a,e[a]?(c.setPosition(e[a]),a3[j?"initProps":"updateProps"](c,{x:d[a][0],y:d[a][1]},b,g)):c.setPosition(d[a]),f.add(c))}}function k(a){return Y(a,function(a){return[f.cx,f.cy]})}a.diff(c).add(function(c){var d=a.getItemLayout(c);if(d){var g=new bA,e=new c8,h={shape:{points:d}};g.shape.points=k(d),e.shape.points=k(d),ml(g,h,b,c),ml(e,h,b,c);var f=new t,j=new t;f.add(e),f.add(g),f.add(j),i(e.shape.points,d,j,a,c,!0),a.setItemGraphicEl(c,f)}}).update(function(f,j){var d=c.getItemGraphicEl(j),g=d.childAt(0),h=d.childAt(1),k=d.childAt(2),e={shape:{points:a.getItemLayout(f)}};e.shape.points&&(i(g.shape.points,e.shape.points,k,a,f,!1),mq(h),mq(g),mk(g,e,b),mk(h,e,b),a.setItemGraphicEl(f,d))}).remove(function(a){g.remove(c.getItemGraphicEl(a))}).execute(),a.eachItemGraphicEl(function(b,h){var c=a.getItemModel(h),i=b.childAt(0),e=b.childAt(1),m=b.childAt(2),k=a.getItemVisual(h,"style"),l=k.fill;g.add(b),i.useStyle(x(c.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),mc(i,c,"lineStyle"),mc(e,c,"areaStyle");var f=c.getModel("areaStyle"),n=f.isEmpty()&&f.parentModel.isEmpty();e.ignore=n,j(["emphasis","select","blur"],function(a){var b=c.getModel([a,"areaStyle"]),d=b.isEmpty()&&b.parentModel.isEmpty();e.ensureState(a).ignore=d&&n}),e.useStyle(x(f.getAreaStyle(),{fill:l,opacity:.7,decal:k.decal}));var d=c.getModel("emphasis"),o=d.getModel("itemStyle").getItemStyle();m.eachChild(function(b){if(b instanceof cU){var d=b.style;b.useStyle(fP({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},k))}else b.useStyle(k),b.setColor(l),b.style.strokeNoScale=!0;b.ensureState("emphasis").style=ct(o);var e=a.getStore().get(a.getDimensionIndex(b.__dimIdx),h);(null==e||isNaN(e))&&(e=""),mu(b,mv(c),{labelFetcher:a.hostModel,labelDataIndex:h,labelDimIndex:b.__dimIdx,defaultText:e,inheritColor:l,defaultOpacity:k.opacity})}),l8(b,d.get("focus"),d.get("blurScope"),d.get("disabled"))}),this._data=a},a.prototype.remove=function(){this.group.removeAll(),this._data=null},a.type="radar",a}(f),xY=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c}return cp(a,b),a.prototype.init=function(a){b.prototype.init.apply(this,arguments),this.legendVisualProvider=new v7(cu(this.getData,this),cu(this.getRawData,this))},a.prototype.getInitialData=function(a,b){return v6(this,{generateCoord:"indicator_",generateCoordCount:1/0})},a.prototype.formatTooltip=function(a,e,f){var g=this.getData(),c=this.coordinateSystem.getIndicatorAxes(),b=this.getData().getName(a),d=""===b?this.name:b,h=py(this,a);return pl("section",{header:d,sortBlocks:!0,blocks:Y(c,function(b){var c=g.get(g.mapDimension(b.dim),a);return pl("nameValue",{markerType:"subItem",markerColor:h,name:b.name,value:c,sortParam:c})})})},a.prototype.getTooltipPosition=function(d){if(null!=d){for(var e=this.getData(),b=this.coordinateSystem,c=e.getValues(Y(b.dimensions,function(a){return e.mapDimension(a)}),d),a=0,f=c.length;a<f;a++)if(!isNaN(c[a])){var g=b.getIndicatorAxes();return b.coordToPoint(g[a].dataToCoord(c[a]),a)}}},a.type="series.radar",a.dependencies=["radar"],a.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},a}(e),xZ=dC.value;function x$(a,b){return x({show:b},a)}var x_=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.optionUpdated=function(){var b=this.get("boundaryGap"),c=this.get("splitNumber"),d=this.get("scale"),e=this.get("axisLine"),f=this.get("axisTick"),g=this.get("axisLabel"),i=this.get("axisName"),j=this.get(["axisName","show"]),k=this.get(["axisName","formatter"]),l=this.get("axisNameGap"),m=this.get("triggerEvent"),a=Y(this.get("indicator")||[],function(a){null!=a.max&&a.max>0&&!a.min?a.min=0:null!=a.min&&a.min<0&&!a.max&&(a.max=0);var p=i;null!=a.color&&(p=x({color:a.color},i));var n=an(ct(a),{boundaryGap:b,splitNumber:c,scale:d,axisLine:e,axisTick:f,axisLabel:g,name:a.text,showName:j,nameLocation:"end",nameGap:l,nameTextStyle:p,triggerEvent:m},!1);if(fT(k)){var q=n.name;n.name=k.replace("{value}",null!=q?q:"")}else cw(k)&&(n.name=k(n.name,n));var o=new _(n,null,this.ecModel);return h(o,ai.prototype),o.mainType="radar",o.componentIndex=this.componentIndex,o},this);this._indicatorModels=a},a.prototype.getIndicatorModels=function(){return this._indicatorModels},a.type="radar",a.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:an({lineStyle:{color:"#bbb"}},xZ.axisLine),axisLabel:x$(xZ.axisLabel,!1),axisTick:x$(xZ.axisTick,!1),splitLine:x$(xZ.splitLine,!0),splitArea:x$(xZ.splitArea,!0),indicator:[]},a}(d),x0=["axisLine","axisTickLabel","axisName"],x1=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,b,c){this.group.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},a.prototype._buildAxes=function(a){var b=a.coordinateSystem,c=Y(b.getIndicatorAxes(),function(a){var c=a.model.get("showName")?a.name:"";return new xA(a.model,{axisName:c,position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});j(c,function(a){j(x0,a.add,a),this.group.add(a.getGroup())},this)},a.prototype._buildSplitLineAndArea=function(g){var i=g.coordinateSystem,h=i.getIndicatorAxes();if(h.length){var z=g.get("shape"),o=g.getModel("splitLine"),p=g.getModel("splitArea"),q=o.getModel("lineStyle"),r=p.getModel("areaStyle"),s=o.get("show"),t=p.get("show"),k=q.get("color"),l=r.get("color"),u=cv(k)?k:[k],v=cv(l)?l:[l],d=[],e=[];if("circle"===z)for(var f=h[0].getTicksCoords(),w=i.cx,y=i.cy,a=0;a<f.length;a++){if(s){var b=E(d,u,a);d[b].push(new aM({shape:{cx:w,cy:y,r:f[a].coord}}))}if(t&&a<f.length-1){var b=E(e,v,a);e[b].push(new c7({shape:{cx:w,cy:y,r0:f[a].coord,r:f[a+1].coord}}))}}else for(var A,B=Y(h,function(b,c){var a=b.getTicksCoords();return A=null==A?a.length-1:Math.min(a.length-1,A),Y(a,function(a){return i.coordToPoint(a.coord,c)})}),m=[],a=0;a<=A;a++){for(var c=[],n=0;n<h.length;n++)c.push(B[n][a]);if(c[0]&&c.push(c[0].slice()),s){var b=E(d,u,a);d[b].push(new c8({shape:{points:c}}))}if(t&&m){var b=E(e,v,a-1);e[b].push(new bA({shape:{points:c.concat(m)}}))}m=c.slice().reverse()}var C=q.getLineStyle(),D=r.getAreaStyle();j(e,function(a,b){this.group.add(qN(a,{style:x({stroke:"none",fill:v[b%v.length]},D),silent:!0}))},this),j(d,function(a,b){this.group.add(qN(a,{style:x({fill:"none",stroke:u[b%u.length]},C),silent:!0}))},this)}function E(b,c,d){var a=d%c.length;return b[a]=b[a]||[],a}},a.type="radar",a}(g),x2=function(b){function a(c,d,e){var a=b.call(this,c,d,e)||this;return a.type="value",a.angle=0,a.name="",a}return cp(a,b),a}(o),x3=function(){function a(a,c,b){this.dimensions=[],this._model=a,this._indicatorAxes=Y(a.getIndicatorModels(),function(b,d){var c="indicator_"+d,a=new x2(c,new b0);return a.name=b.get("name"),a.model=b,b.axis=a,this.dimensions.push(c),a},this),this.resize(a,b)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(b,a){var c=this._indicatorAxes[a];return this.coordToPoint(c.dataToCoord(b),a)},a.prototype.coordToPoint=function(a,c){var b=this._indicatorAxes[c].angle,d=this.cx+a*Math.cos(b),e=this.cy-a*Math.sin(b);return[d,e]},a.prototype.pointToData=function(f){var d,a=f[0]-this.cx,b=f[1]-this.cy,e=Math.sqrt(a*a+b*b);a/=e,b/=e;for(var k=Math.atan2(-b,a),g=1/0,h=-1,c=0;c<this._indicatorAxes.length;c++){var i=this._indicatorAxes[c],j=Math.abs(k-i.angle);j<g&&(d=i,h=c,g=j)}return[h,+(d&&d.coordToData(e))]},a.prototype.resize=function(b,c){var d=b.get("center"),e=c.getWidth(),f=c.getHeight(),g=Math.min(e,f)/2;this.cx=je(d[0],e),this.cy=je(d[1],f),this.startAngle=b.get("startAngle")*Math.PI/180;var a=b.get("radius");(fT(a)||fV(a))&&(a=[0,a]),this.r0=je(a[0],g),this.r=je(a[1],g),j(this._indicatorAxes,function(b,c){b.setExtent(this.r0,this.r);var a=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;a=Math.atan2(Math.sin(a),Math.cos(a)),b.angle=a},this)},a.prototype.update=function(c,f){var a=this._indicatorAxes,d=this._model;j(a,function(a){a.scale.setExtent(1/0,-1/0)}),c.eachSeriesByType("radar",function(b,e){if("radar"===b.get("coordinateSystem")&&c.getComponent("radar",b.get("radarIndex"))===d){var f=b.getData();j(a,function(a){a.scale.unionExtentFromData(f,f.mapDimension(a.dim))})}},this);var e=d.get("splitNumber"),b=new b0;b.setExtent(0,e),b.setInterval(1),j(a,function(a,c){xj(a.scale,a.model,b)})},a.prototype.convertToPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.create=function(b,d){var c=[];return b.eachComponent("radar",function(e){var f=new a(e,b,d);c.push(f),e.coordinateSystem=f}),b.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])}),c},a.dimensions=[],a}();function x4(a){a.registerCoordinateSystem("radar",x3),a.registerComponentModel(x_),a.registerComponentView(x1),a.registerVisual({seriesType:"radar",reset:function(b){var a=b.getData();a.each(function(b){a.setItemVisual(b,"legendIcon","roundRect")}),a.setVisual("legendIcon","roundRect")}})}var x5="\0_ec_interaction_mutex";function x6(a,b){return!!x7(a)[b]}function x7(a){return a[x5]||(a[x5]={})}q({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},y);var dI=function(b){function a(c){var a=b.call(this)||this;a._zr=c;var d=cu(a._mousedownHandler,a),e=cu(a._mousemoveHandler,a),f=cu(a._mouseupHandler,a),g=cu(a._mousewheelHandler,a),h=cu(a._pinchHandler,a);return a.enable=function(a,b){this.disable(),this._opt=x(ct(b)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==a&&(a=!0),(!0===a||"move"===a||"pan"===a)&&(c.on("mousedown",d),c.on("mousemove",e),c.on("mouseup",f)),(!0===a||"scale"===a||"zoom"===a)&&(c.on("mousewheel",g),c.on("pinch",h))},a.disable=function(){c.off("mousedown",d),c.off("mousemove",e),c.off("mouseup",f),c.off("mousewheel",g),c.off("pinch",h)},a}return cp(a,b),a.prototype.isDragging=function(){return this._dragging},a.prototype.isPinching=function(){return this._pinching},a.prototype.setPointerChecker=function(a){this.pointerChecker=a},a.prototype.dispose=function(){this.disable()},a.prototype._mousedownHandler=function(a){if(!gL(a)&&(!a.target||!a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}},a.prototype._mousemoveHandler=function(a){if(!(!this._dragging||!ya("moveOnMouseMove",a,this._opt)||"pinch"===a.gestureEvent||x6(this._zr,"globalPan"))){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&gK(a.event),x9(this,"pan","moveOnMouseMove",a,{dx:b-d,dy:c-e,oldX:d,oldY:e,newX:b,newY:c,isAvailableBehavior:null})}},a.prototype._mouseupHandler=function(a){gL(a)||(this._dragging=!1)},a.prototype._mousewheelHandler=function(a){var c=ya("zoomOnMouseWheel",a,this._opt),d=ya("moveOnMouseWheel",a,this._opt),b=a.wheelDelta,e=Math.abs(b),f=a.offsetX,g=a.offsetY;if(0!==b&&(c||d)){if(c){var h=e>3?1.4:e>1?1.2:1.1,j=b>0?h:1/h;x8(this,"zoom","zoomOnMouseWheel",a,{scale:j,originX:f,originY:g,isAvailableBehavior:null})}if(d){var i=Math.abs(b);x8(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(b>0?1:-1)*(i>3?.4:i>1?.15:.05),originX:f,originY:g,isAvailableBehavior:null})}}},a.prototype._pinchHandler=function(a){if(!x6(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;x8(this,"zoom",null,a,{scale:b,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},a}(n);function x8(a,d,e,b,c){a.pointerChecker&&a.pointerChecker(b,c.originX,c.originY)&&(gK(b.event),x9(a,d,e,b,c))}function x9(b,c,d,e,a){a.isAvailableBehavior=cu(ya,null,d,e),b.trigger(c,a)}function ya(b,c,d){var a=d[b];return!b||a&&(!fT(a)||c.event[a+"Key"])}var yb=dI;function yc(b,c,d){var a=b.target;a.x+=c,a.y+=d,a.dirty()}function yd(b,f,g,h){var a=b.target,e=b.zoomLimit,c=b.zoom=b.zoom||1;if(c*=f,e){var i=e.min||0,j=e.max||1/0;c=Math.max(Math.min(j,c),i)}var d=c/b.zoom;b.zoom=c,a.x-=(g-a.x)*(d-1),a.y-=(h-a.y)*(d-1),a.scaleX*=d,a.scaleY*=d,a.dirty()}var ye={axisPointer:1,tooltip:1,brush:1};function yf(d,e,b){var a=e.getComponentByElement(d.topTarget),c=a&&a.coordinateSystem;return a&&a!==b&&!ye.hasOwnProperty(a.mainType)&&c&&c.model!==b}function yg(b){fT(b)&&(b=new DOMParser().parseFromString(b,"text/xml"));var a=b;for(9===a.nodeType&&(a=a.firstChild);"svg"!==a.nodeName.toLowerCase()||1!==a.nodeType;)a=a.nextSibling;return a}var dJ={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},yh=ap(dJ),dK={"alignment-baseline":"textBaseline","stop-color":"stopColor"},yi=ap(dK),yj=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(m,d){d=d||{};var i,e,f=yg(m);this._defsUsePending=[];var a=new t;this._root=a;var k=[],l=f.getAttribute("viewBox")||"",b=parseFloat(f.getAttribute("width")||d.width),c=parseFloat(f.getAttribute("height")||d.height);isNaN(b)&&(b=null),isNaN(c)&&(c=null),yp(f,a,null,!0,!1);for(var j=f.firstChild;j;)this._parseNode(j,a,k,null,!1,!1),j=j.nextSibling;if(yt(this._defs,this._defsUsePending),this._defsUsePending=[],l){var g=yv(l);g.length>=4&&(i={x:parseFloat(g[0]||0),y:parseFloat(g[1]||0),width:parseFloat(g[2]),height:parseFloat(g[3])})}if(i&&null!=b&&null!=c&&(e=yC(i,{x:0,y:0,width:b,height:c}),!d.ignoreViewBox)){var h=a;(a=new t).add(h),h.scaleX=h.scaleY=e.scale,h.x=e.x,h.y=e.y}return d.ignoreRootClip||null==b||null==c||a.setClipPath(new z({shape:{x:0,y:0,width:b,height:c}})),{root:a,width:b,height:c,viewBoxRect:i,viewBoxTransform:e,named:k}},a.prototype._parseNode=function(d,f,g,e,h,i){var b,a=d.nodeName.toLowerCase(),j=e;if("defs"===a&&(h=!0),"text"===a&&(i=!0),"defs"===a||"switch"===a)b=f;else{if(!h){var k=fv[a];if(k&&ga(fv,a)){b=k.call(this,d,f);var l=d.getAttribute("name");if(l){var m={name:l,namedFrom:null,svgNodeTagLower:a,el:b};g.push(m),"g"===a&&(j=m)}else e&&g.push({name:e.name,namedFrom:e,svgNodeTagLower:a,el:b});f.add(b)}}var n=yk[a];if(n&&ga(yk,a)){var p=n.call(this,d),o=d.getAttribute("id");o&&(this._defs[o]=p)}}if(b&&b.isGroup)for(var c=d.firstChild;c;)1===c.nodeType?this._parseNode(c,b,g,j,h,i):3===c.nodeType&&i&&this._parseText(c,b),c=c.nextSibling},a.prototype._parseText=function(e,d){var a=new lc({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});yn(d,a),yp(e,a,this._defsUsePending,!1,!1),yq(a,d);var b=a.style,c=b.fontSize;c&&c<9&&(b.fontSize=9,a.scaleX*=c/9,a.scaleY*=c/9);var f=(b.fontSize||b.fontFamily)&&[b.fontStyle,b.fontWeight,(b.fontSize||12)+"px",b.fontFamily||"sans-serif"].join(" ");b.font=f;var g=a.getBoundingRect();return this._textX+=g.width,d.add(a),a},a.internalField=void(fv={g:function(b,c){var a=new t;return yn(c,a),yp(b,a,this._defsUsePending,!1,!1),a},rect:function(a,c){var b=new z;return yn(c,b),yp(a,b,this._defsUsePending,!1,!1),b.setShape({x:parseFloat(a.getAttribute("x")||"0"),y:parseFloat(a.getAttribute("y")||"0"),width:parseFloat(a.getAttribute("width")||"0"),height:parseFloat(a.getAttribute("height")||"0")}),b.silent=!0,b},circle:function(b,c){var a=new aM;return yn(c,a),yp(b,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(b.getAttribute("cx")||"0"),cy:parseFloat(b.getAttribute("cy")||"0"),r:parseFloat(b.getAttribute("r")||"0")}),a.silent=!0,a},line:function(a,c){var b=new aO;return yn(c,b),yp(a,b,this._defsUsePending,!1,!1),b.setShape({x1:parseFloat(a.getAttribute("x1")||"0"),y1:parseFloat(a.getAttribute("y1")||"0"),x2:parseFloat(a.getAttribute("x2")||"0"),y2:parseFloat(a.getAttribute("y2")||"0")}),b.silent=!0,b},ellipse:function(a,c){var b=new c5;return yn(c,b),yp(a,b,this._defsUsePending,!1,!1),b.setShape({cx:parseFloat(a.getAttribute("cx")||"0"),cy:parseFloat(a.getAttribute("cy")||"0"),rx:parseFloat(a.getAttribute("rx")||"0"),ry:parseFloat(a.getAttribute("ry")||"0")}),b.silent=!0,b},polygon:function(b,e){var c,d=b.getAttribute("points");d&&(c=yo(d));var a=new bA({shape:{points:c||[]},silent:!0});return yn(e,a),yp(b,a,this._defsUsePending,!1,!1),a},polyline:function(b,e){var c,d=b.getAttribute("points");d&&(c=yo(d));var a=new c8({shape:{points:c||[]},silent:!0});return yn(e,a),yp(b,a,this._defsUsePending,!1,!1),a},image:function(a,c){var b=new cU;return yn(c,b),yp(a,b,this._defsUsePending,!1,!1),b.setStyle({image:a.getAttribute("xlink:href")||a.getAttribute("href"),x:+a.getAttribute("x"),y:+a.getAttribute("y"),width:+a.getAttribute("width"),height:+a.getAttribute("height")}),b.silent=!0,b},text:function(a,c){var d=a.getAttribute("x")||"0",e=a.getAttribute("y")||"0",f=a.getAttribute("dx")||"0",g=a.getAttribute("dy")||"0";this._textX=parseFloat(d)+parseFloat(f),this._textY=parseFloat(e)+parseFloat(g);var b=new t;return yn(c,b),yp(a,b,this._defsUsePending,!1,!0),b},tspan:function(a,e){var c=a.getAttribute("x"),d=a.getAttribute("y");null!=c&&(this._textX=parseFloat(c)),null!=d&&(this._textY=parseFloat(d));var f=a.getAttribute("dx")||"0",g=a.getAttribute("dy")||"0",b=new t;return yn(e,b),yp(a,b,this._defsUsePending,!1,!0),this._textX+=parseFloat(f),this._textY+=parseFloat(g),b},path:function(b,c){var a=p4(b.getAttribute("d")||"");return yn(c,a),yp(b,a,this._defsUsePending,!1,!1),a.silent=!0,a}}),a}(),yk={lineargradient:function(a){var c=parseInt(a.getAttribute("x1")||"0",10),d=parseInt(a.getAttribute("y1")||"0",10),e=parseInt(a.getAttribute("x2")||"10",10),f=parseInt(a.getAttribute("y2")||"0",10),b=new qu(c,d,e,f);return yl(a,b),ym(a,b),b},radialgradient:function(a){var c=parseInt(a.getAttribute("cx")||"0",10),d=parseInt(a.getAttribute("cy")||"0",10),e=parseInt(a.getAttribute("r")||"0",10),b=new qv(c,d,e);return yl(a,b),ym(a,b),b}};function yl(a,b){"userSpaceOnUse"===a.getAttribute("gradientUnits")&&(b.global=!0)}function ym(e,f){for(var a=e.firstChild;a;){if(1===a.nodeType&&"stop"===a.nodeName.toLocaleLowerCase()){var b=a.getAttribute("offset"),d=void 0;d=b&&b.indexOf("%")>0?parseInt(b,10)/100:b?parseFloat(b):0;var c={};yA(a,c,c);var g=c.stopColor||a.getAttribute("stop-color")||"#000000";f.colorStops.push({offset:d,color:g})}a=a.nextSibling}}function yn(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),x(b.__inheritedStyle,a.__inheritedStyle))}function yo(d){for(var b=yv(d),c=[],a=0;a<b.length;a+=2){var e=parseFloat(b[a]),f=parseFloat(b[a+1]);c.push([e,f])}return c}function yp(c,e,f,g,h){var a=e,b=a.__inheritedStyle=a.__inheritedStyle||{},d={};1!==c.nodeType||(yy(c,e),yA(c,b,d),g||yB(c,b,d)),a.style=a.style||{},null!=b.fill&&(a.style.fill=ys(a,"fill",b.fill,f)),null!=b.stroke&&(a.style.stroke=ys(a,"stroke",b.stroke,f)),j(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(c){null!=b[c]&&(a.style[c]=parseFloat(b[c]))}),j(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(c){null!=b[c]&&(a.style[c]=b[c])}),h&&(a.__selfStyle=d),b.lineDash&&(a.style.lineDash=Y(yv(b.lineDash),function(a){return parseFloat(a)})),("hidden"===b.visibility||"collapse"===b.visibility)&&(a.invisible=!0),"none"===b.display&&(a.ignore=!0)}function yq(d,e){var f=e.__selfStyle;if(f){var a=f.textBaseline,b=a;a&&"auto"!==a?"baseline"===a?b="alphabetic":"before-edge"===a||"text-before-edge"===a?b="top":"after-edge"===a||"text-after-edge"===a?b="bottom":("central"===a||"mathematical"===a)&&(b="middle"):b="alphabetic",d.style.textBaseline=b}var g=e.__inheritedStyle;if(g){var c=g.textAlign,h=c;c&&("middle"===c&&(h="center"),d.style.textAlign=h)}}var yr=/^url\(\s*#(.*?)\)/;function ys(c,d,a,e){var b=a&&a.match(yr);if(b){var f=f2(b[1]);e.push([c,d,f]);return}return"none"===a&&(a=null),a}function yt(d,c){for(var a=0;a<c.length;a++){var b=c[a];b[0].style[b[1]]=d[b[2]]}}var yu=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function yv(a){return a.match(yu)||[]}var yw=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,yx=Math.PI/180;function yy(f,g){var c=f.getAttribute("transform");if(c){c=c.replace(/,/g," ");var e=[],a=null;c.replace(yw,function(c,a,b){return e.push(a,b),""});for(var d=e.length-1;d>0;d-=2){var h=e[d],i=e[d-1],b=yv(h);switch(a=a||cJ(),i){case"translate":iB(a,a,[parseFloat(b[0]),parseFloat(b[1]||"0")]);break;case"scale":iD(a,a,[parseFloat(b[0]),parseFloat(b[1]||b[0])]);break;case"rotate":iC(a,a,-parseFloat(b[0])*yx);break;case"skewX":var j=Math.tan(parseFloat(b[0])*yx);iA(a,[1,0,j,1,0,0],a);break;case"skewY":var k=Math.tan(parseFloat(b[0])*yx);iA(a,[1,k,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(b[0]),a[1]=parseFloat(b[1]),a[2]=parseFloat(b[2]),a[3]=parseFloat(b[3]),a[4]=parseFloat(b[4]),a[5]=parseFloat(b[5])}}g.setLocalTransform(a)}}var yz=/([^\s:;]+)\s*:\s*([^:;]+)/g;function yA(f,g,h){var a,c=f.getAttribute("style");if(c)for(yz.lastIndex=0;null!=(a=yz.exec(c));){var b=a[1],d=ga(dJ,b)?dJ[b]:null;d&&(g[d]=a[2]);var e=ga(dK,b)?dK[b]:null;e&&(h[e]=a[2])}}function yB(d,e,f){for(var a=0;a<yh.length;a++){var b=yh[a],c=d.getAttribute(b);null!=c&&(e[dJ[b]]=c)}for(var a=0;a<yi.length;a++){var b=yi[a],c=d.getAttribute(b);null!=c&&(f[dK[b]]=c)}}function yC(a,b){var d=b.width/a.width,e=b.height/a.height,c=Math.min(d,e);return{scale:c,x:-(a.x+a.width/2)*c+(b.x+b.width/2),y:-(a.y+a.height/2)*c+(b.y+b.height/2)}}function yD(a,b){return 1e-8>Math.abs(a-b)}function yE(b,g,h){var d=0,a=b[0];if(!a)return!1;for(var e=1;e<b.length;e++){var f=b[e];d+=k_(a[0],a[1],f[0],f[1],g,h),a=f}var c=b[0];return yD(a[0],c[0])&&yD(a[1],c[1])||(d+=k_(a[0],a[1],c[0],c[1],g,h)),0!==d}var yF=[];function yG(b,c){for(var a=0;a<b.length;a++)cC(b[a],b[a],c)}function yH(c,d,e,f){for(var b=0;b<c.length;b++){var a=c[b];f&&(a=f.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(gn(d,d,a),go(e,e,a))}}var b5=function(){function a(a){this.name=a}return a.prototype.setCenter=function(a){this._center=a},a.prototype.getCenter=function(){var a=this._center;return a||(a=this._center=this.calcCenter()),a},a}(),yI=function(a,b){this.type="polygon",this.exterior=a,this.interiors=b},yJ=function(a){this.type="linestring",this.points=a},yK=function(b){function a(d,e,c){var a=b.call(this,d)||this;return a.type="geoJSON",a.geometries=e,a._center=c&&[c[0],c[1]],a}return cp(a,b),a.prototype.calcCenter=function(){for(var b,d=this.geometries,e=0,c=0;c<d.length;c++){var f=d[c],g=f.exterior,h=g&&g.length;h>e&&(b=f,e=h)}if(b)return function(a){for(var b=0,j=0,k=0,d=a.length,e=a[d-1][0],f=a[d-1][1],c=0;c<d;c++){var g=a[c][0],h=a[c][1],i=e*h-g*f;b+=i,j+=(e+g)*i,k+=(f+h)*i,e=g,f=h}return b?[j/b/3,k/b/3,b]:[a[0][0]||0,a[0][1]||0]}(b.exterior);var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},a.prototype.getBoundingRect=function(d){var c=this._rect;if(c&&!d)return c;var a=[1/0,1/0],b=[-1/0,-1/0];return j(this.geometries,function(c){"polygon"===c.type?yH(c.exterior,a,b,d):j(c.points,function(c){yH(c,a,b,d)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(b[0])&&isFinite(b[1])||(a[0]=a[1]=b[0]=b[1]=0),c=new as(a[0],a[1],b[0]-a[0],b[1]-a[1]),d||(this._rect=c),c},a.prototype.contain=function(a){var g=this.getBoundingRect(),f=this.geometries;if(!g.contain(a[0],a[1]))return!1;loopGeo:for(var b=0,h=f.length;b<h;b++){var c=f[b];if("polygon"===c.type){var i=c.exterior,d=c.interiors;if(yE(i,a[0],a[1])){for(var e=0;e<(d?d.length:0);e++)if(yE(d[e],a[0],a[1]))continue loopGeo;return!0}}}return!1},a.prototype.transformTo=function(i,k,b,c){var a=this.getBoundingRect(),f=a.width/a.height;b?c||(c=b/f):b=f*c;for(var g=new as(i,k,b,c),l=a.calculateTransform(g),h=this.geometries,e=0;e<h.length;e++){var d=h[e];"polygon"===d.type?(yG(d.exterior,l),j(d.interiors,function(a){yG(a,l)})):j(d.points,function(a){yG(a,l)})}(a=this._rect).copy(g),this._center=[a.x+a.width/2,a.y+a.height/2]},a.prototype.cloneShallow=function(b){null==b&&(b=this.name);var c=new a(b,this.geometries,this._center);return c._rect=this._rect,c.transformTo=null,c},a}(b5),yL=function(b){function a(c,d){var a=b.call(this,c)||this;return a.type="geoSVG",a._elOnlyForCalculate=d,a}return cp(a,b),a.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,c=e.getBoundingRect(),d=[c.x+c.width/2,c.y+c.height/2],a=cK(yF),b=e;b&&!b.isGeoSVGGraphicRoot;)iA(a,b.getLocalTransform(),a),b=b.parent;return iE(a,a),cC(d,d,a),d},a}(b5),yM=s(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),yN=function(){function a(a,b){this.type="geoSVG",this._usedGraphicMap=s(),this._freedGraphics=[],this._mapName=a,this._parsedXML=yg(b)}return a.prototype.load=function(){var a=this._firstGraphic;if(!a){a=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(a),this._boundingRect=this._firstGraphic.boundingRect.clone();var b=yP(a.named),c=b.regions,d=b.regionsMap;this._regions=c,this._regionsMap=d}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(m){try{var n,o;b=(f=m&&(n=m,o={ignoreViewBox:!0,ignoreRootClip:!0},new yj().parse(n,o))||{}).root,f1(null!=b)}catch(r){throw Error("Invalid svg format\n"+r.message)}var f,b,g=new t;g.add(b),g.isGeoSVGGraphicRoot=!0;var p=f.width,q=f.height,a=f.viewBoxRect,e=this._boundingRect;if(!e){var c=void 0,d=void 0,h=void 0,i=void 0;if(null!=p?(c=0,h=p):a&&(c=a.x,h=a.width),null!=q?(d=0,i=q):a&&(d=a.y,i=a.height),null==c||null==d){var k=b.getBoundingRect();null==c&&(c=k.x,h=k.width),null==d&&(d=k.y,i=k.height)}e=this._boundingRect=new as(c,d,h,i)}if(a){var l=yC(a,e);b.scaleX=b.scaleY=l.scale,b.x=l.x,b.y=l.y}g.setClipPath(new z({shape:e.plain()}));var s=[];return j(f.named,function(a){null!=yM.get(a.svgNodeTagLower)&&(s.push(a),yO(a.el))}),{root:g,boundingRect:e,named:s}},a.prototype.useGraphic=function(b){var c=this._usedGraphicMap,a=c.get(b);return a||(a=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),c.set(b,a)),a},a.prototype.freeGraphic=function(a){var b=this._usedGraphicMap,c=b.get(a);c&&(b.removeKey(a),this._freedGraphics.push(c))},a}();function yO(a){a.silent=!1,a.isGroup&&a.traverse(function(a){a.silent=!1})}function yP(a){var b=[],c=s();return j(a,function(a){if(null==a.namedFrom){var d=new yL(a.name,a.el);b.push(d),c.set(a.name,d)}}),{regions:b,regionsMap:c}}function yQ(b,c,d){for(var a=0;a<b.length;a++)b[a]=yR(b[a],c[a],d)}function yR(d,e,f){for(var g=[],h=e[0],i=e[1],c=0;c<d.length;c+=2){var a=d.charCodeAt(c)-64,b=d.charCodeAt(c+1)-64;a=a>>1^ -(1&a),b=b>>1^ -(1&b),a+=h,b+=i,h=a,i=b,g.push([a/f,b/f])}return g}for(var b6=[126,25],yS="\u5357\u6D77\u8BF8\u5C9B",L=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],C=0;C<L.length;C++)for(var M=0;M<L[C].length;M++)L[C][M][0]/=10.5,L[C][M][1]/=-14,L[C][M][0]+=b6[0],L[C][M][1]+=b6[1];var yT={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]},yU=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],yV=function(){function a(a,b,c){this.type="geoJSON",this._parsedMap=s(),this._mapName=a,this._specialAreas=c,this._geoJSON=yX(b)}return a.prototype.load=function(f,a){a=a||"name";var b=this._parsedMap.get(a);if(!b){var c=this._parseToRegions(a);b=this._parsedMap.set(a,{regions:c,boundingRect:yW(c)})}var d=s(),e=[];return j(b.regions,function(a){var b=a.name;f&&ga(f,b)&&(a=a.cloneShallow(b=f[b])),e.push(a),d.set(b,a)}),{regions:e,boundingRect:b.boundingRect||new as(0,0,0,0),regionsMap:d}},a.prototype._parseToRegions=function(d){var a,e,b,f=this._mapName,c=this._geoJSON;try{b=c?(a=c,e=d,a=function(b){if(!b.UTF8Encoding)return b;var a=b,c=a.UTF8Scale;return null==c&&(c=1024),j(a.features,function(e){var a=e.geometry,b=a.encodeOffsets,d=a.coordinates;if(b)switch(a.type){case"LineString":a.coordinates=yR(d,b,c);break;case"Polygon":case"MultiLineString":yQ(d,b,c);break;case"MultiPolygon":j(d,function(a,d){return yQ(a,b[d],c)})}}),a.UTF8Encoding=!1,a}(a),Y(fS(a.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(d){var c=d.properties,a=d.geometry,b=[];switch(a.type){case"Polygon":var f=a.coordinates;b.push(new yI(f[0],f.slice(1)));break;case"MultiPolygon":j(a.coordinates,function(a){a[0]&&b.push(new yI(a[0],a.slice(1)))});break;case"LineString":b.push(new yJ([a.coordinates]));break;case"MultiLineString":b.push(new yJ(a.coordinates))}var g=new yK(c[e||"name"],b,c.cp);return g.properties=c,g})):[]}catch(g){throw Error("Invalid geoJson format\n"+g.message)}return function(c,a){if("china"===c){for(var b=0;b<a.length;b++)if(a[b].name===yS)return;a.push(new yK(yS,Y(L,function(a){return{type:"polygon",exterior:a}}),b6))}}(f,b),j(b,function(b){var d,c,e=b.name;(function(d,a){if("china"===d){var b=yT[a.name];if(b){var c=a.getCenter();c[0]+=b[0]/10.5,c[1]+=-b[1]/14,a.setCenter(c)}}})(f,b),d=f,c=b,"china"===d&&"\u53F0\u6E7E"===c.name&&c.geometries.push({type:"polygon",exterior:yU[0]});var a=this._specialAreas&&this._specialAreas[e];a&&b.transformTo(a.left,a.top,a.width,a.height)},this),b},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function yW(c){for(var a,b=0;b<c.length;b++){var d=c[b].getBoundingRect();(a=a||d.clone()).union(d)}return a}function yX(a){return fT(a)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(a):Function("return ("+a+");")():a}var yY=s(),yZ={registerMap:function(b,a,e){if(a.svg){var c=new yN(b,a.svg);yY.set(b,c)}else{var d=a.geoJson||a.geoJSON;d&&!a.features?e=a.specialAreas:d=a;var c=new yV(b,d,e);yY.set(b,c)}},getGeoResource:function(a){return yY.get(a)},getMapForUser:function(b){var a=yY.get(b);return a&&"geoJSON"===a.type&&a.getMapForUser()},load:function(b,c,d){var a=yY.get(b);if(a)return a.load(c,d)}},aT=["rect","circle","line","ellipse","polygon","polyline","path"],y$=s(aT),y_=s(aT.concat(["g"])),y0=s(aT.concat(["g"])),y1=a();function y2(a){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function y3(b){var a=b.style;a&&(a.stroke=a.stroke||a.fill,a.fill=null)}var dL=function(){function a(b){var a=new t;this.uid=mO("ec_map_draw"),this._controller=new yb(b.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new t),a.add(this._svgGroup=new t)}return a.prototype.draw=function(a,g,f,l,m){var h="geo"===a.mainType,d=a.getData&&a.getData();h&&g.eachComponent({mainType:"series",subType:"map"},function(b){d||b.getHostGeoModel()!==a||(d=b.getData())});var e=a.coordinateSystem,i=this._regionsGroup,b=this.group,j=e.getTransformInfo(),n=j.raw,c=j.roam,o=!i.childAt(0)||m;o?(b.x=c.x,b.y=c.y,b.scaleX=c.scaleX,b.scaleY=c.scaleY,b.dirty()):mk(b,c,a);var p=d&&d.getVisual("visualMeta")&&d.getVisual("visualMeta").length>0,k={api:f,geo:e,mapOrGeoModel:a,data:d,isVisualEncodedByVisualMap:p,isGeo:h,transformInfoRaw:n};"geoJSON"===e.resourceType?this._buildGeoJSON(k):"geoSVG"===e.resourceType&&this._buildSVG(k),this._updateController(a,g,f),this._updateMapSelectHandler(a,i,f,l)},a.prototype._buildGeoJSON=function(a){var c=this._regionsGroupByName=s(),e=s(),d=this._regionsGroup,f=a.transformInfoRaw,g=a.mapOrGeoModel,h=a.data,b=a.geo.projection,i=b&&b.stream;function k(a,b){return b&&(a=b(a)),a&&[a[0]*f.scaleX+f.x,a[1]*f.scaleY+f.y]}function l(a){return{shape:{points:function(c){for(var d=[],f=!i&&b&&b.project,a=0;a<c.length;++a){var e=k(c[a],f);e&&d.push(e)}return d}(a)}}}d.removeAll(),j(a.geo.regions,function(m){var f=m.name,n=c.get(f),p=e.get(f)||{},o=p.dataIdx,q=p.regionModel;n||(n=c.set(f,new t),d.add(n),o=h?h.indexOfName(f):null,q=a.isGeo?g.getRegionModel(f):h?h.getItemModel(o):null,e.set(f,{dataIdx:o,regionModel:q}));var s=[],u=[];j(m.geometries,function(a){if("polygon"===a.type){var b=[a.exterior].concat(a.interiors||[]);i&&(b=y9(b,i)),j(b,function(a){s.push(new bA(l(a)))})}else{var c=a.points;i&&(c=y9(c,i,!0)),j(c,function(a){u.push(new c8(l(a)))})}});var v=k(m.getCenter(),b&&b.project);function r(c,d){if(c.length){var b=new qt({culling:!0,segmentIgnoreThreshold:1,shape:{paths:c}});n.add(b),y4(a,b,o,q),y5(a,b,f,q,g,o,v),d&&(y3(b),j(b.states,y3))}}r(s),r(u,!0)}),c.each(function(c,b){var f=e.get(b),h=f.dataIdx,d=f.regionModel;y6(a,c,b,d,g,h),y7(a,c,b,d,g),y8(a,c,b,d,g)},this)},a.prototype._buildSVG=function(b){var c=b.geo.map,a=b.transformInfoRaw;this._svgGroup.x=a.x,this._svgGroup.y=a.y,this._svgGroup.scaleX=a.scaleX,this._svgGroup.scaleY=a.scaleY,this._svgResourceChanged(c)&&(this._freeSVG(),this._useSVG(c));var e=this._svgDispatcherMap=s(),d=!1;j(this._svgGraphicRecord.named,function(h){var c=h.name,f=b.mapOrGeoModel,k=b.data,i=h.svgNodeTagLower,a=h.el,j=k?k.indexOfName(c):null,g=f.getRegionModel(c);null!=y$.get(i)&&a instanceof P&&y4(b,a,j,g),a instanceof P&&(a.culling=!0),a.z2EmphasisLift=0,!h.namedFrom&&(null!=y0.get(i)&&y5(b,a,c,g,f,j,null),y6(b,a,c,g,f,j),y7(b,a,c,g,f),null!=y_.get(i))&&("self"===y8(b,a,c,g,f)&&(d=!0),(e.get(c)||e.set(c,[])).push(a))},this),this._enableBlurEntireSVG(d,b)},a.prototype._enableBlurEntireSVG=function(b,a){if(b&&a.isGeo){var c=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){lU(a);var b=a.ensureState("blur").style||{};null==b.opacity&&null!=c&&(b.opacity=c),a.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(a,e){if(null==a)return[];var b=e.coordinateSystem;if("geoJSON"===b.resourceType){var c=this._regionsGroupByName;if(c){var d=c.get(a);return d?[d]:[]}}else if("geoSVG"===b.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(a)||[]},a.prototype._svgResourceChanged=function(a){return this._svgMapName!==a},a.prototype._useSVG=function(b){var a=yZ.getGeoResource(b);if(a&&"geoSVG"===a.type){var c=a.useGraphic(this.uid);this._svgGroup.add(c.root),this._svgGraphicRecord=c,this._svgMapName=b}},a.prototype._freeSVG=function(){var b=this._svgMapName;if(null!=b){var a=yZ.getGeoResource(b);a&&"geoSVG"===a.type&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(a,e,f){var d=a.coordinateSystem,b=this._controller,c=this._controllerHost;c.zoomLimit=a.get("scaleLimit"),c.zoom=d.getZoom(),b.enable(a.get("roam")||!1);var g=a.mainType;function h(){var b={type:"geoRoam",componentType:g};return b[g+"Id"]=a.id,b}b.off("pan").on("pan",function(a){this._mouseDownFlag=!1,yc(c,a.dx,a.dy),f.dispatchAction(fP(h(),{dx:a.dx,dy:a.dy,animation:{duration:0}}))},this),b.off("zoom").on("zoom",function(a){this._mouseDownFlag=!1,yd(c,a.scale,a.originX,a.originY),f.dispatchAction(fP(h(),{zoom:a.scale,originX:a.originX,originY:a.originY,animation:{duration:0}}))},this),b.setPointerChecker(function(b,c,e){return d.containPoint([c,e])&&!yf(b,f,a)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(b){var a=b.getTextContent();a&&(a.ignore=y1(a).ignore)})},a.prototype._updateMapSelectHandler=function(b,a,c,d){var e=this;a.off("mousedown"),a.off("click"),b.get("selectedMode")&&(a.on("mousedown",function(){e._mouseDownFlag=!0}),a.on("click",function(a){e._mouseDownFlag&&(e._mouseDownFlag=!1)}))},a}();function y4(c,a,f,b){var i=b.getModel("itemStyle"),j=b.getModel(["emphasis","itemStyle"]),k=b.getModel(["blur","itemStyle"]),l=b.getModel(["select","itemStyle"]),d=y2(i),m=y2(j),n=y2(l),o=y2(k),e=c.data;if(e){var g=e.getItemVisual(f,"style"),h=e.getItemVisual(f,"decal");c.isVisualEncodedByVisualMap&&g.fill&&(d.fill=g.fill),h&&(d.decal=sc(h,c.api))}a.setStyle(d),a.style.strokeNoScale=!0,a.ensureState("emphasis").style=m,a.ensureState("select").style=n,a.ensureState("blur").style=o,lU(a)}function y5(g,a,h,l,m,d,e){var b=g.data,i=g.isGeo,n=b&&isNaN(b.get(b.mapDimension("value"),d)),j=b&&b.getItemLayout(d);if(i||n||j&&j.showLabel){var o=i?h:d,k=void 0;(!b||d>=0)&&(k=m);var p=e?{normal:{align:"center",verticalAlign:"middle"}}:null;mu(a,mv(l),{labelFetcher:k,labelDataIndex:o,defaultText:h},p);var f=a.getTextContent();if(f&&(y1(f).ignore=f.ignore,a.textConfig&&e)){var c=a.getBoundingRect().clone();a.textConfig.layoutRect=c,a.textConfig.position=[(e[0]-c.x)/c.width*100+"%",(e[1]-c.y)/c.height*100+"%"]}a.disableLabelAnimation=!0}else a.removeTextContent(),a.removeTextConfig(),a.disableLabelAnimation=null}function y6(a,b,e,c,d,f){a.data?a.data.setItemGraphicEl(f,b):lz(b).eventData={componentType:"geo",componentIndex:d.componentIndex,geoIndex:d.componentIndex,name:e,region:c&&c.option||{}}}function y7(a,b,c,d,e){a.data||q1({el:b,componentModel:e,itemName:c,itemTooltipOption:d.get("tooltip")})}function y8(i,a,j,k,e){a.highDownSilentOnTouch=!!e.get("selectedMode");var f,b,g,c,d=k.getModel("emphasis"),h=d.get("focus");return l8(a,h,d.get("blurScope"),d.get("disabled")),i.isGeo&&(f=a,b=e,g=j,(c=lz(f)).componentMainType=b.mainType,c.componentIndex=b.componentIndex,c.componentHighDownName=g),h}function y9(e,f,a){var h,g=[];function b(){h=[]}function c(){h.length&&(g.push(h),h=[])}var d=f({polygonStart:b,polygonEnd:c,lineStart:b,lineEnd:c,point:function(a,b){isFinite(a)&&isFinite(b)&&h.push([a,b])},sphere:function(){}});return a||d.polygonStart(),j(e,function(b){d.lineStart();for(var a=0;a<b.length;a++)d.point(b[a][0],b[a][1]);d.lineEnd()}),a||d.polygonEnd(),g}var za=dL,zb=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,d,e,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var f=this.group;if(f.removeAll(),!b.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===b.id){var c=this._mapDraw;c&&f.add(c.group)}else if(b.needsDrawMap){var c=this._mapDraw||new za(e);f.add(c.group),c.draw(b,d,e,this,a),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;b.get("showLegendSymbol")&&d.getComponent("legend")&&this._renderSymbols(b,d,e)}}},a.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},a.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},a.prototype._renderSymbols=function(b,c,d){var a=b.originalData,e=this.group;a.each(a.mapDimension("value"),function(l,f){if(!isNaN(l)){var c=a.getItemLayout(f);if(c&&c.point){var h=c.point,g=c.offset,d=new aM({style:{fill:b.getData().getVisual("style").fill},shape:{cx:h[0]+9*g,cy:h[1],r:3},silent:!0,z2:8+(g?0:ay+1)});if(!g){var i=b.mainSeries.getData(),j=a.getName(f),m=i.indexOfName(j),k=a.getItemModel(f),n=k.getModel("label"),o=i.getItemGraphicEl(m);mu(d,mv(k),{labelFetcher:{getFormattedLabel:function(c,a){return b.getFormattedLabel(m,a)}},defaultText:j}),d.disableLabelAnimation=!0,n.get("position")||d.setTextConfig({position:"bottom"}),o.onHoverStateChange=function(a){lS(d,a)}}e.add(d)}}})},a.type="map",a}(f),zc=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.needsDrawMap=!1,c.seriesGroup=[],c.getTooltipPosition=function(a){if(null!=a){var d=this.getData().getName(a),b=this.coordinateSystem,c=b.getRegion(d);return c&&b.dataToPoint(c.getCenter())}},c}return cp(a,b),a.prototype.getInitialData=function(g){for(var a=v6(this,{coordDimensions:["value"],encodeDefaulter:m(nJ,this)}),c=s(),d=[],b=0,e=a.count();b<e;b++){var f=a.getName(b);c.set(f,!0)}return j(yZ.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(b){var a=b.name;c.get(a)||d.push(a)}),a.appendValues([],d),a},a.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return null!=a?this.ecModel.getComponent("geo",a):null},a.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},a.prototype.getRawValue=function(b){var a=this.getData();return a.get(a.mapDimension("value"),b)},a.prototype.getRegionModel=function(b){var a=this.getData();return a.getItemModel(a.indexOfName(b))},a.prototype.formatTooltip=function(d,j,k){for(var e=this.getData(),g=this.getRawValue(d),f=e.getName(d),b=this.seriesGroup,c=[],a=0;a<b.length;a++){var h=b[a].originalData.indexOfName(f),i=e.mapDimension("value");isNaN(b[a].originalData.get(i,h))||c.push(b[a].name)}return pl("section",{header:c.join(", "),noHeader:!c.length,blocks:[pl("nameValue",{name:f,value:g})]})},a.prototype.setZoom=function(a){this.option.zoom=a},a.prototype.setCenter=function(a){this.option.center=a},a.prototype.getLegendIcon=function(b){var c=b.icon||"roundRect",a=rM(c,0,0,b.itemWidth,b.itemHeight,b.itemStyle.fill);return a.setStyle(b.itemStyle),a.style.stroke="none",c.indexOf("empty")> -1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a},a.type="series.map",a.dependencies=["geo"],a.layoutMode="box",a.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},a}(e);function zd(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),d=c?"o"+c.id:"i"+a.getMapType();(b[d]=b[d]||[]).push(a)}),j(b,function(a,g){for(var c,d,e,f=(c=Y(a,function(a){return a.getData()}),d=a[0].get("mapValueCalculation"),e={},j(c,function(a){a.each(a.mapDimension("value"),function(c,d){var b="ec-"+a.getName(d);e[b]=e[b]||[],isNaN(c)||e[b].push(c)})}),c[0].map(c[0].mapDimension("value"),function(l,k){for(var j,b="ec-"+c[0].getName(k),f=0,g=1/0,h=-1/0,i=e[b].length,a=0;a<i;a++)g=Math.min(g,e[b][a]),h=Math.max(h,e[b][a]),f+=e[b][a];return j="min"===d?g:"max"===d?h:"average"===d?f/i:f,0===i?NaN:j})),b=0;b<a.length;b++)a[b].originalData=a[b].getData();for(var b=0;b<a.length;b++)a[b].seriesGroup=a,a[b].needsDrawMap=0===b&&!a[b].getHostGeoModel(),a[b].setData(f.cloneShallow()),a[b].mainSeries=a[0]})}function ze(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var f={};j(c.seriesGroup,function(b){var d=b.coordinateSystem,c=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&c.each(c.mapDimension("value"),function(h,b){var a=c.getName(b),e=d.getRegion(a);if(!(!e||isNaN(h))){var g=f[a]||0,i=d.dataToPoint(e.getCenter());f[a]=g+1,c.setItemLayout(b,{point:i,offset:g})}})});var e=c.getData();e.each(function(a){var c=e.getName(a),b=e.getItemLayout(a)||{};b.showLabel=!f[c],e.setItemLayout(a,b)}),b[d]=!0}})}var zf=cC,dM=function(b){function a(c){var a=b.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new ar,a._rawTransformable=new ar,a.name=c,a}return cp(a,b),a.prototype.setBoundingRect=function(a,b,c,d){return this._rect=new as(a,b,c,d),this._rect},a.prototype.getBoundingRect=function(){return this._rect},a.prototype.setViewRect=function(a,b,c,d){this._transformTo(a,b,c,d),this._viewRect=new as(a,b,c,d)},a.prototype._transformTo=function(b,c,d,e){var f=this.getBoundingRect(),a=this._rawTransformable;a.transform=f.calculateTransform(new as(b,c,d,e));var g=a.parent;a.parent=null,a.decomposeTransform(),a.parent=g,this._updateTransform()},a.prototype.setCenter=function(a,b){a&&(this._center=[je(a[0],b.getWidth()),je(a[1],b.getHeight())],this._updateCenterAndZoom())},a.prototype.setZoom=function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},a.prototype.getDefaultCenter=function(){var a=this.getBoundingRect(),b=a.x+a.width/2,c=a.y+a.height/2;return[b,c]},a.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},a.prototype.getZoom=function(){return this._zoom||1},a.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},a.prototype._updateCenterAndZoom=function(){var d=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,c=this.getDefaultCenter(),b=this.getCenter(),e=this.getZoom();b=cC([],b,d),c=cC([],c,d),a.originX=b[0],a.originY=b[1],a.x=c[0]-b[0],a.y=c[1]-b[1],a.scaleX=a.scaleY=e,this._updateTransform()},a.prototype._updateTransform=function(){var b=this._roamTransformable,a=this._rawTransformable;a.parent=b,b.updateTransform(),a.updateTransform(),iz(this.transform||(this.transform=[]),a.transform||cJ()),this._rawTransform=a.getLocalTransform(),this.invTransform=this.invTransform||[],iE(this.invTransform,this.transform),this.decomposeTransform()},a.prototype.getTransformInfo=function(){var b=this._rawTransformable,c=this._roamTransformable,a=new ar;return a.transform=c.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:b.x,y:b.y,scaleX:b.scaleX,scaleY:b.scaleY}}},a.prototype.getViewRect=function(){return this._viewRect},a.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},a.prototype.dataToPoint=function(b,d,a){var c=d?this._rawTransform:this.transform;return a=a||[],c?zf(a,b,c):gc(a,b)},a.prototype.pointToData=function(a){var b=this.invTransform;return b?zf([],a,b):[a[0],a[1]]},a.prototype.convertToPixel=function(d,b,c){var a=zg(b);return a===this?a.dataToPoint(c):null},a.prototype.convertFromPixel=function(d,b,c){var a=zg(b);return a===this?a.pointToData(c):null},a.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},a.dimensions=["x","y"],a}(ar);function zg(b){var a=b.seriesModel;return a?a.coordinateSystem:null}var b7=dM,zh={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},zi=["lng","lat"],b8=function(b){function a(m,g,e){var c,a=b.call(this,m)||this;a.dimensions=zi,a.type="geo",a._nameCoordMap=s(),a.map=g;var d=e.projection,f=yZ.load(g,e.nameMap,e.nameProperty),h=yZ.getGeoResource(g);a.resourceType=h?h.type:null;var j=a.regions=f.regions,k=zh[h.type];if(a._regionsMap=f.regionsMap,a.regions=f.regions,a.projection=d,d)for(var i=0;i<j.length;i++){var l=j[i].getBoundingRect(d);(c=c||l.clone()).union(l)}else c=f.boundingRect;return a.setBoundingRect(c.x,c.y,c.width,c.height),a.aspectScale=d?1:f$(e.aspectScale,k.aspectScale),a._invertLongitute=!d&&k.invertLongitute,a}return cp(a,b),a.prototype._transformTo=function(d,e,f,g){var b=this.getBoundingRect(),c=this._invertLongitute;b=b.clone(),c&&(b.y=-b.y-b.height);var a=this._rawTransformable;a.transform=b.calculateTransform(new as(d,e,f,g));var h=a.parent;a.parent=null,a.decomposeTransform(),a.parent=h,c&&(a.scaleY=-a.scaleY),this._updateTransform()},a.prototype.getRegion=function(a){return this._regionsMap.get(a)},a.prototype.getRegionByCoord=function(d){for(var b=this.regions,a=0;a<b.length;a++){var c=b[a];if("geoJSON"===c.type&&c.contain(d))return b[a]}},a.prototype.addGeoCoord=function(a,b){this._nameCoordMap.set(a,b)},a.prototype.getGeoCoord=function(a){var b=this._regionsMap.get(a);return this._nameCoordMap.get(a)||b&&b.getCenter()},a.prototype.dataToPoint=function(a,c,d){if(fT(a)&&(a=this.getGeoCoord(a)),a){var b=this.projection;return b&&(a=b.project(a)),a&&this.projectedToPoint(a,c,d)}},a.prototype.pointToData=function(a){var b=this.projection;return b&&(a=b.unproject(a)),a&&this.pointToProjected(a)},a.prototype.pointToProjected=function(a){return b.prototype.pointToData.call(this,a)},a.prototype.projectedToPoint=function(a,c,d){return b.prototype.dataToPoint.call(this,a,c,d)},a.prototype.convertToPixel=function(d,b,c){var a=zj(b);return a===this?a.dataToPoint(c):null},a.prototype.convertFromPixel=function(d,b,c){var a=zj(b);return a===this?a.pointToData(c):null},a}(b7);function zj(b){var c=b.geoModel,a=b.seriesModel;return c?c.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo",jR).models[0]||{}).coordinateSystem:null}h(b8,b7);var zk=b8;function zl(d,l){var f,e,a,m=d.get("boundingCoords");if(null!=m){var b=m[0],c=m[1];if(isFinite(b[0])&&isFinite(b[1])&&isFinite(c[0])&&isFinite(c[1])){var v=this.projection;if(v){var n=b[0],h=b[1],g=c[0],i=c[1];b=[1/0,1/0],c=[-1/0,-1/0];var j=function(d,e,h,i){for(var j=h-d,k=i-e,a=0;a<=100;a++){var f=a/100,g=v.project([d+j*f,e+k*f]);gn(b,b,g),go(c,c,g)}};j(n,h,g,h),j(g,h,g,i),j(g,i,n,i),j(n,i,g,h)}this.setBoundingRect(b[0],b[1],c[0]-b[0],c[1]-b[1])}}var r=this.getBoundingRect(),o=d.get("layoutCenter"),s=d.get("layoutSize"),p=l.getWidth(),q=l.getHeight(),k=r.width/r.height*this.aspectScale,t=!1;if(!o||!s||(f=[je(o[0],p),je(o[1],q)],e=je(s,Math.min(p,q)),isNaN(f[0])||isNaN(f[1])||isNaN(e)||(t=!0)),t)a={},k>1?(a.width=e,a.height=e/k):(a.height=e,a.width=e*k),a.y=f[1]-a.height/2,a.x=f[0]-a.width/2;else{var u=d.getBoxLayoutParams();u.aspect=k,a=nw(u,{width:p,height:q})}this.setViewRect(a.x,a.y,a.width,a.height),this.setCenter(d.get("center"),l),this.setZoom(d.get("zoom"))}var zm=new(function(){function a(){this.dimensions=zi}return a.prototype.create=function(a,d){var b=[];function e(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}a.eachComponent("geo",function(a,g){var f=a.get("map"),c=new zk(f+g,f,fP({nameMap:a.get("nameMap")},e(a)));c.zoomLimit=a.get("scaleLimit"),b.push(c),a.coordinateSystem=c,c.model=a,c.resize=zl,c.resize(a,d)}),a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var c=a.get("geoIndex")||0;a.coordinateSystem=b[c]}});var c={};return a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();c[b]=c[b]||[],c[b].push(a)}}),j(c,function(a,f){var g=Y(a,function(a){return a.get("nameMap")}),c=new zk(f,f,fP({nameMap:fO(g)},e(a[0])));c.zoomLimit=cx.apply(null,Y(a,function(a){return a.get("scaleLimit")})),b.push(c),c.resize=zl,c.resize(a[0],d),j(a,function(a){var b,d;a.coordinateSystem=c,b=c,j((d=a).get("geoCoord"),function(a,c){b.addGeoCoord(c,a)})})}),b},a.prototype.getFilledRegions=function(c,d,e,f){for(var a=(c||[]).slice(),g=s(),b=0;b<a.length;b++)g.set(a[b].name,a[b]);var h=yZ.load(d,e,f);return j(h.regions,function(c){var b=c.name;g.get(b)||a.push({name:b})}),a},a}()),zn=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(a,e,d){var b=yZ.getGeoResource(a.map);if(b&&"geoJSON"===b.type){var c=a.itemStyle=a.itemStyle||{};"color"in c||(c.color="#eee")}this.mergeDefaultAndTheme(a,d),jx(a,"label",["show"])},a.prototype.optionUpdated=function(){var c=this,a=this.option;a.regions=zm.getFilledRegions(a.regions,a.map,a.nameMap,a.nameProperty);var b={};this._optionModelMap=ao(a.regions||[],function(e,a){var d=a.name;return d&&(e.set(d,new _(a,c,c.ecModel)),a.selected&&(b[d]=!0)),e},s()),a.selectedMap||(a.selectedMap=b)},a.prototype.getRegionModel=function(a){return this._optionModelMap.get(a)||new _(null,this,this.ecModel)},a.prototype.getFormattedLabel=function(a,c){var d=this.getRegionModel(a),b="normal"===c?d.get(["label","formatter"]):d.get(["emphasis","label","formatter"]),e={name:a};return cw(b)?(e.status=c,b(e)):fT(b)?b.replace("{a}",null!=a?a:""):void 0},a.prototype.setZoom=function(a){this.option.zoom=a},a.prototype.setCenter=function(a){this.option.center=a},a.prototype.select=function(c){var a=this.option,b=a.selectedMode;b&&("multiple"!==b&&(a.selectedMap=null),(a.selectedMap||(a.selectedMap={}))[c]=!0)},a.prototype.unSelect=function(b){var a=this.option.selectedMap;a&&(a[b]=!1)},a.prototype.toggleSelected=function(a){this[this.isSelected(a)?"unSelect":"select"](a)},a.prototype.isSelected=function(b){var a=this.option.selectedMap;return!!(a&&a[b])},a.type="geo",a.layoutMode="box",a.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},a}(d);function zo(a,b){return a.pointToProjected?a.pointToProjected(b):a.pointToData(b)}function zp(a,c,e,g){var f=a.getZoom(),h=a.getCenter(),b=c.zoom,d=a.projectedToPoint?a.projectedToPoint(h):a.dataToPoint(h);if(null!=c.dx&&null!=c.dy&&(d[0]-=c.dx,d[1]-=c.dy,a.setCenter(zo(a,d),g)),null!=b){if(e){var i=e.min||0,j=e.max||1/0;b=Math.max(Math.min(f*b,j),i)/f}a.scaleX*=b,a.scaleY*=b;var k=(c.originX-a.x)*(b-1),l=(c.originY-a.y)*(b-1);a.x-=k,a.y-=l,a.updateTransform(),a.setCenter(zo(a,d),g),a.setZoom(b*f)}return{center:a.getCenter(),zoom:a.getZoom()}}var zq=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.focusBlurEnabled=!0,c}return cp(a,b),a.prototype.init=function(b,a){this._api=a},a.prototype.render=function(a,d,c,e){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new za(c));var b=this._mapDraw;b.draw(a,d,c,this,e),b.group.on("click",this._handleRegionClick,this),b.group.silent=a.get("silent"),this.group.add(b.group),this.updateSelectStatus(a,d,c)},a.prototype._handleRegionClick=function(b){var a;rF(b.target,function(b){return null!=(a=lz(b).eventData)},!0),a&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:a.name})},a.prototype.updateSelectStatus=function(a,b,c){var d=this;this._mapDraw.group.traverse(function(a){var b=lz(a).eventData;if(b)return d._model.isSelected(b.name)?c.enterSelect(a):c.leaveSelect(a),!0})},a.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},a.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},a.type="geo",a}(g);function zr(a,b,c){yZ.registerMap(a,b,c)}function dN(a){function b(c,b){b.update="geo:updateSelectStatus",a.registerAction(b,function(a,b){var d={},e=[];return b.eachComponent({mainType:"geo",query:a},function(b){b[c](a.name),j(b.coordinateSystem.regions,function(a){d[a.name]=b.isSelected(a.name)||!1});var f=[];j(d,function(b,a){d[a]&&f.push(a)}),e.push({geoIndex:b.componentIndex,name:f})}),{selected:d,allSelected:e,name:a.name}})}a.registerCoordinateSystem("geo",zm),a.registerComponentModel(zn),a.registerComponentView(zq),a.registerImpl("registerMap",zr),a.registerImpl("getMap",function(a){return yZ.getMapForUser(a)}),b("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),b("select",{type:"geoSelect",event:"geoselected"}),b("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,b,d){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){var e=b.coordinateSystem;if("geo"===e.type){var f=zp(e,a,b.get("scaleLimit"),d);b.setCenter&&b.setCenter(f.center),b.setZoom&&b.setZoom(f.zoom),"series"===c&&j(b.seriesGroup,function(a){a.setCenter(f.center),a.setZoom(f.zoom)})}})})}function zs(a,d){var c=a.isExpand?a.children:[],e=a.parentNode.children,b=a.hierNode.i?e[a.hierNode.i-1]:null;if(c.length){zw(a);var f=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;b?(a.hierNode.prelim=b.hierNode.prelim+d(a,b),a.hierNode.modifier=a.hierNode.prelim-f):a.hierNode.prelim=f}else b&&(a.hierNode.prelim=b.hierNode.prelim+d(a,b));a.parentNode.hierNode.defaultAncestor=zx(a,b,a.parentNode.hierNode.defaultAncestor||e[0],d)}function zt(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function zu(a){return arguments.length?a:zC}function zv(a,b){return a-=Math.PI/2,{x:b*Math.cos(a),y:b*Math.sin(a)}}function zw(f){for(var c=f.children,d=c.length,b=0,e=0;--d>=0;){var a=c[d];a.hierNode.prelim+=b,a.hierNode.modifier+=b,e+=a.hierNode.change,b+=a.hierNode.shift+e}}function zx(e,k,h,m){if(k){for(var c=e,a=e,d=a.parentNode.children[0],b=k,i=c.hierNode.modifier,f=a.hierNode.modifier,l=d.hierNode.modifier,j=b.hierNode.modifier;b=zy(b),a=zz(a),b&&a;){c=zy(c),d=zz(d),c.hierNode.ancestor=e;var g=b.hierNode.prelim+j-a.hierNode.prelim-f+m(b,a);g>0&&(zB(zA(b,e,h),e,g),f+=g,i+=g),j+=b.hierNode.modifier,f+=a.hierNode.modifier,i+=c.hierNode.modifier,l+=d.hierNode.modifier}b&&!zy(c)&&(c.hierNode.thread=b,c.hierNode.modifier+=j-i),a&&!zz(d)&&(d.hierNode.thread=a,d.hierNode.modifier+=f-l,h=e)}return h}function zy(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function zz(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function zA(a,b,c){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:c}function zB(c,a,b){var d=b/(a.hierNode.i-c.hierNode.i);a.hierNode.change-=d,a.hierNode.shift+=b,a.hierNode.modifier+=b,a.hierNode.prelim+=b,c.hierNode.change+=d}function zC(a,b){return a.parentNode===b.parentNode?1:2}var zD=function(){this.parentPoint=[],this.childPoints=[]},zE=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new zD},a.prototype.buildPath=function(b,f){var g=f.childPoints,j=g.length,d=f.parentPoint,e=g[0],h=g[j-1];if(1===j){b.moveTo(d[0],d[1]),b.lineTo(e[0],e[1]);return}var m=f.orient,c="TB"===m||"BT"===m?0:1,i=1-c,n=je(f.forkPosition,1),a=[];a[c]=d[c],a[i]=d[i]+(h[i]-d[i])*n,b.moveTo(d[0],d[1]),b.lineTo(a[0],a[1]),b.moveTo(e[0],e[1]),a[c]=e[c],b.lineTo(a[0],a[1]),a[c]=h[c],b.lineTo(a[0],a[1]),b.lineTo(h[0],h[1]);for(var k=1;k<j-1;k++){var l=g[k];b.moveTo(l[0],l[1]),a[c]=l[c],b.lineTo(a[0],a[1])}},a}(c),dO=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._mainGroup=new t,c}return cp(a,b),a.prototype.init=function(b,a){this._controller=new yb(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},a.prototype.render=function(a,f,e){var d=a.getData(),b=a.layoutInfo,c=this._mainGroup;"radial"===a.get("layout")?(c.x=b.x+b.width/2,c.y=b.y+b.height/2):(c.x=b.x,c.y=b.y),this._updateViewCoordSys(a,e),this._updateController(a,f,e);var g=this._data;d.diff(g).add(function(b){zF(d,b)&&zG(d,b,null,c,a)}).update(function(e,f){var b=g.getItemGraphicEl(f);if(!zF(d,e)){b&&zK(g,f,b,c,a);return}zG(d,e,b,c,a)}).remove(function(b){var d=g.getItemGraphicEl(b);d&&zK(g,b,d,c,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),!0===a.get("expandAndCollapse")&&d.eachItemGraphicEl(function(b,c){b.off("click").on("click",function(){e.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:c})})}),this._data=d},a.prototype._updateViewCoordSys=function(d,g){var h=d.getData(),i=[];h.each(function(b){var a=h.getItemLayout(b);!a||isNaN(a.x)||isNaN(a.y)||i.push([+a.x,+a.y])});var a=[],b=[];kw(i,a,b);var e=this._min,f=this._max;b[0]-a[0]==0&&(a[0]=e?e[0]:a[0]-1,b[0]=f?f[0]:b[0]+1),b[1]-a[1]==0&&(a[1]=e?e[1]:a[1]-1,b[1]=f?f[1]:b[1]+1);var c=d.coordinateSystem=new b7;c.zoomLimit=d.get("scaleLimit"),c.setBoundingRect(a[0],a[1],b[0]-a[0],b[1]-a[1]),c.setCenter(d.get("center"),g),c.setZoom(d.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=a,this._max=b},a.prototype._updateController=function(a,d,e){var f=this,b=this._controller,c=this._controllerHost,g=this.group;b.setPointerChecker(function(c,d,f){var b=g.getBoundingRect();return b.applyTransform(g.transform),b.contain(d,f)&&!yf(c,e,a)}),b.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b){yc(c,b.dx,b.dy),e.dispatchAction({seriesId:a.id,type:"treeRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){yd(c,b.scale,b.originX,b.originY),e.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),f._updateNodeAndLinkScale(a),e.updateLabelLayout()})},a.prototype._updateNodeAndLinkScale=function(a){var b=a.getData(),c=this._getNodeGlobalScale(a);b.eachItemGraphicEl(function(a,b){a.setSymbolScale(c)})},a.prototype._getNodeGlobalScale=function(b){var a=b.coordinateSystem;if("view"!==a.type)return 1;var c=this._nodeScaleRatio,d=a.scaleX||1,e=a.getZoom();return((e-1)*c+1)/d},a.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},a.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},a.type="tree",a}(f);function zF(b,c){var a=b.getItemLayout(c);return a&&!isNaN(a.x)&&!isNaN(a.y)}function zG(g,i,a,p,k){var A=!a,b=g.tree.getNodeByDataIndex(i),q=b.getModel(),B=b.getVisual("style").fill,r=!1===b.isExpand&&0!==b.children.length?B:"#fff",l=g.tree.root,s=b.parentNode===l?b:b.parentNode||b,h=g.getItemGraphicEl(s.dataIndex),t=s.getLayout(),m=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:t,c=b.getLayout();A?((a=new uL(g,i,null,{symbolInnerColor:r,useNameLabel:!0})).x=m.x,a.y=m.y):a.updateData(g,i,null,{symbolInnerColor:r,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=c.rawX,a.__radialRawY=c.rawY,p.add(a),g.setItemGraphicEl(i,a),a.__oldX=a.x,a.__oldY=a.y,mk(a,{x:c.x,y:c.y},k);var u=a.getSymbolPath();if("radial"===k.get("layout")){var f=l.children[0],e=f.getLayout(),v=f.children.length,d=void 0,j=void 0;if(c.x===e.x&& !0===b.isExpand&&f.children.length){var n={x:(f.children[0].getLayout().x+f.children[v-1].getLayout().x)/2,y:(f.children[0].getLayout().y+f.children[v-1].getLayout().y)/2};(d=Math.atan2(n.y-e.y,n.x-e.x))<0&&(d=2*Math.PI+d),(j=n.x<e.x)&&(d-=Math.PI)}else(d=Math.atan2(c.y-e.y,c.x-e.x))<0&&(d=2*Math.PI+d),0===b.children.length||0!==b.children.length&& !1===b.isExpand?(j=c.x<e.x)&&(d-=Math.PI):(j=c.x>e.x)||(d-=Math.PI);var C=j?"left":"right",w=q.getModel("label"),x=w.get("rotate"),D=x*(Math.PI/180),y=u.getTextContent();y&&(u.setTextConfig({position:w.get("position")||C,rotation:null==x?-d:D,origin:"center"}),y.setStyle("verticalAlign","middle"))}var o=q.get(["emphasis","focus"]),z="relative"===o?f7(b.getAncestorsIndices(),b.getDescendantIndices()):"ancestor"===o?b.getAncestorsIndices():"descendant"===o?b.getDescendantIndices():null;z&&(lz(a).focus=z),zH(k,b,l,a,m,t,c,p),a.__edge&&(a.onHoverStateChange=function(c){if("blur"!==c){var d=b.parentNode&&g.getItemGraphicEl(b.parentNode.dataIndex);d&&1===d.hoverState||lS(a.__edge,c)}})}function zH(c,b,j,e,k,q,d,r){var l=b.getModel(),f=c.get("edgeShape"),g=c.get("layout"),h=c.getOrient(),m=c.get(["lineStyle","curveness"]),s=c.get("edgeForkPosition"),t=l.getModel("lineStyle").getLineStyle(),a=e.__edge;if("curve"===f)b.parentNode&&b.parentNode!==j&&(a||(a=e.__edge=new bE({shape:zL(g,h,m,k,k)})),mk(a,{shape:zL(g,h,m,q,d)},c));else if("polyline"===f&&"orthogonal"===g&&b!==j&&b.children&&0!==b.children.length&& !0===b.isExpand){for(var n=b.children,o=[],i=0;i<n.length;i++){var p=n[i].getLayout();o.push([p.x,p.y])}a||(a=e.__edge=new zE({shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]],orient:h,forkPosition:s}})),mk(a,{shape:{parentPoint:[d.x,d.y],childPoints:o}},c)}a&&!("polyline"===f&&!b.isExpand)&&(a.useStyle(x({strokeNoScale:!0,fill:null},t)),mc(a,l,"lineStyle"),lU(a),r.add(a))}function zI(f,c,o,a,g){var h=zJ(c.tree.root,f),d=h.source,b=h.sourceLayout,i=c.getItemGraphicEl(f.dataIndex);if(i){var k=c.getItemGraphicEl(d.dataIndex).__edge,e=i.__edge||(!1===d.isExpand||1===d.children.length?k:void 0),j=a.get("edgeShape"),l=a.get("layout"),m=a.get("orient"),n=a.get(["lineStyle","curveness"]);e&&("curve"===j?mn(e,{shape:zL(l,m,n,b,b),style:{opacity:0}},a,{cb:function(){o.remove(e)},removeOpt:g}):"polyline"===j&&"orthogonal"===a.get("layout")&&mn(e,{shape:{parentPoint:[b.x,b.y],childPoints:[[b.x,b.y]]},style:{opacity:0}},a,{cb:function(){o.remove(e)},removeOpt:g}))}}function zJ(c,b){for(var d,a=b.parentNode===c?b:b.parentNode||b;null==(d=a.getLayout());)a=a.parentNode===c?a:a.parentNode||a;return{source:a,sourceLayout:d}}function zK(a,g,e,h,b){var c=a.tree.getNodeByDataIndex(g),f=zJ(a.tree.root,c).sourceLayout,d={duration:b.get("animationDurationUpdate"),easing:b.get("animationEasingUpdate")};mn(e,{x:f.x+1,y:f.y+1},b,{cb:function(){h.remove(e),a.setItemGraphicEl(g,null)},removeOpt:d}),e.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:d}),c.children.forEach(function(c){zI(c,a,h,b,d)}),zI(c,a,h,b,d)}function zL(q,f,e,g,h){if("radial"===q){c=g.rawX,a=g.rawY,d=h.rawX,b=h.rawY;var i,j,k,l,c,d,a,b,m=zv(c,a),n=zv(c,a+(b-a)*e),o=zv(d,b+(a-b)*e),p=zv(d,b);return{x1:m.x||0,y1:m.y||0,x2:p.x||0,y2:p.y||0,cpx1:n.x||0,cpy1:n.y||0,cpx2:o.x||0,cpy2:o.y||0}}return c=g.x,a=g.y,d=h.x,b=h.y,("LR"===f||"RL"===f)&&(i=c+(d-c)*e,j=a,k=d+(c-d)*e,l=b),("TB"===f||"BT"===f)&&(i=c,j=a+(b-a)*e,k=d,l=b+(a-b)*e),{x1:c,y1:a,x2:d,y2:b,cpx1:i,cpy1:j,cpx2:k,cpy2:l}}var zM=dO,zN=a();function zO(b,a){if(zT(this)){var c=fP({},zN(this).datas);c[this.dataType]=a,zU(a,c,b)}else zV(a,this.dataType,zN(this).mainData,b);return a}function zP(a,b){return a.struct&&a.struct.update(),b}function zQ(b,a){return j(zN(a).datas,function(c,d){c!==a&&zV(c.cloneShallow(),d,a,b)}),a}function zR(b){var a=zN(this).mainData;return null==b||null==a?a:zN(a).datas[b]}function zS(){var a=zN(this).mainData;return null==a?[{data:a}]:Y(ap(zN(a).datas),function(b){return{type:b,data:zN(a).datas[b]}})}function zT(a){return zN(a).mainData===a}function zU(a,b,c){zN(a).datas={},j(b,function(b,d){zV(b,d,a,c)})}function zV(a,c,d,b){zN(d).datas[c]=a,zN(a).mainData=d,a.dataType=c,b.struct&&(a[b.structAttr]=b.struct,b.struct[b.datasAttr[c]]=a),a.getLinkedData=zR,a.getLinkedDataAll=zS}var zW=function(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,zU(b,c,a),j(c,function(c){j(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,m(zO,a))})}),b.wrapMethod("cloneShallow",m(zQ,a)),j(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,m(zP,a))}),f1(c[b.dataType]===b)},zX=function(){function a(a,b){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=a||"",this.hostTree=b}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(a,b,c){cw(a)&&(c=b,b=a,a=null),fT(a=a||{})&&(a={order:a});var e,f=a.order||"preorder",g=this[a.attr||"children"];"preorder"===f&&(e=b.call(c,this));for(var d=0;!e&&d<g.length;d++)g[d].eachNode(a,b,c);"postorder"===f&&b.call(c,this)},a.prototype.updateDepthAndHeight=function(d){var a=0;this.depth=d;for(var b=0;b<this.children.length;b++){var c=this.children[b];c.updateDepthAndHeight(d+1),c.height>a&&(a=c.height)}this.height=a+1},a.prototype.getNodeById=function(b){if(this.getId()===b)return this;for(var a=0,c=this.children,e=c.length;a<e;a++){var d=c[a].getNodeById(b);if(d)return d}},a.prototype.contains=function(b){if(b===this)return!0;for(var a=0,c=this.children,e=c.length;a<e;a++){var d=c[a].contains(b);if(d)return d}},a.prototype.getAncestors=function(c){for(var b=[],a=c?this:this.parentNode;a;)b.push(a),a=a.parentNode;return b.reverse(),b},a.prototype.getAncestorsIndices=function(){for(var b=[],a=this;a;)b.push(a.dataIndex),a=a.parentNode;return b.reverse(),b},a.prototype.getDescendantIndices=function(){var a=[];return this.eachNode(function(b){a.push(b.dataIndex)}),a},a.prototype.getValue=function(b){var a=this.hostTree.data;return a.getStore().get(a.getDimensionIndex(b||"value"),this.dataIndex)},a.prototype.setLayout=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},a.prototype.getVisual=function(a){return this.hostTree.data.getItemVisual(this.dataIndex,a)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var b=this.parentNode.children,a=0;a<b.length;++a)if(b[a]===this)return a}return -1},a.prototype.isAncestorOf=function(b){for(var a=b.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},a.prototype.isDescendantOf=function(a){return a!==this&&a.isAncestorOf(this)},a}(),dP=function(){function a(a){this.type="tree",this._nodes=[],this.hostModel=a}return a.prototype.eachNode=function(a,b,c){this.root.eachNode(a,b,c)},a.prototype.getNodeByDataIndex=function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},a.prototype.getNodeById=function(a){return this.root.getNodeById(a)},a.prototype.update=function(){for(var d=this.data,b=this._nodes,a=0,c=b.length;a<c;a++)b[a].dataIndex=-1;for(var a=0,c=d.count();a<c;a++)b[d.getRawIndex(a)].dataIndex=a},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(g,d,e){var b=new a(d),f=[],h=1;function i(a,g){var j=a.value;h=Math.max(h,cv(j)?j.length:1),f.push(a);var c=new zX(jK(a.name,""),b);g?zY(c,g):b.root=c,b._nodes.push(c);var d=a.children;if(d)for(var e=0;e<d.length;e++)i(d[e],c)}i(g),b.root.updateDepthAndHeight(0);var j=uw(f,{coordDimensions:["value"],dimensionsCount:h}).dimensions,c=new uv(j,d);return c.initData(f),e&&e(c),zW({mainData:c,struct:b,structAttr:"tree"}),b.update(),b},a}();function zY(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b)}var zZ=dP;function z$(b,e,f){if(b&&fQ(e,b.type)>=0){var c=f.getData().tree.root,a=b.targetNode;if(fT(a)&&(a=c.getNodeById(a)),a&&c.contains(a))return{node:a};var d=b.targetNodeId;if(null!=d&&(a=c.getNodeById(d)))return{node:a}}}function z_(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function z0(a,b){var c=z_(a);return fQ(c,b)>=0}function z1(a,d){for(var b=[];a;){var c=a.dataIndex;b.push({name:a.name,dataIndex:c,value:d.getRawValue(c)}),a=a.parentNode}return b.reverse(),b}var z2=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.hasSymbolVisual=!0,a.ignoreStyleOnData=!0,a}return cp(a,b),a.prototype.getInitialData=function(a){var c={name:a.name,children:a.data},d=a.leaves||{},f=new _(d,this,this.ecModel),b=zZ.createTree(c,this,function(a){a.wrapMethod("getItemModel",function(c,d){var a=b.getNodeByDataIndex(d);return a&&a.children.length&&a.isExpand||(c.parentModel=f),c})}),e=0;b.eachNode("preorder",function(a){a.depth>e&&(e=a.depth)});var g=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:e;return b.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=g}),b.data},a.prototype.getOrient=function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},a.prototype.setZoom=function(a){this.option.zoom=a},a.prototype.setCenter=function(a){this.option.center=a},a.prototype.formatTooltip=function(e,g,h){for(var d=this.getData().tree,f=d.root.children[0],a=d.getNodeByDataIndex(e),b=a.getValue(),c=a.name;a&&a!==f;)c=a.parentNode.name+"."+c,a=a.parentNode;return pl("nameValue",{name:c,value:b,noValue:isNaN(b)||null==b})},a.prototype.getDataParams=function(d){var a=b.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(d);return a.treeAncestors=z1(c,this),a.collapsed=!c.isExpand,a},a.type="series.tree",a.layoutMode="box",a.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},a}(e);function z3(e,f){for(var a,d=[e];a=d.pop();)if(f(a),a.isExpand){var b=a.children;if(b.length)for(var c=b.length-1;c>=0;c--)d.push(b[c])}}function z4(a,b){a.eachSeriesByType("tree",function(a){z5(a,b)})}function z5(b,s){var q,j,c=(q=b,j=s,nw(q.getBoxLayoutParams(),{width:j.getWidth(),height:j.getHeight()}));b.layoutInfo=c;var r=b.get("layout"),d=0,e=0,g=null;"radial"===r?(d=2*Math.PI,e=Math.min(c.height,c.width)/2,g=zu(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(d=c.width,e=c.height,g=zu());var k=b.getData().tree.root,a=k.children[0];if(a){!function(g){var c,a,d=g;d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var f=[d];c=f.pop();)if(a=c.children,c.isExpand&&a.length)for(var h=a.length,b=h-1;b>=0;b--){var e=a[b];e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},f.push(e)}}(k),function(f,g,h){for(var a,d=[f],e=[];a=d.pop();)if(e.push(a),a.isExpand){var b=a.children;if(b.length)for(var c=0;c<b.length;c++)d.push(b[c])}for(;a=e.pop();)g(a,h)}(a,zs,g),k.hierNode.modifier=-a.hierNode.prelim,z3(a,zt);var l=a,f=a,m=a;z3(a,function(a){var b=a.getLayout().x;b<l.getLayout().x&&(l=a),b>f.getLayout().x&&(f=a),a.depth>m.depth&&(m=a)});var h=l===f?1:g(l,f)/2,n=h-l.getLayout().x,o=0,p=0,t=0,u=0;if("radial"===r)o=d/(f.getLayout().x+h+n),p=e/(m.depth-1||1),z3(a,function(a){t=(a.getLayout().x+n)*o;var b=zv(t,u=(a.depth-1)*p);a.setLayout({x:b.x,y:b.y,rawX:t,rawY:u},!0)});else{var i=b.getOrient();"RL"===i||"LR"===i?(p=e/(f.getLayout().x+h+n),o=d/(m.depth-1||1),z3(a,function(a){u=(a.getLayout().x+n)*p,t="LR"===i?(a.depth-1)*o:d-(a.depth-1)*o,a.setLayout({x:t,y:u},!0)})):("TB"===i||"BT"===i)&&(o=d/(f.getLayout().x+h+n),p=e/(m.depth-1||1),z3(a,function(a){t=(a.getLayout().x+n)*o,u="TB"===i?(a.depth-1)*p:e-(a.depth-1)*p,a.setLayout({x:t,y:u},!0)}))}}}function z6(a){a.eachSeriesByType("tree",function(a){var b=a.getData();b.tree.eachNode(function(a){var c=a.getModel().getModel("itemStyle").getItemStyle();fP(b.ensureUniqueItemVisual(a.dataIndex,"style"),c)})})}var z7=["treemapZoomToNode","treemapRender","treemapMove"];function z8(a){var b=a.getData().tree,c={};b.eachNode(function(d){for(var b=d;b&&b.depth>1;)b=b.parentNode;var e=nQ(a.ecModel,b.name||b.dataIndex+"",c);d.setVisual("decal",e)})}var dQ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.preventUsingHoverLayer=!0,c}return cp(a,b),a.prototype.getInitialData=function(a,c){var d={name:a.name,children:a.data};z9(d);var b=a.levels||[],e=this.designatedVisualItemStyle={},g=new _({itemStyle:e},this,c);b=a.levels=Aa(b,c);var h=Y(b||[],function(a){return new _(a,g,c)},this),f=zZ.createTree(d,this,function(a){a.wrapMethod("getItemModel",function(a,c){var b=f.getNodeByDataIndex(c),d=b?h[b.depth]:null;return a.parentModel=d||g,a})});return f.data},a.prototype.optionUpdated=function(){this.resetViewRoot()},a.prototype.formatTooltip=function(a,d,e){var b=this.getData(),c=this.getRawValue(a);return pl("nameValue",{name:b.getName(a),value:c})},a.prototype.getDataParams=function(c){var a=b.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(c);return a.treeAncestors=z1(d,this),a.treePathInfo=a.treeAncestors,a},a.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},fP(this.layoutInfo,a)},a.prototype.mapIdToIndex=function(c){var a=this._idIndexMap;a||(a=this._idIndexMap=s(),this._idIndexMapCount=0);var b=a.get(c);return null==b&&a.set(c,b=this._idIndexMapCount++),b},a.prototype.getViewRoot=function(){return this._viewRoot},a.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},a.prototype.enableAriaDecal=function(){z8(this)},a.type="series.treemap",a.layoutMode="box",a.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},a}(e);function z9(b){var c=0;j(b.children,function(b){z9(b);var a=b.value;cv(a)&&(a=a[0]),c+=a});var a=b.value;cv(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=c),a<0&&(a=0),cv(b.value)?b.value[0]=a:b.value=a}function Aa(a,b){var f,g,c=jw(b.get("color")),d=jw(b.get(["aria","decal","decals"]));if(c){j(a=a||[],function(d){var a=new _(d),b=a.get("color"),c=a.get("decal");(a.get(["itemStyle","color"])||b&&"none"!==b)&&(f=!0),(a.get(["itemStyle","decal"])||c&&"none"!==c)&&(g=!0)});var e=a[0]||(a[0]={});return f||(e.color=c.slice()),!g&&d&&(e.decal=d.slice()),a}}var Ab=dQ,dR=function(){function a(a){this.group=new t,a.add(this.group)}return a.prototype.render=function(c,d,e,i){var a=c.getModel("breadcrumb"),f=this.group;if(f.removeAll(),a.get("show")&&e){var g=a.getModel("itemStyle"),h=g.getModel("textStyle"),b={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(e,b,h),this._renderContent(c,b,g,h,i),nx(f,b.pos,b.box)}},a.prototype._prepare=function(e,b,f){for(var a=e;a;a=a.parentNode){var c=jK(a.getModel().get("name"),""),d=Math.max(f.getTextRect(c).width+16,b.emptyItemWidth);b.totalWidth+=d+8,b.renderList.push({node:a,text:c,width:d})}},a.prototype._renderContent=function(g,a,o,h,p){for(var i=0,j=a.emptyItemWidth,q=g.get(["breadcrumb","height"]),r=nv(a.pos,a.box),k=a.totalWidth,d=a.renderList,b=d.length-1;b>=0;b--){var e=d[b],l=e.node,c=e.width,n=e.text;k>r.width&&(k-=c-j,c=j,n=null);var f=new bA({shape:{points:Ac(i,0,c,q,b===d.length-1,0===b)},style:x(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new bh({style:{text:n,fill:h.getTextColor(),font:h.getFont()}}),textConfig:{position:"inside"},z2:1e4*ay,onclick:m(p,l)});f.disableLabelAnimation=!0,this.group.add(f),Ad(f,g,l),i+=c+8}},a.prototype.remove=function(){this.group.removeAll()},a}();function Ac(a,b,d,c,e,g){var f=[[e?a:a-5,b],[a+d,b],[a+d,b+c],[e?a:a-5,b+c]];return g||f.splice(2,0,[a+d+5,b+c/2]),e||f.push([a,b+c/2]),f}function Ad(c,b,a){lz(c).eventData={componentType:"series",componentSubType:"treemap",componentIndex:b.componentIndex,seriesIndex:b.seriesIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&z1(a,b)}}var Ae=dR,Af=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(a,b,c,d,e){return!this._elExistsMap[a.id]&&(this._elExistsMap[a.id]=!0,this._storage.push({el:a,target:b,duration:c,delay:d,easing:e}),!0)},a.prototype.finished=function(a){return this._finishedCallback=a,this},a.prototype.start=function(){for(var e=this,f=this._storage.length,c=function(){--f<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},b=0,d=this._storage.length;b<d;b++){var a=this._storage[b];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:c,aborted:c})}return this},a}(),Ag=t,Ah=z,Ai="label",Aj="upperLabel",Ak=10*ay,Al=2*ay,Am=3*ay,An=I([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ao=function(b){var a=An(b);return a.stroke=a.fill=a.lineWidth=null,a},Ap=a(),dS=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._state="ready",c._storage=Aq(),c}return cp(a,b),a.prototype.render=function(a,f,d,b){var k=f.findComponents({mainType:"series",subType:"treemap",query:b});if(!(0>fQ(k,a))){this.seriesModel=a,this.api=d,this.ecModel=f;var e=z$(b,["treemapZoomToNode","treemapRootToNode"],a),c=b&&b.type,l=a.layoutInfo,m=!this._oldTree,g=this._storage,h="treemapRootToNode"===c&&e&&g?{rootNodeGroup:g.nodeGroup[e.node.getRawIndex()],direction:b.direction}:null,i=this._giveContainerGroup(l),n=a.get("animation"),j=this._doRender(i,a,h);!n||m||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?j.renderFinally():this._doAnimation(i,j,a,h),this._resetController(d),this._renderBreadcrumb(a,d,e)}},a.prototype._giveContainerGroup=function(b){var a=this._containerGroup;return a||(a=this._containerGroup=new Ag,this._initEvents(a),this.group.add(a)),a.x=b.x,a.y=b.y,a},a.prototype._doRender=function(e,f,l){var c,d,b=f.getData().tree,a=this._oldTree,g=Aq(),h=Aq(),i=this._storage,n=[];o(b.root?[b.root]:[],a&&a.root?[a.root]:[],e,b===a||!a,0);var k=(c=i,d=Aq(),c&&j(c,function(a,b){var c=d[b];j(a,function(a){a&&(c.push(a),Ap(a).willDelete=!0)})}),d);return this._oldTree=b,this._storage=h,{lastsForAnimation:g,willDeleteEls:k,renderFinally:function(){j(k,function(a){j(a,function(a){a.parent&&a.parent.remove(a)})}),j(n,function(a){a.invisible=!0,a.dirty()})}};function o(a,c,k,e,p){function d(a){return a.getId()}function b(j,m){var q,r,s,u,b=null!=j?a[j]:null,d=null!=m?c[m]:null,t=(q=b,r=d,s=k,Ar(f,h,i,l,g,n,q,r,s,u=p));t&&o(b&&b.viewChildren||[],d&&d.viewChildren||[],t,e,p+1)}e?(c=a,j(a,function(c,a){c.isRemoved()||b(a,a)})):new uf(c,a,d,d).add(b).update(b).remove(m(b,null)).execute()}},a.prototype._doAnimation=function(f,d,a,g){var b=a.get("animationDurationUpdate"),c=a.get("animationEasing"),h=(cw(b)?0:b)||0,i=(cw(c)?null:c)||"cubicOut",e=new Af;j(d.willDeleteEls,function(a,b){j(a,function(d,l){if(!d.invisible){var c,k=d.parent,a=Ap(k);if(g&&"drillDown"===g.direction)c=k===g.rootNodeGroup?{shape:{x:0,y:0,width:a.nodeWidth,height:a.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,j=0;a.willDelete||(f=a.nodeWidth/2,j=a.nodeHeight/2),c="nodeGroup"===b?{x:f,y:j,style:{opacity:0}}:{shape:{x:f,y:j,width:0,height:0},style:{opacity:0}}}c&&e.add(d,c,h,0,i)}})}),j(this._storage,function(a,b){j(a,function(a,g){var c=d.lastsForAnimation[b][g],f={};c&&(a instanceof t?null!=c.oldX&&(f.x=a.x,f.y=a.y,a.x=c.oldX,a.y=c.oldY):(c.oldShape&&(f.shape=fP({},a.shape),a.setShape(c.oldShape)),c.fadein?(a.setStyle("opacity",0),f.style={opacity:1}):1!==a.style.opacity&&(f.style={opacity:1})),e.add(a,f,h,0,i))})},this),this._state="animating",e.finished(cu(function(){this._state="ready",d.renderFinally()},this)).start()},a.prototype._resetController=function(b){var a=this._controller;a||((a=this._controller=new yb(b.getZr())).enable(this.seriesModel.get("roam")),a.on("pan",cu(this._onPan,this)),a.on("zoom",cu(this._onZoom,this)));var c=new as(0,0,b.getWidth(),b.getHeight());a.setPointerChecker(function(d,a,b){return c.contain(a,b)})},a.prototype._clearController=function(){var a=this._controller;a&&(a.dispose(),a=null)},a.prototype._onPan=function(b){if("animating"!==this._state&&(Math.abs(b.dx)>3||Math.abs(b.dy)>3)){var c=this.seriesModel.getData().tree.root;if(c){var a=c.getLayout();a&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+b.dx,y:a.y+b.dy,width:a.width,height:a.height}})}}},a.prototype._onZoom=function(d){var e=d.originX,f=d.originY;if("animating"!==this._state){var g=this.seriesModel.getData().tree.root;if(!g)return;var b=g.getLayout();if(!b)return;var c=new as(b.x,b.y,b.width,b.height),h=this.seriesModel.layoutInfo;e-=h.x,f-=h.y;var a=cJ();iB(a,a,[-e,-f]),iD(a,a,[d.scale,d.scale]),iB(a,a,[e,f]),c.applyTransform(a),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},a.prototype._initEvents=function(a){var b=this;a.on("click",function(e){if("ready"===b._state){var c=b.seriesModel.get("nodeClick",!0);if(c){var a=b.findTarget(e.offsetX,e.offsetY);if(a){var d=a.node;if(d.getLayout().isLeafRoot)b._rootToNode(a);else if("zoomToNode"===c)b._zoomToNode(a);else if("link"===c){var f=d.hostTree.data.getItemModel(d.dataIndex),g=f.get("link",!0),h=f.get("target",!0)||"blank";g&&nq(g,h)}}}}},this)},a.prototype._renderBreadcrumb=function(a,c,b){var d=this;b||(b=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2))||(b={node:a.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Ae(this.group))).render(a,c,b.node,function(b){"animating"!==d._state&&(z0(a.getViewRoot(),b)?d._rootToNode({node:b}):d._zoomToNode({node:b}))})},a.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Aq(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},a.prototype.dispose=function(){this._clearController()},a.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},a.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},a.prototype.findTarget=function(b,c){var a;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(g){var f=this._storage.background[g.getRawIndex()];if(f){var d=f.transformCoordToLocal(b,c),e=f.shape;if(!(e.x<=d[0])||!(d[0]<=e.x+e.width)||!(e.y<=d[1])||!(d[1]<=e.y+e.height))return!1;a={node:g,offsetX:d[0],offsetY:d[1]}}},this),a},a.type="treemap",a}(f);function Aq(){return{nodeGroup:[],background:[],content:[]}}function Ar(q,w,x,y,z,A,c,i,r,j){if(c){var b=c.getLayout(),f=q.getData(),e=c.getModel();if(f.setItemGraphicEl(c.dataIndex,null),b&&b.isInView){var s=b.width,u=b.height,B=b.borderWidth,C=b.invisible,D=c.getRawIndex(),E=i&&i.getRawIndex(),k=c.viewChildren,F=b.upperHeight,l=k&&k.length,v=e.getModel("itemStyle"),G=e.getModel(["emphasis","itemStyle"]),H=e.getModel(["blur","itemStyle"]),I=e.getModel(["select","itemStyle"]),J=v.get("borderRadius")||0,a=N("nodeGroup",Ag);if(a){if(r.add(a),a.x=b.x||0,a.y=b.y||0,a.markRedraw(),Ap(a).nodeWidth=s,Ap(a).nodeHeight=u,b.isAboveViewRoot)return a;var d=N("background",Ah,j,Al);d&&function(j,a,k){var b=lz(a);if(b.dataIndex=c.dataIndex,b.seriesIndex=q.seriesIndex,a.setShape({x:0,y:0,width:s,height:u,r:J}),C)K(a);else{a.invisible=!1;var d=c.getVisual("style"),e=d.stroke,f=Ao(v);f.fill=e;var g=An(G);g.fill=G.get("borderColor");var h=An(H);h.fill=H.get("borderColor");var i=An(I);if(i.fill=I.get("borderColor"),k){var l=s-2*B;L(a,e,d.opacity,{x:B,y:0,width:l,height:F})}else a.removeTextContent();a.setStyle(f),a.ensureState("emphasis").style=g,a.ensureState("blur").style=h,a.ensureState("select").style=i,lU(a)}j.add(a)}(a,d,l&&b.upperLabelHeight);var g=e.getModel("emphasis"),h=g.get("focus"),m=g.get("blurScope"),n=g.get("disabled"),o="ancestor"===h?c.getAncestorsIndices():"descendant"===h?c.getDescendantIndices():h;if(l)me(a)&&md(a,!1),d&&(md(d,!n),f.setItemGraphicEl(c.dataIndex,d),l9(d,o,m));else{var p=N("content",Ah,j,Am);p&&function(g,a){var e=lz(a);if(e.dataIndex=c.dataIndex,e.seriesIndex=q.seriesIndex,a.culling=!0,a.setShape({x:B,y:B,width:Math.max(s-2*B,0),height:Math.max(u-2*B,0),r:J}),C)K(a);else{a.invisible=!1;var b=c.getVisual("style"),f=b.fill,d=Ao(v);d.fill=f,d.decal=b.decal;var h=An(G),i=An(H),j=An(I);L(a,f,b.opacity,null),a.setStyle(d),a.ensureState("emphasis").style=h,a.ensureState("blur").style=i,a.ensureState("select").style=j,lU(a)}g.add(a)}(a,p),d.disableMorphing=!0,d&&me(d)&&md(d,!1),md(a,!n),f.setItemGraphicEl(c.dataIndex,a),l9(a,o,m)}return a}}}function K(a){a.invisible||A.push(a)}function L(g,i,j,a){var k=e.getModel(a?Aj:Ai),l=jK(e.get("name"),null),m=k.getShallow("show");mu(g,mv(e,a?Aj:Ai),{defaultText:m?l:null,inheritColor:i,defaultOpacity:j,labelFetcher:q,labelDataIndex:c.dataIndex});var d=g.getTextContent();if(d){var f=d.style,n=cy(f.padding||0);a&&(g.setTextConfig({layoutRect:a}),d.disableLabelLayout=!0),d.beforeUpdate=function(){var b=Math.max((a?a.width:g.shape.width)-n[1]-n[3],0),c=Math.max((a?a.height:g.shape.height)-n[0]-n[2],0);(f.width!==b||f.height!==c)&&d.setStyle({width:b,height:c})},f.truncateMinChar=2,f.lineOverflow="truncate",M(f,a,b);var h=d.getState("emphasis");M(h?h.style:null,a,b)}}function M(a,d,e){var b=a?a.text:null;if(!d&&e.isLeafRoot&&null!=b){var c=q.get("drillDownIcon",!0);a.text=c?c+" "+b:b}}function N(b,f,g,h){var c,d,a=null!=E&&x[b][E],e=z[b];return a?(x[b][E]=null,O(e,a)):C||((a=new f)instanceof P&&(a.z2=(c=g,d=h,c*Ak+d)),Q(e,a)),w[b][D]=a}function O(c,a){var b=c[D]={};a instanceof Ag?(b.oldX=a.x,b.oldY=a.y):b.oldShape=fP({},a.shape)}function Q(h,i){var a=h[D]={},e=c.parentNode,f=i instanceof t;if(e&&(!y||"drillDown"===y.direction)){var g=0,d=0,b=z.background[e.getRawIndex()];!y&&b&&b.oldShape&&(g=b.oldShape.width,d=b.oldShape.height),f?(a.oldX=0,a.oldY=d):a.oldShape={x:g,y:d,width:0,height:0}}a.fadein=!f}}var As=dS,At=j,Au=aq,dT=function(){function a(d){var c=d.mappingMethod,f=d.type,b=this.option=ct(d);this.type=f,this.mappingMethod=c,this._normalizeData=AG[c];var e=a.visualHandlers[f];this.applyVisual=e.applyVisual,this.getColorMapper=e.getColorMapper,this._normalizedToVisual=e._normalizedToVisual[c],"piecewise"===c?(Ax(b),Av(b)):"category"===c?b.categories?Aw(b):Ax(b,!0):(f1("linear"!==c||b.dataExtent),Ax(b))}return a.prototype.mapValueToVisual=function(a){var b=this._normalizeData(a);return this._normalizedToVisual(b,a)},a.prototype.getNormalizer=function(){return cu(this._normalizeData,this)},a.listVisualTypes=function(){return ap(a.visualHandlers)},a.isValidType=function(b){return a.visualHandlers.hasOwnProperty(b)},a.eachVisual=function(a,b,c){aq(a)?j(a,b,c):b.call(c,a)},a.mapVisual=function(b,e,f){var c,d=cv(b)?[]:aq(b)?{}:(c=!0,null);return a.eachVisual(b,function(g,a){var b=e.call(f,g,a);c?d=b:d[a]=b}),d},a.retrieveVisuals=function(b){var c,d={};return b&&At(a.visualHandlers,function(e,a){b.hasOwnProperty(a)&&(d[a]=b[a],c=!0)}),c?d:null},a.prepareVisualTypes=function(a){if(cv(a))a=a.slice();else{if(!Au(a))return[];var b=[];At(a,function(c,a){b.push(a)}),a=b}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},a.dependsOn=function(a,b){return"color"===b?!!(a&&0===a.indexOf(b)):a===b},a.findPieceIndex=function(c,d,f){for(var j,k=1/0,a=0,h=d.length;a<h;a++){var e=d[a].value;if(null!=e){if(e===c||fT(e)&&e===c+"")return a;f&&l(e,a)}}for(var a=0,h=d.length;a<h;a++){var i=d[a],b=i.interval,g=i.close;if(b){if(b[0]=== -1/0){if(AH(g[1],c,b[1]))return a}else if(b[1]===1/0){if(AH(g[0],b[0],c))return a}else if(AH(g[0],b[0],c)&&AH(g[1],c,b[1]))return a;f&&l(b[0],a),f&&l(b[1],a)}}if(f)return c===1/0?d.length-1:c=== -1/0?0:j;function l(b,d){var a=Math.abs(b-c);a<k&&(k=a,j=d)}},a.visualHandlers={color:{applyVisual:AA("color"),getColorMapper:function(){var a=this.option;return cu("category"===a.mappingMethod?function(a,b){return b||(a=this._normalizeData(a)),AB.call(this,a)}:function(c,d,b){var e=!!b;return d||(c=this._normalizeData(c)),b=hL(c,a.parsedVisual,b),e?b:hO(b,"rgba")},this)},_normalizedToVisual:{linear:function(a){return hO(hL(a,this.option.parsedVisual),"rgba")},category:AB,piecewise:function(b,c){var a=AE.call(this,c);return null==a&&(a=hO(hL(b,this.option.parsedVisual),"rgba")),a},fixed:AC}},colorHue:Ay(function(a,b){return hM(a,b)}),colorSaturation:Ay(function(a,b){return hM(a,null,b)}),colorLightness:Ay(function(a,b){return hM(a,null,null,b)}),colorAlpha:Ay(function(a,b){return hN(a,b)}),decal:{applyVisual:AA("decal"),_normalizedToVisual:{linear:null,category:AB,piecewise:null,fixed:null}},opacity:{applyVisual:AA("opacity"),_normalizedToVisual:AD([0,1])},liftZ:{applyVisual:AA("liftZ"),_normalizedToVisual:{linear:AC,category:AC,piecewise:AC,fixed:AC}},symbol:{applyVisual:function(a,c,b){b("symbol",this.mapValueToVisual(a))},_normalizedToVisual:{linear:Az,category:AB,piecewise:function(b,c){var a=AE.call(this,c);return null==a&&(a=Az.call(this,b)),a},fixed:AC}},symbolSize:{applyVisual:AA("symbolSize"),_normalizedToVisual:AD([0,1])}},a}();function Av(a){var b=a.pieceList;a.hasSpecialVisual=!1,j(b,function(b,c){b.originIndex=c,null!=b.visual&&(a.hasSpecialVisual=!0)})}function Aw(b){var c=b.categories,f=b.categoryMap={},a=b.visual;if(At(c,function(a,b){f[a]=b}),!cv(a)){var e=[];aq(a)?At(a,function(b,c){var a=f[c];e[null!=a?a:-1]=b}):e[-1]=a,a=AF(b,e)}for(var d=c.length-1;d>=0;d--)null==a[d]&&(delete f[c[d]],c.pop())}function Ax(c,d){var b=c.visual,a=[];aq(b)?At(b,function(b){a.push(b)}):null!=b&&a.push(b),d||1!==a.length||({color:1,symbol:1}).hasOwnProperty(c.type)||(a[1]=a[0]),AF(c,a)}function Ay(a){return{applyVisual:function(b,c,d){var e=this.mapValueToVisual(b);d("color",a(c("color"),e))},_normalizedToVisual:AD([0,1])}}function Az(b){var a=this.option.visual;return a[Math.round(bb(b,[0,1],[0,a.length-1],!0))]||{}}function AA(a){return function(b,d,c){c(a,this.mapValueToVisual(b))}}function AB(a){var b=this.option.visual;return b[this.option.loop&& -1!==a?a%b.length:a]}function AC(){return this.option.visual[0]}function AD(a){return{linear:function(b){return bb(b,a,this.option.visual,!0)},category:AB,piecewise:function(c,d){var b=AE.call(this,d);return null==b&&(b=bb(c,a,this.option.visual,!0)),b},fixed:AC}}function AE(d){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual){var e=dT.findPieceIndex(d,c),a=c[e];if(a&&a.visual)return a.visual[this.type]}}function AF(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=Y(b,function(a){var b;return hI(a)||[0,0,0,1]})),b}var AG={linear:function(a){return bb(a,this.option.dataExtent,[0,1],!0)},piecewise:function(c){var a=this.option.pieceList,b=dT.findPieceIndex(c,a,!0);if(null!=b)return bb(b,[0,a.length-1],[0,1],!0)},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?-1:b},fixed:y};function AH(c,a,b){return c?a<=b:a<b}var b9=dT,AI=a(),AJ={seriesType:"treemap",reset:function(a){var b=a.getData().tree.root;!b.isRemoved()&&AK(b,{},a.getViewRoot().getAncestors(),a)}};function AK(a,l,o,m){var b,g=a.getModel(),c=a.getLayout(),n=a.hostTree.data;if(c&&!c.invisible&&c.isInView){var d=g.getModel("itemStyle"),f=AL(d,l,m),h=n.ensureUniqueItemVisual(a.dataIndex,"style"),i=d.get("borderColor"),k=d.get("borderColorSaturation");null!=k&&(b=AM(f),i=AN(k,b)),h.stroke=i;var e=a.viewChildren;if(e&&e.length){var p=AP(a,g,c,d,f,e);j(e,function(a,b){if(a.depth>=o.length||a===o[a.depth]){var c=AR(g,f,a,b,p,m);AK(a,c,o,m)}})}else b=AM(f),h.fill=b}}function AL(d,a,b){var c=fP({},a),e=b.designatedVisualItemStyle;return j(["color","colorAlpha","colorSaturation"],function(b){e[b]=a[b];var f=d.get(b);e[b]=null,null!=f&&(c[b]=f)}),c}function AM(b){var a=AO(b,"color");if(a){var c=AO(b,"colorAlpha"),d=AO(b,"colorSaturation");return d&&(a=hM(a,null,null,d)),c&&(a=hN(a,c)),a}}function AN(b,a){return null!=a?hM(a,null,null,b):null}function AO(b,c){var a=b[c];if(null!=a&&"none"!==a)return a}function AP(l,a,k,m,h,i){if(i&&i.length){var d=AQ(a,"color")||null!=h.color&&"none"!==h.color&&(AQ(a,"colorAlpha")||AQ(a,"colorSaturation"));if(d){var e=a.get("visualMin"),f=a.get("visualMax"),b=k.dataExtent.slice();null!=e&&e<b[0]&&(b[0]=e),null!=f&&f>b[1]&&(b[1]=f);var g=a.get("colorMappingBy"),c={type:d.name,dataExtent:b,visual:d.range};"color"===c.type&&("index"===g||"id"===g)?(c.mappingMethod="category",c.loop=!0):c.mappingMethod="linear";var j=new b9(c);return AI(j).drColorMappingBy=g,j}}}function AQ(c,b){var a=c.get(b);return cv(a)&&a.length?{name:b,range:a}:null}function AR(f,g,b,h,a,i){var c=fP({},g);if(a){var d=a.type,e="color"===d&&AI(a).drColorMappingBy,j="index"===e?h:"id"===e?i.mapIdToIndex(b.getId()):b.getValue(f.get("visualDimension"));c[d]=a.mapValueToVisual(j)}return c}var AS=Math.max,AT=Math.min,AU=cx,AV=j,AW=["itemStyle","borderWidth"],AX=["itemStyle","gapWidth"],AY=["upperLabel","show"],AZ=["upperLabel","height"],A$={seriesType:"treemap",reset:function(a,u,e,f){var k=e.getWidth(),l=e.getHeight(),g=a.option,c=nw(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),m=g.size||[],n=je(AU(c.width,m[0]),k),o=je(AU(c.height,m[1]),l),h=f&&f.type,p=z$(f,["treemapZoomToNode","treemapRootToNode"],a),i="treemapRender"===h||"treemapMove"===h?f.rootRect:null,b=a.getViewRoot(),q=z_(b);if("treemapMove"!==h){var j="treemapZoomToNode"===h?A6(a,p,b,n,o):i?[i.width,i.height]:[n,o],d=g.sort;d&&"asc"!==d&&"desc"!==d&&(d="desc");var t={squareRatio:g.squareRatio,sort:d,leafDepth:g.leafDepth};b.hostTree.clearLayouts();var r={x:0,y:0,width:j[0],height:j[1],area:j[0]*j[1]};b.setLayout(r),A_(b,t,!1,0),r=b.getLayout(),AV(q,function(c,d){var a=(q[d+1]||b).getValue();c.setLayout(fP({dataExtent:[a,a],borderWidth:0,upperHeight:0},r))})}var s=a.getData().tree.root;s.setLayout(A7(c,i,p),!0),a.setLayoutInfo(c),A8(s,new as(-c.x,-c.y,k,l),q,b,0)}};function A_(e,l,h,q){if(!e.isRemoved()){var c,d,r=e.getLayout();c=r.width,d=r.height;var f=e.getModel(),m=f.get(AW),i=f.get(AX)/2,s=A9(f),t=Math.max(m,s),n=m-i,u=t-i;e.setLayout({borderWidth:m,upperHeight:t,upperLabelHeight:s},!0),c=AS(c-2*n,0),d=AS(d-n-u,0);var v=c*d,g=A0(e,f,v,l,h,q);if(g.length){var j={x:n,y:u,width:c,height:d},k=AT(c,d),o=1/0,a=[];a.area=0;for(var b=0,p=g.length;b<p;){var w=g[b];a.push(w),a.area+=w.getLayout().area;var x=A4(a,k,l.squareRatio);x<=o?(b++,o=x):(a.area-=a.pop().getLayout().area,A5(a,k,j,i,!1),k=AT(j.width,j.height),a.length=a.area=0,o=1/0)}if(a.length&&A5(a,k,j,i,!0),!h){var y=f.get("childrenVisibleMin");null!=y&&v<y&&(h=!0)}for(var b=0,p=g.length;b<p;b++)A_(g[b],l,h,q+1)}}}function A0(b,g,h,f,j,k){var a=b.children||[],c=f.sort;"asc"!==c&&"desc"!==c&&(c=null);var i=null!=f.leafDepth&&f.leafDepth<=k;if(j&&!i)return b.viewChildren=[];a=fS(a,function(a){return!a.isRemoved()}),A2(a,c);var d=A3(g,a,c);if(0===d.sum||(d.sum=A1(g,h,d.sum,c,a),0===d.sum))return b.viewChildren=[];for(var e=0,l=a.length;e<l;e++){var m=a[e].getValue()/d.sum*h;a[e].setLayout({area:m})}return i&&(a.length&&b.setLayout({isLeafRoot:!0},!0),a.length=0),b.viewChildren=a,b.setLayout({dataExtent:d.dataExtent},!0),a}function A1(h,i,c,f,d){if(!f)return c;for(var j=h.get("visibleMin"),a=d.length,e=a,b=a-1;b>=0;b--){var g=d["asc"===f?a-b-1:b].getValue();g/c*i<j&&(e=b,c-=g)}return"asc"===f?d.splice(0,a-e):d.splice(e,a-e),c}function A2(a,b){return b&&a.sort(function(a,c){var d="asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue();return 0===d?"asc"===b?a.dataIndex-c.dataIndex:c.dataIndex-a.dataIndex:d}),a}function A3(f,a,d){for(var b,e=0,c=0,g=a.length;c<g;c++)e+=a[c].getValue();var h=f.get("visualDimension");return a&&a.length?"value"===h&&d?(b=[a[a.length-1].getValue(),a[0].getValue()],"asc"===d&&b.reverse()):(b=[1/0,-1/0],AV(a,function(c){var a=c.getValue(h);a<b[0]&&(b[0]=a),a>b[1]&&(b[1]=a)})):b=[NaN,NaN],{sum:e,dataExtent:b}}function A4(b,g,i){for(var c=0,d=1/0,e=0,a=void 0,j=b.length;e<j;e++)(a=b[e].getLayout().area)&&(a<d&&(d=a),a>c&&(c=a));var f=b.area*b.area,h=g*g*i;return f?AS(h*c/f,f/(h*d)):1/0}function A5(j,k,a,h,r){var d=k===a.width?0:1,b=1-d,e=["x","y"],f=["width","height"],l=a[e[d]],c=k?j.area/k:0;(r||c>a[f[b]])&&(c=a[f[b]]);for(var i=0,m=j.length;i<m;i++){var n=j[i],g={},o=c?n.getLayout().area/c:0,s=g[f[b]]=AS(c-2*h,0),p=a[e[d]]+a[f[d]]-l,q=i===m-1||p<o?p:o,t=g[f[d]]=AS(q-2*h,0);g[e[b]]=a[e[b]]+AT(h,s/2),g[e[d]]=l+AT(h,t/2),l+=q,n.setLayout(g,!0)}a[e[b]]+=c,a[f[b]]-=c}function A6(o,p,q,f,g){var c,b=(p||{}).node,i=[f,g];if(!b||b===q)return i;for(var d=f*g,a=d*o.option.zoomToNodeRatio;c=b.parentNode;){for(var j=0,k=c.children,h=0,r=k.length;h<r;h++)j+=k[h].getValue();var l=b.getValue();if(0===l)return i;a*=j/l;var m=c.getModel(),e=m.get(AW),s=Math.max(e,A9(m));(a+=4*e*e+(3*e+s)*Math.pow(a,.5))>9007199254740991&&(a=9007199254740991),b=c}a<d&&(a=d);var n=Math.pow(a/d,.5);return[f*n,g*n]}function A7(e,c,f){if(c)return{x:c.x,y:c.y};var g={x:0,y:0};if(!f)return g;var h=f.node,d=h.getLayout();if(!d)return g;for(var a=[d.width/2,d.height/2],b=h;b;){var i=b.getLayout();a[0]+=i.x,a[1]+=i.y,b=b.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}function A8(a,b,f,h,g){var c=a.getLayout(),d=f[g],e=d&&d===a;if((!d||e)&&(g!==f.length||a===h)){a.setLayout({isInView:!0,invisible:!e&&!b.intersect(c),isAboveViewRoot:e},!0);var i=new as(b.x-c.x,b.y-c.y,b.width,b.height);AV(a.viewChildren||[],function(a){A8(a,i,f,h,g+1)})}}function A9(a){return a.get(AY)?a.get(AZ):0}function Ba(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph().data,e=c.mapArray(c.getName);d.filterSelf(function(f){var a=d.getItemModel(f).getShallow("category");if(null!=a){fV(a)&&(a=e[a]);for(var c=0;c<b.length;c++)if(!b[c].isSelected(a))return!1}return!0})})}function Bb(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(d){var i=c.getName(d);e["ec-"+i]=d;var j=c.getItemModel(d),g=j.getModel("itemStyle").getItemStyle();g.fill||(g.fill=a.getColorFromPalette(i,b)),c.setItemVisual(d,"style",g);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++){var k=j.getShallow(h[f],!0);null!=k&&c.setItemVisual(d,h[f],k)}}),c.count()&&d.each(function(f){var a=d.getItemModel(f).getShallow("category");if(null!=a){fT(a)&&(a=e["ec-"+a]);var h=c.getItemVisual(a,"style");fP(d.ensureUniqueItemVisual(f,"style"),h);for(var g=["symbol","symbolSize","symbolKeepAspect"],b=0;b<g.length;b++)d.setItemVisual(f,g[b],c.getItemVisual(a,g[b]))}})})}function Bc(a){return a instanceof Array||(a=[a,a]),a}function Bd(a){a.eachSeriesByType("graph",function(b){var e=b.getGraph(),a=b.getEdgeData(),c=Bc(b.get("edgeSymbol")),d=Bc(b.get("edgeSymbolSize"));a.setVisual("fromSymbol",c&&c[0]),a.setVisual("toSymbol",c&&c[1]),a.setVisual("fromSymbolSize",d&&d[0]),a.setVisual("toSymbolSize",d&&d[1]),a.setVisual("style",b.getModel("lineStyle").getLineStyle()),a.each(function(h){var i=a.getItemModel(h),b=e.getEdgeByIndex(h),d=Bc(i.getShallow("symbol",!0)),f=Bc(i.getShallow("symbolSize",!0)),j=i.getModel("lineStyle").getLineStyle(),g=a.ensureUniqueItemVisual(h,"style");switch(fP(g,j),g.stroke){case"source":var c=b.node1.getVisual("style");g.stroke=c&&c.fill;break;case"target":var c=b.node2.getVisual("style");g.stroke=c&&c.fill}d[0]&&b.setVisual("fromSymbol",d[0]),d[1]&&b.setVisual("toSymbol",d[1]),f[0]&&b.setVisual("fromSymbolSize",f[0]),f[1]&&b.setVisual("toSymbolSize",f[1])})})}var Be=function(a){return a.get("autoCurveness")||null},Bf=function(d,f){var c=Be(d),a=20,e=[];if(fV(c))a=c;else if(cv(c)){d.__curvenessList=c;return}f>a&&(a=f);var g=a%2?a+2:a+3;e=[];for(var b=0;b<g;b++)e.push((b%2?b+1:b)/10*(b%2?-1:1));d.__curvenessList=e},Bg=function(a,b,c){var d=[a.id,a.dataIndex].join("."),e=[b.id,b.dataIndex].join(".");return[c.uid,d,e].join("-->")},Bh=function(b){var a=b.split("-->");return[a[0],a[2],a[1]].join("-->")},Bi=function(a,b){var c=Bg(a.node1,a.node2,b);return b.__edgeMap[c]},Bj=function(a,b){var c=Bk(Bg(a.node1,a.node2,b),b),d=Bk(Bg(a.node2,a.node1,b),b);return c+d},Bk=function(a,c){var b=c.__edgeMap;return b[a]?b[a].length:0};function Bl(b,a,m,n){var f=Be(a),k=cv(f);if(!f)return null;var g=Bi(b,a);if(!g)return null;for(var h=-1,i=0;i<g.length;i++)if(g[i]===m){h=i;break}var l=Bj(b,a);Bf(a,l),b.lineStyle=b.lineStyle||{};var o=Bg(b.node1,b.node2,a),j=a.__curvenessList,c=k?0:l%2?0:1;if(g.isForward)return j[c+h];var p=Bh(o),e=Bk(p,a),d=j[h+e+c];return n?k?f&&0===f[0]?(e+c)%2?d:-d:((e%2?0:1)+c)%2?d:-d:(e+c)%2?d:-d:j[h+e+c]}function Bm(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),Bn(c,a)}}function Bn(a,b){a.eachEdge(function(a,g){var e=f_(a.getModel().get(["lineStyle","curveness"]),-Bl(a,b,g,!0),0),c=gd(a.node1.getLayout()),d=gd(a.node2.getLayout()),f=[c,d];+e&&f.push([(c[0]+d[0])/2-(c[1]-d[1])*e,(c[1]+d[1])/2-(d[0]-c[0])*e]),a.setLayout(f)})}function Bo(a,b){a.eachSeriesByType("graph",function(a){var f=a.get("layout"),d=a.coordinateSystem;if(d&&"view"!==d.type){var b=a.getData(),g=[];j(d.dimensions,function(a){g=g.concat(b.mapDimensionsAll(a))});for(var c=0;c<b.count();c++){for(var h=[],i=!1,e=0;e<g.length;e++){var k=b.get(g[e],c);isNaN(k)||(i=!0),h.push(k)}i?b.setItemLayout(c,d.dataToPoint(h)):b.setItemLayout(c,[NaN,NaN])}Bn(b.graph,a)}else f&&"none"!==f||Bm(a)})}function Bp(b){var a=b.coordinateSystem;if("view"!==a.type)return 1;var c=b.option.nodeScaleRatio,d=a.scaleX,e=a.getZoom();return((e-1)*c+1)/d}function Bq(b){var a=b.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}var Br=Math.PI,Bs=[];function Bt(c,i){var d=c.coordinateSystem;if(!d||"view"===d.type){var a=d.getBoundingRect(),b=c.getData(),e=b.graph,f=a.width/2+a.x,g=a.height/2+a.y,j=Math.min(a.width,a.height)/2,h=b.count();b.setLayout({cx:f,cy:g}),h&&(Bu[i](c,e,b,j,f,g,h),e.eachEdge(function(b,i){var h,a=f_(b.getModel().get(["lineStyle","curveness"]),Bl(b,c,i),0),d=gd(b.node1.getLayout()),e=gd(b.node2.getLayout()),j=(d[0]+e[0])/2,k=(d[1]+e[1])/2;+a&&(a*=3,h=[f*a+j*(1-a),g*a+k*(1-a)]),b.setLayout([d,e,h])}))}}var Bu={value:function(e,a,b,f,g,h,c){var i=0,d=b.getSum("value"),j=2*Math.PI/(d||c);a.eachNode(function(a){var c=a.getValue("value"),b=j*(d?c:1)/2;i+=b,a.setLayout([f*Math.cos(i)+g,f*Math.sin(i)+h]),i+=b})},symbolSize:function(c,a,e,f,g,h,b){var d=0;Bs.length=b;var i=Bp(c);a.eachNode(function(c){var a=Bq(c);isNaN(a)&&(a=2),a<0&&(a=0);var b=Math.asin((a*=i)/2/f);isNaN(b)&&(b=Br/2),Bs[c.dataIndex]=b,d+=2*b});var j=(2*Br-d)/b/2,k=0;a.eachNode(function(a){var b=j+Bs[a.dataIndex];k+=b,a.setLayout([f*Math.cos(k)+g,f*Math.sin(k)+h]),k+=b})}};function Bv(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&Bt(a,"symbolSize")})}var Bw=cz;function Bx(a){a.eachSeriesByType("graph",function(a){var f=a.coordinateSystem;if(!f||"view"===f.type){if("force"===a.get("layout")){var l=a.preservedPoints||{},j=a.getGraph(),g=j.data,k=j.edgeData,b=a.getModel("force"),h=b.get("initLayout");a.preservedPoints?g.each(function(a){var b=g.getId(a);g.setItemLayout(a,l[b]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&Bt(a,"value"):Bm(a);var o=g.getDataExtent("value"),p=k.getDataExtent("value"),c=b.get("repulsion"),d=b.get("edgeLength"),q=cv(c)?c:[c,c],i=cv(d)?d:[d,d];i=[i[1],i[0]];var m=g.mapArray("value",function(d,c){var a=g.getItemLayout(c),b=bb(d,o,q);return isNaN(b)&&(b=(q[0]+q[1])/2),{w:b,rep:b,fixed:g.getItemModel(c).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}}),n=k.mapArray("value",function(e,d){var b=j.getEdgeByIndex(d),c=bb(e,p,i);isNaN(c)&&(c=(i[0]+i[1])/2);var f=b.getModel(),g=f_(b.getModel().get(["lineStyle","curveness"]),-Bl(b,a,d,!0),0);return{n1:m[b.node1.dataIndex],n2:m[b.node2.dataIndex],d:c,curveness:g,ignoreForceLayout:f.get("ignoreForceLayout")}}),e=function(i,j,a){for(var l,m,e=i,n=j,c=a.rect,f=c.width,g=c.height,h=[c.x+f/2,c.y+g/2],o=null==a.gravity?.1:a.gravity,d=0;d<e.length;d++){var b=e[d];b.p||(b.p=H(f*(Math.random()-.5)+h[0],g*(Math.random()-.5)+h[1])),b.pp=gd(b.p),b.edges=null}var k=null==a.friction?.6:a.friction,p=k;return{warmUp:function(){p=.8*k},setFixed:function(a){e[a].fixed=!0},setUnfixed:function(a){e[a].fixed=!1},beforeStep:function(a){l=a},afterStep:function(a){m=a},step:function(r){l&&l(e,n);for(var b=[],i=e.length,a=0;a<n.length;a++){var j=n[a];if(!j.ignoreForceLayout){var f=j.n1,c=j.n2;gg(b,c.p,f.p);var g=gh(b)-j.d,k=c.w/(f.w+c.w);isNaN(k)&&(k=0),gk(b,b),f.fixed||Bw(f.p,f.p,b,k*g*p),c.fixed||Bw(c.p,c.p,b,-(1-k)*g*p)}}for(var a=0;a<i;a++){var d=e[a];d.fixed||(gg(b,h,d.p),Bw(d.p,d.p,b,o*p))}for(var a=0;a<i;a++)for(var f=e[a],q=a+1;q<i;q++){var c=e[q];gg(b,c.p,f.p);var g=gh(b);0===g&&(ge(b,Math.random()-.5,Math.random()-.5),g=1);var s=(f.rep+c.rep)/g/g;f.fixed||Bw(f.pp,f.pp,b,s),c.fixed||Bw(c.pp,c.pp,b,-s)}for(var t=[],a=0;a<i;a++){var d=e[a];d.fixed||(gg(t,d.p,d.pp),Bw(d.p,d.p,t,p),gc(d.pp,d.p))}var u=(p*=.992)<.01;m&&m(e,n,u),r&&r(u)}}}(m,n,{rect:f.getBoundingRect(),gravity:b.get("gravity"),friction:b.get("friction")});e.beforeStep(function(b,d){for(var a=0,c=b.length;a<c;a++)b[a].fixed&&gc(b[a].p,j.getNodeByIndex(a).getLayout())}),e.afterStep(function(f,i,m){for(var a=0,h=f.length;a<h;a++)f[a].fixed||j.getNodeByIndex(a).setLayout(f[a].p),l[g.getId(a)]=f[a].p;for(var a=0,h=i.length;a<h;a++){var c=i[a],k=j.getEdgeByIndex(a),d=c.n1.p,e=c.n2.p,b=k.getLayout();(b=b?b.slice():[])[0]=b[0]||[],b[1]=b[1]||[],gc(b[0],d),gc(b[1],e),+c.curveness&&(b[2]=[(d[0]+e[0])/2-(d[1]-e[1])*c.curveness,(d[1]+e[1])/2-(e[0]-d[0])*c.curveness]),k.setLayout(b)}}),a.forceLayout=e,a.preservedPoints=l,e.step()}else a.forceLayout=null}})}function By(a,c){var b=[];return a.eachSeriesByType("graph",function(f){var i=f.get("coordinateSystem");if(!i||"view"===i){var n=f.getData(),o=n.mapArray(function(b){var a=n.getItemModel(b);return[+a.get("x"),+a.get("y")]}),a=[],d=[];kw(o,a,d),d[0]-a[0]==0&&(d[0]+=1,a[0]-=1),d[1]-a[1]==0&&(d[1]+=1,a[1]-=1);var j,h,k,l,m=(d[0]-a[0])/(d[1]-a[1]),e=(j=f,h=c,k=m,l=fP(j.getBoxLayoutParams(),{aspect:k}),nw(l,{width:h.getWidth(),height:h.getHeight()}));isNaN(m)&&(a=[e.x,e.y],d=[e.x+e.width,e.y+e.height]);var p=d[0]-a[0],q=d[1]-a[1],r=e.width,s=e.height,g=f.coordinateSystem=new b7;g.zoomLimit=f.get("scaleLimit"),g.setBoundingRect(a[0],a[1],p,q),g.setViewRect(e.x,e.y,r,s),g.setCenter(f.get("center"),c),g.setZoom(f.get("zoom")),b.push(g)}}),b}var Bz=aO.prototype,BA=bE.prototype,dU=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function BB(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}I3=dU,cp(function a(){return null!==I3&&I3.apply(this,arguments)||this},I3);var BC=function(b){function a(c){var a=b.call(this,c)||this;return a.type="ec-line",a}return cp(a,b),a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new dU},a.prototype.buildPath=function(b,a){BB(a)?Bz.buildPath.call(this,b,a):BA.buildPath.call(this,b,a)},a.prototype.pointAt=function(a){return BB(this.shape)?Bz.pointAt.call(this,a):BA.pointAt.call(this,a)},a.prototype.tangentAt=function(c){var a=this.shape,b=BB(a)?[a.x2-a.x1,a.y2-a.y1]:BA.tangentAt.call(this,c);return gk(b,b)},a}(c),BD=["fromSymbol","toSymbol"];function BE(a){return"_"+a+"Type"}function BF(a,b,c){var e=b.getItemVisual(c,a);if(e&&"none"!==e){var i=b.getItemVisual(c,a+"Size"),f=b.getItemVisual(c,a+"Rotate"),j=b.getItemVisual(c,a+"Offset"),k=b.getItemVisual(c,a+"KeepAspect"),d=rN(i),h=rO(j||0,d),g=rM(e,-d[0]/2+h[0],-d[1]/2+h[1],d[0],d[1],null,k);return g.__specifiedRotation=null==f||isNaN(f)?void 0:+f*Math.PI/180||0,g.name=a,g}}function BG(a,b){a.x1=b[0][0],a.y1=b[0][1],a.x2=b[1][0],a.y2=b[1][1],a.percent=1;var c=b[2];c?(a.cpx1=c[0],a.cpy1=c[1]):(a.cpx1=NaN,a.cpy1=NaN)}var BH=function(b){function a(c,d,e){var a=b.call(this)||this;return a._createLine(c,d,e),a}return cp(a,b),a.prototype._createLine=function(a,b,f){var e,c,g=a.hostModel,h=a.getItemLayout(b),d=(e=h,c=new BC({name:"line",subPixelOptimize:!0}),BG(c.shape,e),c);d.shape.percent=0,ml(d,{shape:{percent:1}},g,b),this.add(d),j(BD,function(c){var d=BF(c,a,b);this.add(d),this[BE(c)]=a.getItemVisual(b,c)},this),this._updateCommonStl(a,b,f)},a.prototype.updateData=function(a,b,d){var e=a.hostModel,f=this.childOfName("line"),g=a.getItemLayout(b),c={shape:{}};BG(c.shape,g),mk(f,c,e,b),j(BD,function(c){var d=a.getItemVisual(b,c),e=BE(c);if(this[e]!==d){this.remove(this.childOfName(c));var f=BF(c,a,b);this.add(f)}this[e]=d},this),this._updateCommonStl(a,b,d)},a.prototype.getLinePath=function(){return this.childAt(0)},a.prototype._updateCommonStl=function(d,e,a){var t=d.hostModel,c=this.childOfName("line"),m=a&&a.emphasisLineStyle,n=a&&a.blurLineStyle,o=a&&a.selectLineStyle,k=a&&a.labelStatesModels,p=a&&a.emphasisDisabled,q=a&&a.focus,r=a&&a.blurScope;if(!a||d.hasItemOption){var g=d.getItemModel(e),h=g.getModel("emphasis");m=h.getModel("lineStyle").getLineStyle(),n=g.getModel(["blur","lineStyle"]).getLineStyle(),o=g.getModel(["select","lineStyle"]).getLineStyle(),p=h.get("disabled"),q=h.get("focus"),r=h.get("blurScope"),k=mv(g)}var l=d.getItemVisual(e,"style"),u=l.stroke;c.useStyle(l),c.style.fill=null,c.style.strokeNoScale=!0,c.ensureState("emphasis").style=m,c.ensureState("blur").style=n,c.ensureState("select").style=o,j(BD,function(i){var a=this.childOfName(i);if(a){a.setColor(u),a.style.opacity=l.opacity;for(var d=0;d<lF.length;d++){var e=lF[d],f=c.getState(e);if(f){var b=f.style||{},g=a.ensureState(e),h=g.style||(g.style={});null!=b.stroke&&(h[a.__isEmptyBrush?"stroke":"fill"]=b.stroke),null!=b.opacity&&(h.opacity=b.opacity)}}a.markRedraw()}},this);var i=t.getRawValue(e);mu(this,k,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(a,b){return t.getFormattedLabel(a,b,d.dataType)}},inheritColor:u||"#000",defaultOpacity:l.opacity,defaultText:(null==i?d.getName(e):isFinite(i)?au(i):i)+""});var b=this.getTextContent();if(b){var s=k.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=s.get("position")||"middle";var f=s.get("distance");cv(f)||(f=[f,f]),b.__labelDistance=f}this.setTextConfig({position:null,local:!0,inside:!1}),l8(this,q,r,p)},a.prototype.highlight=function(){lX(this)},a.prototype.downplay=function(){lY(this)},a.prototype.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},a.prototype.setLinePoints=function(b){var a=this.childOfName("line");BG(a.shape,b),a.dirty()},a.prototype.beforeUpdate=function(){var d=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),a=this.getTextContent();if(d||e||a&&!a.ignore){for(var i=1,n=this.parent;n;)n.scaleX&&(i/=n.scaleX),n=n.parent;var j=this.childOfName("line");if(this.__dirty||j.__dirty){var p=j.shape.percent,f=j.pointAt(0),g=j.pointAt(p),b=gg([],g,f);if(gk(b,b),d&&(d.setPosition(f),w(d,0),d.scaleX=d.scaleY=i*p,d.markRedraw()),e&&(e.setPosition(g),w(e,1),e.scaleX=e.scaleY=i*p,e.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var k=void 0,l=void 0,t=a.__labelDistance,m=t[0]*i,q=t[1]*i,u=p/2,h=j.tangentAt(u),o=[h[1],-h[0]],v=j.pointAt(u);o[1]>0&&(o[0]=-o[0],o[1]=-o[1]);var r=h[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var s=-Math.atan2(h[1],h[0]);g[0]<f[0]&&(s=Math.PI+s),a.rotation=s}var c=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":c=-q,l="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":c=q,l="top";break;default:c=0,l="middle"}switch(a.__position){case"end":a.x=b[0]*m+g[0],a.y=b[1]*q+g[1],k=b[0]>.8?"left":b[0]< -0.8?"right":"center",l=b[1]>.8?"top":b[1]< -0.8?"bottom":"middle";break;case"start":a.x=-b[0]*m+f[0],a.y=-b[1]*q+f[1],k=b[0]>.8?"right":b[0]< -0.8?"left":"center",l=b[1]>.8?"bottom":b[1]< -0.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*r+f[0],a.y=f[1]+c,k=h[0]<0?"right":"left",a.originX=-m*r,a.originY=-c;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=v[0],a.y=v[1]+c,k="center",a.originY=-c;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*r+g[0],a.y=g[1]+c,k=h[0]>=0?"right":"left",a.originX=m*r,a.originY=-c}a.scaleX=a.scaleY=i,a.setStyle({verticalAlign:a.__verticalAlign||l,align:a.__align||k})}}}function w(a,b){var c=a.__specifiedRotation;if(null==c){var d=j.tangentAt(b);a.attr("rotation",(1===b?-1:1)*Math.PI/2-Math.atan2(d[1],d[0]))}else a.attr("rotation",c)}},a}(t),dV=function(){function a(a){this.group=new t,this._LineCtor=a||BH}return a.prototype.updateData=function(a){var e=this;this._progressiveEls=null;var b=this,d=b.group,c=b._lineData;b._lineData=a,c||d.removeAll();var f=BJ(a);a.diff(c).add(function(b){e._doAdd(a,b,f)}).update(function(b,d){e._doUpdate(c,a,d,b,f)}).remove(function(a){d.remove(c.getItemGraphicEl(a))}).execute()},a.prototype.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=BJ(a),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(d,c){function e(a){a.isGroup||BI(a)||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var a=d.start;a<d.end;a++)if(BL(c.getItemLayout(a))){var b=new this._LineCtor(c,a,this._seriesScope);b.traverse(e),this.group.add(b),c.setItemGraphicEl(a,b),this._progressiveEls.push(b)}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype._doAdd=function(a,b,d){if(BL(a.getItemLayout(b))){var c=new this._LineCtor(a,b,d);a.setItemGraphicEl(b,c),this.group.add(c)}},a.prototype._doUpdate=function(e,b,f,c,d){var a=e.getItemGraphicEl(f);if(!BL(b.getItemLayout(c))){this.group.remove(a);return}a?a.updateData(b,c,d):a=new this._LineCtor(b,c,d),b.setItemGraphicEl(c,a),this.group.add(a)},a}();function BI(a){return a.animators&&a.animators.length>0}function BJ(c){var a=c.hostModel,b=a.getModel("emphasis");return{lineStyle:a.getModel("lineStyle").getLineStyle(),emphasisLineStyle:b.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:a.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:a.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:b.get("disabled"),blurScope:b.get("blurScope"),focus:b.get("focus"),labelStatesModels:mv(a)}}function BK(a){return isNaN(a[0])||isNaN(a[1])}function BL(a){return a&&!BK(a[0])&&!BK(a[1])}var BM=dV,BN=[],BO=[],BP=[],BQ=cG,BR=cB,BS=Math.abs;function BT(h,i,k){for(var a,b=h[0],c=h[1],d=h[2],l=1/0,j=k*k,e=.1,f=.1;f<=.9;f+=.1){BN[0]=BQ(b[0],c[0],d[0],f),BN[1]=BQ(b[1],c[1],d[1],f);var g=BS(BR(BN,i)-j);g<l&&(l=g,a=f)}for(var m=0;m<32;m++){var n=a+e;BO[0]=BQ(b[0],c[0],d[0],a),BO[1]=BQ(b[1],c[1],d[1],a),BP[0]=BQ(b[0],c[0],d[0],n),BP[1]=BQ(b[1],c[1],d[1],n);var g=BR(BO,i)-j;if(.01>BS(g))break;var o=BR(BP,i)-j;e/=2,g<0?o>=0?a+=e:a-=e:o>=0?a-=e:a+=e}return a}function BU(a,b){var c=[],d=hp,e=[[],[],[]],f=[[],[]],g=[];b/=2,a.eachEdge(function(h,n){var a=h.getLayout(),l=h.getVisual("fromSymbol"),m=h.getVisual("toSymbol");!a.__original&&(a.__original=[gd(a[0]),gd(a[1])],a[2]&&a.__original.push(gd(a[2])));var i=a.__original;if(null!=a[2]){if(gc(e[0],i[0]),gc(e[1],i[2]),gc(e[2],i[1]),l&&"none"!==l){var j=Bq(h.node1),k=BT(e,i[0],j*b);d(e[0][0],e[1][0],e[2][0],k,c),e[0][0]=c[3],e[1][0]=c[4],d(e[0][1],e[1][1],e[2][1],k,c),e[0][1]=c[3],e[1][1]=c[4]}if(m&&"none"!==m){var j=Bq(h.node2),k=BT(e,i[1],j*b);d(e[0][0],e[1][0],e[2][0],k,c),e[1][0]=c[1],e[2][0]=c[2],d(e[0][1],e[1][1],e[2][1],k,c),e[1][1]=c[1],e[2][1]=c[2]}gc(a[0],e[0]),gc(a[1],e[2]),gc(a[2],e[1])}else{if(gc(f[0],i[0]),gc(f[1],i[1]),gg(g,f[1],f[0]),gk(g,g),l&&"none"!==l){var j=Bq(h.node1);cz(f[0],f[0],g,j*b)}if(m&&"none"!==m){var j=Bq(h.node2);cz(f[1],f[1],g,-j*b)}gc(a[0],f[0]),gc(a[1],f[1])}})}function BV(a){return"view"===a.type}var BW=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(e,d){var b=new uP,c=new BM,a=this.group;this._controller=new yb(d.getZr()),this._controllerHost={target:a},a.add(b.group),a.add(c.group),this._symbolDraw=b,this._lineDraw=c,this._firstRender=!0},a.prototype.render=function(a,g,h){var m=this,c=a.coordinateSystem;this._model=a;var i=this._symbolDraw,j=this._lineDraw,d=this.group;if(BV(c)){var e={x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY};this._firstRender?d.attr(e):mk(d,e,a)}BU(a.getGraph(),Bp(a));var b=a.getData();i.updateData(b);var k=a.getEdgeData();j.updateData(k),this._updateNodeAndLinkScale(),this._updateController(a,g,h),clearTimeout(this._layoutTimeout);var f=a.forceLayout,l=a.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,l),b.graph.eachNode(function(c){var g=c.dataIndex,a=c.getGraphicEl(),d=c.getModel();if(a){a.off("drag").off("dragend");var e=d.get("draggable");e&&a.on("drag",function(){f&&(f.warmUp(),m._layouting||m._startForceLayoutIteration(f,l),f.setFixed(g),b.setItemLayout(g,[a.x,a.y]))}).on("dragend",function(){f&&f.setUnfixed(g)}),a.setDraggable(e&&!!f,!!d.get("cursor")),"adjacency"===d.get(["emphasis","focus"])&&(lz(a).focus=c.getAdjacentDataIndices())}}),b.graph.eachEdge(function(a){var b=a.getGraphicEl(),c=a.getModel().get(["emphasis","focus"]);b&&"adjacency"===c&&(lz(b).focus={edge:[a.dataIndex],node:[a.node1.dataIndex,a.node2.dataIndex]})});var n="circular"===a.get("layout")&&a.get(["circular","rotateLabel"]),o=b.getLayout("cx"),p=b.getLayout("cy");b.eachItemGraphicEl(function(i,e){var j=b.getItemModel(e).get(["label","rotate"])||0,c=i.getSymbolPath();if(n){var d=b.getItemLayout(e),a=Math.atan2(d[1]-p,d[0]-o);a<0&&(a=2*Math.PI+a);var f=d[0]<o;f&&(a-=Math.PI);var g=f?"left":"right";c.setTextConfig({rotation:-a,position:g,origin:"center"});var h=c.ensureState("emphasis");fP(h.textConfig||(h.textConfig={}),{position:g})}else c.setTextConfig({rotation:j*=Math.PI/180})}),this._firstRender=!1},a.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},a.prototype._startForceLayoutIteration=function(a,b){var c=this;a.step(function(a){c.updateLayout(c._model),(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(step,16):step())})},a.prototype._updateController=function(a,d,e){var f=this,b=this._controller,c=this._controllerHost,g=this.group;if(b.setPointerChecker(function(c,d,f){var b=g.getBoundingRect();return b.applyTransform(g.transform),b.contain(d,f)&&!yf(c,e,a)}),!BV(a.coordinateSystem)){b.disable();return}b.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b){yc(c,b.dx,b.dy),e.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){yd(c,b.scale,b.originX,b.originY),e.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),f._updateNodeAndLinkScale(),BU(a.getGraph(),Bp(a)),f._lineDraw.updateLayout(),e.updateLabelLayout()})},a.prototype._updateNodeAndLinkScale=function(){var a=this._model,b=a.getData(),c=Bp(a);b.eachItemGraphicEl(function(a,b){a&&a.setSymbolScale(c)})},a.prototype.updateLayout=function(a){BU(a.getGraph(),Bp(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},a.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},a.type="graph",a}(f),dW=function(){function a(a){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=a||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(a,c){a=null==a?""+c:""+a;var e,d=this._nodesMap;if(!d["_EC_"+(e=a)]){var f,b=new dX(a,c);return b.hostGraph=this,this.nodes.push(b),d["_EC_"+(f=a)]=b,b}},a.prototype.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},a.prototype.getNodeById=function(a){var b;return this._nodesMap["_EC_"+(b=a)]},a.prototype.addEdge=function(a,b,e){var f,g,d=this._nodesMap,h=this._edgesMap;if(fV(a)&&(a=this.nodes[a]),fV(b)&&(b=this.nodes[b]),!(a instanceof dX)&&(a=d["_EC_"+(f=a)]),!(b instanceof dX)&&(b=d["_EC_"+(g=b)]),a&&b){var i=a.id+"-"+b.id,c=new dY(a,b,e);return c.hostGraph=this,this._directed&&(a.outEdges.push(c),b.inEdges.push(c)),a.edges.push(c),a!==b&&b.edges.push(c),this.edges.push(c),h[i]=c,c}},a.prototype.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},a.prototype.getEdge=function(a,b){a instanceof dX&&(a=a.id),b instanceof dX&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},a.prototype.eachNode=function(c,d){for(var b=this.nodes,e=b.length,a=0;a<e;a++)b[a].dataIndex>=0&&c.call(d,b[a],a)},a.prototype.eachEdge=function(c,d){for(var b=this.edges,e=b.length,a=0;a<e;a++)b[a].dataIndex>=0&&b[a].node1.dataIndex>=0&&b[a].node2.dataIndex>=0&&c.call(d,b[a],a)},a.prototype.breadthFirstTraverse=function(g,b,h,i){if(!(b instanceof dX)){var k;b=this._nodesMap["_EC_"+(k=b)]}if(b){for(var l="out"===h?"outEdges":"in"===h?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!g.call(i,b,null))for(var d=[b];d.length;)for(var e=d.shift(),j=e[l],a=0;a<j.length;a++){var f=j[a],c=f.node1===e?f.node2:f.node1;if(!c.__visited){if(g.call(i,c,e))return;d.push(c),c.__visited=!0}}}},a.prototype.update=function(){for(var f=this.data,c=this.edgeData,d=this.nodes,e=this.edges,a=0,b=d.length;a<b;a++)d[a].dataIndex=-1;for(var a=0,b=f.count();a<b;a++)d[f.getRawIndex(a)].dataIndex=a;c.filterSelf(function(b){var a=e[c.getRawIndex(b)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(var a=0,b=e.length;a<b;a++)e[a].dataIndex=-1;for(var a=0,b=c.count();a<b;a++)e[c.getRawIndex(a)].dataIndex=a},a.prototype.clone=function(){for(var c=new a(this._directed),d=this.nodes,f=this.edges,b=0;b<d.length;b++)c.addNode(d[b].id,d[b].dataIndex);for(var b=0;b<f.length;b++){var e=f[b];c.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return c},a}(),dX=function(){function a(a,b){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==a?"":a,this.dataIndex=null==b?-1:b}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){for(var b={edge:[],node:[]},c=0;c<this.edges.length;c++){var a=this.edges[c];!(a.dataIndex<0)&&(b.edge.push(a.dataIndex),b.node.push(a.node1.dataIndex,a.node2.dataIndex))}return b},a}(),dY=function(){function a(b,c,a){this.dataIndex=-1,this.node1=b,this.node2=c,this.dataIndex=null==a?-1:a}return a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a}();function ca(a,b){return{getValue:function(d){var c=this[a][b];return c.getStore().get(c.getDimensionIndex(d||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c){return this[a][b].getItemVisual(this.dataIndex,c)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}}h(dX,ca("hostGraph","data")),h(dY,ca("hostGraph","edgeData"));var BX=dW;function BY(b,j,c,r,k){for(var d,e=new BX(r),a=0;a<b.length;a++)e.addNode(cx(b[a].id,b[a].name,a),a);for(var l=[],m=[],n=0,a=0;a<j.length;a++){var f=j[a],o=f.source,p=f.target;e.addEdge(o,p,n)&&(m.push(f),l.push(cx(jK(f.id,null),o+" > "+p)),n++)}var g=c.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)d=uG(b,c);else{var q=n_.get(g),h=q&&q.dimensions||[];0>fQ(h,"value")&&h.concat(["value"]);var s=uw(b,{coordDimensions:h,encodeDefine:c.getEncode()}).dimensions;(d=new uv(s,c)).initData(b)}var i=new uv(["value"],c);return i.initData(m,l),k&&k(d,i),zW({mainData:d,struct:e,structAttr:"graph",datas:{node:d,edge:i},datasAttr:{node:"data",edge:"edgeData"}}),e.update(),e}var BZ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c}return cp(a,b),a.prototype.init=function(a){b.prototype.init.apply(this,arguments);var d=this;function c(){return d._categoriesData}this.legendVisualProvider=new v7(c,c),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},a.prototype.mergeOption=function(a){b.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},a.prototype.mergeDefaultAndTheme=function(a){b.prototype.mergeDefaultAndTheme.apply(this,arguments),jx(a,"edgeLabel",["show"])},a.prototype.getInitialData=function(a,e){var b=a.edges||a.links||[],c=a.data||a.nodes||[],f=this;if(c&&b){g=this,!Be(g)||(g.__curvenessList=[],g.__edgeMap={},Bf(g));var g,d=BY(c,b,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a){var c,b=f._categoriesModels[a.getShallow("category")];return b&&(b.parentModel=a.parentModel,a.parentModel=b),a});var c=_.prototype.getModel;function d(b,d){var a=c.call(this,b,d);return a.resolveParentPath=e,a}function e(a){if(a&&("label"===a[0]||"label"===a[1])){var b=a.slice();return"label"===a[0]?b[0]="edgeLabel":"label"===a[1]&&(b[1]="edgeLabel"),b}return a}b.wrapMethod("getItemModel",function(a){return a.resolveParentPath=e,a.getModel=d,a})});return j(d.edges,function(a){!function(e,f,c,g){if(Be(c)){var a=Bg(e,f,c),b=c.__edgeMap,d=b[Bh(a)];b[a]&&!d?b[a].isForward=!0:d&&b[a]&&(d.isForward=!0,b[a].isForward=!1),b[a]=b[a]||[],b[a].push(g)}}(a.node1,a.node2,this,a.dataIndex)},this),d.data}},a.prototype.getGraph=function(){return this.getData().graph},a.prototype.getEdgeData=function(){return this.getGraph().edgeData},a.prototype.getCategoriesData=function(){return this._categoriesData},a.prototype.formatTooltip=function(a,i,d){if("edge"===d){var b=this.getData(),e=this.getDataParams(a,d),f=b.graph.getEdgeByIndex(a),g=b.getName(f.node1.dataIndex),h=b.getName(f.node2.dataIndex),c=[];return null!=g&&c.push(g),null!=h&&c.push(h),pl("nameValue",{name:c.join(" > "),value:e.value,noValue:null==e.value})}return pB({series:this,dataIndex:a,multipleSeries:i})},a.prototype._updateCategoriesData=function(){var b=Y(this.option.categories||[],function(a){return null!=a.value?a:fP({value:0},a)}),a=new uv(["value"],this);a.initData(b),this._categoriesData=a,this._categoriesModels=a.mapArray(function(b){return a.getItemModel(b)})},a.prototype.setZoom=function(a){this.option.zoom=a},a.prototype.setCenter=function(a){this.option.center=a},a.prototype.isAnimationEnabled=function(){return b.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},a.type="series.graph",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},a}(e),B$={type:"graphRoam",event:"graphRoam",update:"none"},B_=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},B0=function(b){function a(c){var a=b.call(this,c)||this;return a.type="pointer",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new B_},a.prototype.buildPath=function(d,a){var e=Math.cos,f=Math.sin,g=a.r,b=a.width,c=a.angle,h=a.x-e(c)*b*(b>=g/3?1:2),i=a.y-f(c)*b*(b>=g/3?1:2);c=a.angle-Math.PI/2,d.moveTo(h,i),d.lineTo(a.x+e(c)*b,a.y+f(c)*b),d.lineTo(a.x+e(a.angle)*g,a.y+f(a.angle)*g),d.lineTo(a.x-e(c)*b,a.y-f(c)*b),d.lineTo(h,i)},a}(c);function B1(c,a){var b=null==c?"":c+"";return a&&(fT(a)?b=a.replace("{value}",b):cw(a)&&(b=a(c))),b}var B2=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,k,e){this.group.removeAll();var c,a,d,f,g,h,i,j,l=b.get(["axisLine","lineStyle","color"]),m=(c=b,a=e,d=c.get("center"),f=a.getWidth(),g=a.getHeight(),h=je(d[0],a.getWidth()),i=je(d[1],a.getHeight()),j=je(c.get("radius"),Math.min(f,g)/2),{cx:h,cy:i,r:j});this._renderMain(b,k,e,l,m),this._data=b.getData()},a.prototype.dispose=function(){},a.prototype._renderMain=function(a,g,h,i,b){var q=this.group,e=a.get("clockwise"),d=-a.get("startAngle")/180*Math.PI,c=-a.get("endAngle")/180*Math.PI,j=a.getModel("axisLine"),r=j.get("roundCap")?vw:aN,s=j.get("show"),o=j.getModel("lineStyle"),k=o.get("width"),l=[d,c];kT(l,!e),d=l[0],c=l[1];for(var t=c-d,p=d,f=0;s&&f<i.length;f++){c=d+t*Math.min(Math.max(i[f][0],0),1);var m=new r({shape:{startAngle:p,endAngle:c,cx:b.cx,cy:b.cy,clockwise:e,r0:b.r-k,r:b.r},silent:!0});m.setStyle({fill:i[f][1]}),m.setStyle(o.getLineStyle(["color","width"])),q.add(m),p=c}var n=function(b){var a;if(b<=0)return i[0][1];for(a=0;a<i.length;a++)if(i[a][0]>=b&&(0===a?0:i[a-1][0])<b)return i[a][1];return i[a-1][1]};this._renderTicks(a,g,h,n,b,d,c,e,k),this._renderTitleAndDetail(a,g,h,n,b),this._renderAnchor(a,b),this._renderPointer(a,g,h,n,b,d,c,e,k)},a.prototype._renderTicks=function(h,I,J,p,q,v,E,K,l){for(var c,d,r=this.group,i=q.cx,j=q.cy,b=q.r,w=+h.get("min"),F=+h.get("max"),m=h.getModel("splitLine"),k=h.getModel("axisTick"),n=h.getModel("axisLabel"),e=h.get("splitNumber"),s=k.get("splitNumber"),o=je(m.get("length"),b),x=je(k.get("length"),b),f=v,y=(E-v)/e,z=y/s,A=m.getModel("lineStyle").getLineStyle(),B=k.getModel("lineStyle").getLineStyle(),t=m.get("distance"),g=0;g<=e;g++){if(c=Math.cos(f),d=Math.sin(f),m.get("show")){var a=t?t+l:l,C=new aO({shape:{x1:c*(b-a)+i,y1:d*(b-a)+j,x2:c*(b-o-a)+i,y2:d*(b-o-a)+j},style:A,silent:!0});"auto"===A.stroke&&C.setStyle({stroke:p(g/e)}),r.add(C)}if(n.get("show")){var a=n.get("distance")+t,G=B1(au(g/e*(F-w)+w),n.get("formatter")),H=p(g/e);r.add(new bh({style:mw(n,{text:G,x:c*(b-o-a)+i,y:d*(b-o-a)+j,verticalAlign:d< -0.8?"top":d>.8?"bottom":"middle",align:c< -0.4?"left":c>.4?"right":"center"},{inheritColor:H}),silent:!0}))}if(k.get("show")&&g!==e){var a=k.get("distance");a=a?a+l:l;for(var u=0;u<=s;u++){c=Math.cos(f),d=Math.sin(f);var D=new aO({shape:{x1:c*(b-a)+i,y1:d*(b-a)+j,x2:c*(b-x-a)+i,y2:d*(b-x-a)+j},silent:!0,style:B});"auto"===B.stroke&&D.setStyle({stroke:p((g+u/s)/e)}),r.add(D),f+=z}f-=z}else f+=y}},a.prototype._renderPointer=function(a,l,m,n,o,c,d,p,q){var r=this.group,e=this._data,s=this._progressEls,f=[],g=a.get(["pointer","show"]),h=a.getModel("progress"),i=h.get("show"),b=a.getData(),t=b.mapDimension("value"),j=+a.get("min"),k=+a.get("max"),u=[j,k],v=[c,d];function w(k,l){var c,d=b.getItemModel(k).getModel("pointer"),e=je(d.get("width"),o.r),f=je(d.get("length"),o.r),g=a.get(["pointer","icon"]),h=d.get("offsetCenter"),i=je(h[0],o.r),j=je(h[1],o.r),m=d.get("keepAspect");return(c=g?rM(g,i-e/2,j-f,e,f,null,m):new B0({shape:{angle:-Math.PI/2,width:e,r:f,x:i,y:j}})).rotation=-(l+Math.PI/2),c.x=o.cx,c.y=o.cy,c}function x(d,g){var i=h.get("roundCap"),a=h.get("overlap"),e=a?h.get("width"):q/b.count(),j=a?o.r-e:o.r-(d+1)*e,l=a?o.r:o.r-d*e,f=new(i?vw:aN)({shape:{startAngle:c,endAngle:g,cx:o.cx,cy:o.cy,clockwise:p,r0:j,r:l}});return a&&(f.z2=k-b.get(t,d)%k),f}(i||g)&&(b.diff(e).add(function(d){var j=b.get(t,d);if(g){var k=w(d,c);ml(k,{rotation:-((isNaN(+j)?v[0]:bb(j,u,v,!0))+Math.PI/2)},a),r.add(k),b.setItemGraphicEl(d,k)}if(i){var e=x(d,c);ml(e,{shape:{endAngle:bb(j,u,v,h.get("clip"))}},a),r.add(e),lA(a.seriesIndex,b.dataType,d,e),f[d]=e}}).update(function(d,m){var l=b.get(t,d);if(g){var n=e.getItemGraphicEl(m),o=n?n.rotation:c,j=w(d,o);j.rotation=o,mk(j,{rotation:-((isNaN(+l)?v[0]:bb(l,u,v,!0))+Math.PI/2)},a),r.add(j),b.setItemGraphicEl(d,j)}if(i){var p=s[m],q=p?p.shape.endAngle:c,k=x(d,q);mk(k,{shape:{endAngle:bb(l,u,v,h.get("clip"))}},a),r.add(k),lA(a.seriesIndex,b.dataType,d,k),f[d]=k}}).execute(),b.each(function(c){var d=b.getItemModel(c),j=d.getModel("emphasis"),l=j.get("focus"),m=j.get("blurScope"),o=j.get("disabled");if(g){var a=b.getItemGraphicEl(c),k=b.getItemVisual(c,"style"),p=k.fill;if(a instanceof cU){var e=a.style;a.useStyle(fP({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},k))}else a.useStyle(k),"pointer"!==a.type&&a.setColor(p);a.setStyle(d.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===a.style.fill&&a.setStyle("fill",n(bb(b.get(t,c),u,[0,1],!0))),a.z2EmphasisLift=0,mc(a,d),l8(a,l,m,o)}if(i){var h=f[c];h.useStyle(b.getItemVisual(c,"style")),h.setStyle(d.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,mc(h,d),l8(h,l,m,o)}}),this._progressEls=f)},a.prototype._renderAnchor=function(f,b){var a=f.getModel("anchor");if(a.get("show")){var c=a.get("size"),g=a.get("icon"),e=a.get("offsetCenter"),h=a.get("keepAspect"),d=rM(g,b.cx-c/2+je(e[0],b.r),b.cy-c/2+je(e[1],b.r),c,c,null,h);d.z2=a.get("showAbove")?1:0,d.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(d)}},a.prototype._renderTitleAndDetail=function(a,f,g,h,i){var j=this,b=a.getData(),k=b.mapDimension("value"),l=+a.get("min"),m=+a.get("max"),c=new t,d=[],e=[],n=a.isAnimationEnabled(),o=a.get(["pointer","showAbove"]);b.diff(this._data).add(function(a){d[a]=new bh({silent:!0}),e[a]=new bh({silent:!0})}).update(function(a,b){d[a]=j._titleEls[b],e[a]=j._detailEls[b]}).execute(),b.each(function(f){var s=b.getItemModel(f),p=b.get(k,f),q=new t,u=h(bb(p,[l,m],[0,1],!0)),r=s.getModel("title");if(r.get("show")){var v=r.get("offsetCenter"),z=i.cx+je(v[0],i.r),A=i.cy+je(v[1],i.r),g=d[f];g.attr({z2:o?0:2,style:mw(r,{x:z,y:A,text:b.getName(f),align:"center",verticalAlign:"middle"},{inheritColor:u})}),q.add(g)}var j=s.getModel("detail");if(j.get("show")){var w=j.get("offsetCenter"),B=i.cx+je(w[0],i.r),C=i.cy+je(w[1],i.r),x=je(j.get("width"),i.r),y=je(j.get("height"),i.r),D=a.get(["progress","show"])?b.getItemVisual(f,"style").fill:u,g=e[f],E=j.get("formatter");g.attr({z2:o?0:2,style:mw(j,{x:B,y:C,text:B1(p,E),width:isNaN(x)?null:x,height:isNaN(y)?null:y,align:"center",verticalAlign:"middle"},{inheritColor:D})}),mG(g,{normal:j},p,function(a){return B1(a,E)}),n&&mH(g,f,b,a,{getFormattedLabel:function(b,c,d,e,f,a){return B1(a?a.interpolatedValue:p,E)}}),q.add(g)}c.add(q)}),this.group.add(c),this._titleEls=d,this._detailEls=e},a.type="gauge",a}(f),B3=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.visualStyleAccessPath="itemStyle",c}return cp(a,b),a.prototype.getInitialData=function(a,b){return v6(this,["value"])},a.type="series.gauge",a.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},a}(e),B4=["itemStyle","opacity"],B5=function(b){function a(c,d){var a=b.call(this)||this,e=new c8,f=new bh;return a.setTextContent(f),a.setTextGuideLine(e),a.updateData(c,d,!0),a}return cp(a,b),a.prototype.updateData=function(c,b,g){var a=this,h=c.hostModel,e=c.getItemModel(b),i=c.getItemLayout(b),f=e.getModel("emphasis"),d=e.get(B4);d=null==d?1:d,g||mq(a),a.useStyle(c.getItemVisual(b,"style")),a.style.lineJoin="round",g?(a.setShape({points:i.points}),a.style.opacity=0,ml(a,{style:{opacity:d}},h,b)):mk(a,{style:{opacity:d},shape:{points:i.points}},h,b),mc(a,e),this._updateLabel(c,b),l8(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},a.prototype._updateLabel=function(b,c){var d=this,j=this.getTextGuideLine(),f=d.getTextContent(),l=b.hostModel,h=b.getItemModel(c),m=b.getItemLayout(c),a=m.label,i=b.getItemVisual(c,"style"),g=i.fill;mu(f,mv(h),{labelFetcher:b.hostModel,labelDataIndex:c,defaultOpacity:i.opacity,defaultText:b.getName(c)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),d.setTextConfig({local:!0,inside:!!a.inside,insideStroke:g,outsideFill:g});var e=a.linePoints;j.setShape({points:e}),d.textGuideLineConfig={anchor:e?new k(e[0][0],e[0][1]):null},mk(f,{style:{x:a.x,y:a.y}},l,c),f.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),s4(d,s5(h),{stroke:g})},a}(bA),B6=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.ignoreLabelLineUpdate=!0,c}return cp(a,b),a.prototype.render=function(b,d,e){var a=b.getData(),c=this._data,f=this.group;a.diff(c).add(function(b){var c=new B5(a,b);a.setItemGraphicEl(b,c),f.add(c)}).update(function(d,e){var b=c.getItemGraphicEl(e);b.updateData(a,d),f.add(b),a.setItemGraphicEl(d,b)}).remove(function(a){mp(c.getItemGraphicEl(a),b,a)}).execute(),this._data=a},a.prototype.remove=function(){this.group.removeAll(),this._data=null},a.prototype.dispose=function(){},a.type="funnel",a}(f),B7=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(a){b.prototype.init.apply(this,arguments),this.legendVisualProvider=new v7(cu(this.getData,this),cu(this.getRawData,this)),this._defaultLabelLine(a)},a.prototype.getInitialData=function(a,b){return v6(this,{coordDimensions:["value"],encodeDefaulter:m(nJ,this)})},a.prototype._defaultLabelLine=function(a){jx(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},a.prototype.getDataParams=function(d){var a=this.getData(),c=b.prototype.getDataParams.call(this,d),e=a.mapDimension("value"),f=a.getSum(e);return c.percent=f?+(a.get(e,d)/f*100).toFixed(2):0,c.$vars.push("percent"),c},a.type="series.funnel",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},a}(e);function B8(a,b){a.eachSeriesByType("funnel",function(a){var v,s,c=a.getData(),B=c.mapDimension("value"),k=a.get("sort"),l=(v=a,s=b,nw(v.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})),m=a.get("orient"),f=l.width,g=l.height,h=function g(d,a){for(var e=d.mapDimension("value"),h=d.mapArray(e,function(a){return a}),b=[],i="ascending"===a,c=0,f=d.count();c<f;c++)b[c]=c;return cw(a)?b.sort(a):"none"!==a&&b.sort(function(a,b){return i?h[a]-h[b]:h[b]-h[a]}),b}(c,k),n=l.x,o=l.y,C="horizontal"===m?[je(a.get("minSize"),g),je(a.get("maxSize"),g)]:[je(a.get("minSize"),f),je(a.get("maxSize"),f)],w=c.getDataExtent(B),x=a.get("min"),y=a.get("max");null==x&&(x=Math.min(w[0],0)),null==y&&(y=w[1]);var D=a.get("funnelAlign"),i=a.get("gap"),p=(("horizontal"===m?f:g)-i*(c.count()-1))/c.count(),q=function(i,d){if("horizontal"===m){var a,j=c.get(B,i)||0,e=bb(j,[x,y],C,!0),b=void 0;switch(D){case"top":b=o;break;case"center":b=o+(g-e)/2;break;case"bottom":b=o+(g-e)}return[[d,b],[d,b+e]]}var k=c.get(B,i)||0,h=bb(k,[x,y],C,!0);switch(D){case"left":a=n;break;case"center":a=n+(f-h)/2;break;case"right":a=n+f-h}return[[a,d],[a+h,d]]};"ascending"===k&&(p=-p,i=-i,"horizontal"===m?n+=f:o+=g,h=h.reverse());for(var r=0;r<h.length;r++){var j=h[r],z=h[r+1],A=c.getItemModel(j);if("horizontal"===m){var d=A.get(["itemStyle","width"]);null==d?d=p:(d=je(d,f),"ascending"===k&&(d=-d));var t=q(j,n),u=q(z,n+d);n+=d+i,c.setItemLayout(j,{points:t.concat(u.slice().reverse())})}else{var e=A.get(["itemStyle","height"]);null==e?e=p:(e=je(e,g),"ascending"===k&&(e=-e));var t=q(j,o),u=q(z,o+e);o+=e+i,c.setItemLayout(j,{points:t.concat(u.slice().reverse())})}}!function(a){var b=a.hostModel.get("orient");a.each(function(n){var d,h,i,m,o=a.getItemModel(n),g=o.getModel("label").get("position"),r=o.getModel("labelLine"),p=a.getItemLayout(n),c=p.points,q="inner"===g||"inside"===g||"center"===g||"insideLeft"===g||"insideRight"===g;if(q)"insideLeft"===g?(h=(c[0][0]+c[3][0])/2+5,i=(c[0][1]+c[3][1])/2,d="left"):"insideRight"===g?(h=(c[1][0]+c[2][0])/2-5,i=(c[1][1]+c[2][1])/2,d="right"):(h=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,i=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,d="center"),m=[[h,i],[h,i]];else{var e=void 0,f=void 0,k=void 0,l=void 0,j=r.get("length");"left"===g?(e=(c[3][0]+c[0][0])/2,f=(c[3][1]+c[0][1])/2,k=e-j,h=k-5,d="right"):"right"===g?(e=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,k=e+j,h=k+5,d="left"):"top"===g?(e=(c[3][0]+c[0][0])/2,f=(c[3][1]+c[0][1])/2,l=f-j,i=l-5,d="center"):"bottom"===g?(e=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,l=f+j,i=l+5,d="center"):"rightTop"===g?(e="horizontal"===b?c[3][0]:c[1][0],f="horizontal"===b?c[3][1]:c[1][1],"horizontal"===b?(i=(l=f-j)-5,d="center"):(h=(k=e+j)+5,d="top")):"rightBottom"===g?(e=c[2][0],f=c[2][1],"horizontal"===b?(i=(l=f+j)+5,d="center"):(h=(k=e+j)+5,d="bottom")):"leftTop"===g?(e=c[0][0],f="horizontal"===b?c[0][1]:c[1][1],"horizontal"===b?(i=(l=f-j)-5,d="center"):(h=(k=e-j)-5,d="right")):"leftBottom"===g?(e="horizontal"===b?c[1][0]:c[3][0],f="horizontal"===b?c[1][1]:c[2][1],"horizontal"===b?(i=(l=f+j)+5,d="center"):(h=(k=e-j)-5,d="right")):(e=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,"horizontal"===b?(i=(l=f+j)+5,d="center"):(h=(k=e+j)+5,d="left")),"horizontal"===b?h=k=e:i=l=f,m=[[e,f],[k,l]]}p.label={linePoints:m,x:h,y:i,verticalAlign:"middle",textAlign:d,inside:q}})}(c)})}var dZ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._dataGroup=new t,c._initialized=!1,c}return cp(a,b),a.prototype.init=function(){this.group.add(this._dataGroup)},a.prototype.render=function(a,g,h,i){this._progressiveEls=null;var d=this._dataGroup,b=a.getData(),e=this._data,c=a.coordinateSystem,j=c.dimensions,k=Cc(a);if(b.diff(e).add(function(a){var e=Cb(b,d,a,j,c);Cd(e,b,a,k)}).update(function(d,g){var f=e.getItemGraphicEl(g),h=Ca(b,d,j,c);b.setItemGraphicEl(d,f),mk(f,{shape:{points:h}},a,d),mq(f),Cd(f,b,d,k)}).remove(function(a){var b=e.getItemGraphicEl(a);d.remove(b)}).execute(),!this._initialized){this._initialized=!0;var f=B9(c,a,function(){setTimeout(function(){d.removeClipPath()})});d.setClipPath(f)}this._data=b},a.prototype.incrementalPrepareRender=function(a,b,c){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},a.prototype.incrementalRender=function(d,b,j){for(var e=b.getData(),f=b.coordinateSystem,g=f.dimensions,h=Cc(b),i=this._progressiveEls=[],a=d.start;a<d.end;a++){var c=Cb(e,this._dataGroup,a,g,f);c.incremental=!0,Cd(c,e,a,h),i.push(c)}},a.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},a.type="parallel",a}(f);function B9(c,d,e){var f=c.model,a=c.getRect(),b=new z({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),g="horizontal"===f.get("layout")?"width":"height";return b.setShape(g,0),ml(b,{shape:{width:a.width,height:a.height}},d,e),b}function Ca(c,h,d,e){for(var f=[],a=0;a<d.length;a++){var b=d[a],g=c.get(c.mapDimension(b),h);Ce(g,e.getAxis(b).type)||f.push(e.dataToPoint(g,b))}return f}function Cb(b,d,c,e,f){var g=Ca(b,c,e,f),a=new c8({shape:{points:g},z2:10});return d.add(a),b.setItemGraphicEl(c,a),a}function Cc(c){var b,a=c.get("smooth",!0);return!0===a&&(a=.3),(b=a=jr(a))!=b&&(a=0),{smooth:a}}function Cd(a,c,d,f){a.useStyle(c.getItemVisual(d,"style")),a.style.fill=null,a.setShape("smooth",f.smooth);var e=c.getItemModel(d),b=e.getModel("emphasis");mc(a,e,"lineStyle"),l8(a,b.get("focus"),b.get("blurScope"),b.get("disabled"))}function Ce(a,b){return"category"===b?null==a:null==a||isNaN(a)}var Cf=dZ,d$=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return cp(a,b),a.prototype.getInitialData=function(a,b){return uG(null,this,{useEncodeDefaulter:cu(Cg,null,this)})},a.prototype.getRawIndicesByActiveState=function(d){var a=this.coordinateSystem,b=this.getData(),c=[];return a.eachActiveState(b,function(a,e){d===a&&c.push(b.getRawIndex(e))}),c},a.type="series.parallel",a.dependencies=["parallel"],a.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},a}(e);function Cg(a){var b=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(b){var c={};return j(b.dimensions,function(a){var b=Ch(a);c[a]=b}),c}}function Ch(a){return+a.replace("dim","")}var Ci=d$,Cj=["lineStyle","opacity"],Ck={seriesType:"parallel",reset:function(a,b){var c=a.coordinateSystem,d={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(a,b){c.eachActiveState(b,function(a,c){var e=d[a];if("normal"===a&&b.hasItemOption){var f=b.getItemModel(c).get(Cj,!0);null!=f&&(e=f)}b.ensureUniqueItemVisual(c,"style").opacity=e},a.start,a.end)}}}};function Cl(a){Cm(a),Cn(a)}function Cm(a){if(!a.parallel){var b=!1;j(a.series,function(a){a&&"parallel"===a.type&&(b=!0)}),b&&(a.parallel=[{}])}}function Cn(a){var b=jw(a.parallelAxis);j(b,function(b){if(aq(b)){var d=b.parallelIndex||0,c=jw(a.parallel)[d];c&&c.parallelAxisDefault&&an(b,c.parallelAxisDefault,!1)}})}var d_=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,c,b){this._model=a,this._api=b,this._handlers||(this._handlers={},j(Co,function(c,a){b.getZr().on(a,this._handlers[a]=cu(c,this))},this)),re(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},a.prototype.dispose=function(a,b){rf(this,"_throttledDispatchExpand"),j(this._handlers,function(a,c){b.getZr().off(c,a)}),this._handlers=null},a.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},a.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(fP({type:"parallelAxisExpand"},a))},a.type="parallel",a}(g),Co={mousedown:function(a){Cp(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(Cp(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5)return;var d=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(b){if(!this._mouseDownPoint&&Cp(this,"mousemove")){var c=this._model,d=c.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]),a=d.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(c.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:d.axisExpandWindow,animation:"jump"===a?null:{duration:0}})}}};function Cp(b,c){var a=b._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===c}var Cq=d_,Cr=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(){b.prototype.init.apply(this,arguments),this.mergeOption({})},a.prototype.mergeOption=function(a){var b=this.option;a&&an(b,a,!0),this._initDimensions()},a.prototype.contains=function(b,c){var a=b.get("parallelIndex");return null!=a&&c.getComponent("parallel",a)===this},a.prototype.setAxisExpand=function(a){j(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},a.prototype._initDimensions=function(){var b=this.dimensions=[],c=this.parallelAxisIndex=[],a=fS(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);j(a,function(a){b.push("dim"+a.get("dim")),c.push(a.componentIndex)})},a.type="parallel",a.dependencies=["parallelAxis"],a.layoutMode="box",a.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},a}(d),Cs=function(b){function a(c,d,e,f,g){var a=b.call(this,c,d,e)||this;return a.type=f||"value",a.axisIndex=g,a}return cp(a,b),a.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},a}(o);function Ct(g,a,f,b,c,d){g=g||0;var e,k=f[1]-f[0];if(null!=c&&(c=Cv(c,[0,k])),null!=d&&(d=Math.max(d,null!=c?c:0)),"all"===b){var h=Math.abs(a[1]-a[0]);h=Cv(h,[0,k]),c=d=Cv(h,[c,d]),b=0}a[0]=Cv(a[0],f),a[1]=Cv(a[1],f);var i=Cu(a,b);a[b]+=g;var l=c||0,j=f.slice();return i.sign<0?j[0]+=l:j[1]-=l,a[b]=Cv(a[b],j),e=Cu(a,b),null!=c&&(e.sign!==i.sign||e.span<c)&&(a[1-b]=a[b]+i.sign*c),e=Cu(a,b),null!=d&&e.span>d&&(a[1-b]=a[b]+e.sign*d),a}function Cu(c,a){var b=c[a]-c[1-a];return{span:Math.abs(b),sign:b>0?-1:b<0?1:a?-1:1}}function Cv(b,a){return Math.min(null!=a[1]?a[1]:1/0,Math.max(null!=a[0]?a[0]:-1/0,b))}var Cw=j,Cx=Math.min,Cy=Math.max,Cz=Math.floor,CA=Math.ceil,CB=au,CC=Math.PI,d0=function(){function a(a,b,c){this.type="parallel",this._axesMap=s(),this._axesLayout={},this.dimensions=a.dimensions,this._model=a,this._init(a,b,c)}return a.prototype._init=function(a,c,d){var b=a.dimensions,e=a.parallelAxisIndex;Cw(b,function(d,g){var f=e[g],a=c.getComponent("parallelAxis",f),b=this._axesMap.set(d,new Cs(d,wU(a),[0,0],a.get("type"),f)),h="category"===b.type;b.onBand=h&&a.get("boundaryGap"),b.inverse=a.get("inverse"),a.axis=b,b.model=a,b.coordinateSystem=a.coordinateSystem=this},this)},a.prototype.update=function(a,b){this._updateAxesFromSeries(this._model,a)},a.prototype.containPoint=function(b){var a=this._makeLayoutInfo(),c=a.axisBase,d=a.layoutBase,e=a.pixelDimIndex,f=b[1-e],g=b[e];return f>=c&&f<=c+a.axisLength&&g>=d&&g<=d+a.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(b,a){a.eachSeries(function(c){if(b.contains(c,a)){var d=c.getData();Cw(this.dimensions,function(b){var a=this._axesMap.get(b);a.scale.unionExtentFromData(d,d.mapDimension(b)),wT(a.scale,a.model)},this)}},this)},a.prototype.resize=function(b,a){this._rect=nw(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var c,d=this._model,g=this._rect,l=["x","y"],m=["width","height"],n=d.get("layout"),f="horizontal"===n?0:1,h=g[m[f]],k=[0,h],e=this.dimensions.length,b=CD(d.get("axisExpandWidth"),k),i=CD(d.get("axisExpandCount")||0,[0,e]),o=d.get("axisExpandable")&&e>3&&e>i&&i>1&&b>0&&h>0,a=d.get("axisExpandWindow");if(a)c=CD(a[1]-a[0],k),a[1]=a[0]+c;else{c=CD(b*(i-1),k);var p=d.get("axisExpandCenter")||Cz(e/2);(a=[b*p-c/2])[1]=a[0]+c}var j=(h-c)/(e-i);j<3&&(j=0);var q=[Cz(CB(a[0]/b,1))+1,CA(CB(a[1]/b,1))-1],r=j/b*a[0];return{layout:n,pixelDimIndex:f,layoutBase:g[l[f]],layoutLength:h,axisBase:g[l[1-f]],axisLength:g[m[1-f]],axisExpandable:o,axisExpandWidth:b,axisCollapseWidth:j,axisExpandWindow:a,axisCount:e,winInnerIndices:q,axisExpandWindow0Pos:r}},a.prototype._layoutAxes=function(){var d=this._rect,a=this._axesMap,b=this.dimensions,c=this._makeLayoutInfo(),e=c.layout;a.each(function(a){var b=[0,c.axisLength],d=a.inverse?1:0;a.setExtent(b[d],b[1-d])}),Cw(b,function(i,j){var a=(c.axisExpandable?CF:CE)(j,c),f={horizontal:{x:a.position,y:c.axisLength},vertical:{x:0,y:a.position}},g=[f[e].x+d.x,f[e].y+d.y],h={horizontal:CC/2,vertical:0}[e],b=cJ();iC(b,b,h),iB(b,b,g),this._axesLayout[i]={position:g,rotation:h,transform:b,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(a){return this._axesMap.get(a)},a.prototype.dataToPoint=function(b,a){return this.axisCoordToPoint(this._axesMap.get(a).dataToCoord(b),a)},a.prototype.eachActiveState=function(f,h,d,e){null==d&&(d=0),null==e&&(e=f.count());var o=this._axesMap,g=this.dimensions,i=[],k=[];j(g,function(a){i.push(f.mapDimension(a)),k.push(o.get(a).model)});for(var l=this.hasAxisBrushed(),a=d;a<e;a++){var b=void 0;if(l){b="active";for(var m=f.getValues(i,a),c=0,n=g.length;c<n;c++)if("inactive"===k[c].getActiveState(m[c])){b="inactive";break}}else b="normal";h(b,a)}},a.prototype.hasAxisBrushed=function(){for(var b=this.dimensions,d=this._axesMap,c=!1,a=0,e=b.length;a<e;a++)"normal"!==d.get(b[a]).model.getActiveState()&&(c=!0);return c},a.prototype.axisCoordToPoint=function(a,b){return qT([a,0],this._axesLayout[b].transform)},a.prototype.getAxisLayout=function(a){return ct(this._axesLayout[a])},a.prototype.getSlidedAxisExpandWindow=function(k){var c,b=this._makeLayoutInfo(),m=b.pixelDimIndex,a=b.axisExpandWindow.slice(),f=a[1]-a[0],j=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(k))return{behavior:"none",axisExpandWindow:a};var d=k[m]-b.layoutBase-b.axisExpandWindow0Pos,g="slide",h=b.axisCollapseWidth,e=this._model.get("axisExpandSlideTriggerArea"),l=null!=e[0];if(h)l&&h&&d<f*e[0]?(g="jump",c=d-f*e[2]):l&&h&&d>f*(1-e[0])?(g="jump",c=d-f*(1-e[2])):(c=d-f*e[1])>=0&&(c=d-f*(1-e[1]))<=0&&(c=0),(c*=b.axisExpandWidth/h)?Ct(c,a,j,"all"):g="none";else{var i=a[1]-a[0];(a=[Cy(0,j[1]*d/i-i/2)])[1]=Cx(j[1],a[0]+i),a[0]=a[1]-i}return{axisExpandWindow:a,behavior:g}},a}();function CD(b,a){return Cx(Cy(b,a[0]),a[1])}function CE(c,a){var b=a.layoutLength/(a.axisCount-1);return{position:b*c,axisNameAvailableWidth:b,axisLabelShow:!0}}function CF(b,a){var d,e,j=a.layoutLength,f=a.axisExpandWidth,k=a.axisCount,c=a.axisCollapseWidth,g=a.winInnerIndices,h=c,i=!1;return b<g[0]?(d=b*c,e=c):b<=g[1]?(d=a.axisExpandWindow0Pos+b*f-a.axisExpandWindow[0],h=f,i=!0):(d=j-(k-1-b)*c,e=c),{position:d,axisNameAvailableWidth:h,axisLabelShow:i,nameTruncateMaxWidth:e}}var CG=d0,CH={create:function(a,c){var b=[];return a.eachComponent("parallel",function(e,f){var d=new CG(e,a,c);d.name="parallel_"+f,d.resize(e,c),e.coordinateSystem=d,d.model=e,b.push(d)}),a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var b=a.getReferringComponents("parallel",jR).models[0];a.coordinateSystem=b.coordinateSystem}}),b}},cb=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.activeIntervals=[],c}return cp(a,b),a.prototype.getAreaSelectStyle=function(){return I([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},a.prototype.setActiveIntervals=function(c){var a=this.activeIntervals=ct(c);if(a)for(var b=a.length-1;b>=0;b--)bc(a[b])},a.prototype.getActiveState=function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a||isNaN(+a))return"inactive";if(1===b.length){var d=b[0];if(d[0]<=a&&a<=d[1])return"active"}else for(var c=0,e=b.length;c<e;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"},a}(d);h(cb,ai);var CI=cb,CJ=Math.min,CK=Math.max,CL=Math.pow,CM="globalPan",CN={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},CP={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},CQ=0,d1=function(b){function a(c){var a=b.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=c,a.group=new t,a._uid="brushController_"+CQ++,j(Df,function(a,b){this._handlers[b]=cu(a,this)},a),a}return cp(a,b),a.prototype.enableBrush=function(a){return this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},a.prototype._doEnableBrush=function(a){var b,c,d,e=this._zr;!this._enableGlobalPan&&(b=e,c=CM,d=this._uid,x7(b)[c]=d),j(this._handlers,function(a,b){e.on(b,a)}),this._brushType=a.brushType,this._brushOption=an(ct(CP),a,!0)},a.prototype._doDisableBrush=function(){var b,a,c,d,e=this._zr;b=e,a=CM,c=this._uid,(d=x7(b))[a]===c&&(d[a]=null),j(this._handlers,function(a,b){e.off(b,a)}),this._brushType=this._brushOption=null},a.prototype.setPanels=function(a){if(a&&a.length){var b=this._panels={};j(a,function(a){b[a.panelId]=ct(a)})}else this._panels=null;return this},a.prototype.mount=function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=b.getLocalTransform(),this},a.prototype.updateCovers=function(a){a=Y(a,function(a){return an(ct(CP),a,!0)});var b=this._covers,c=this._covers=[],d=this,e=this._creatingCover;return new uf(b,a,function(a,b){return f(a.__brushOption,b)},f).add(g).update(g).remove(function(a){b[a]!==e&&d.group.remove(b[a])}).execute(),this;function f(a,b){return(null!=a.id?a.id:"\0-brush-index-"+b)+"-"+a.brushType}function g(g,f){var h=a[g];if(null!=f&&b[f]===e)c[g]=b[f];else{var i=c[g]=null!=f?(b[f].__brushOption=h,b[f]):CS(d,CR(d,h));CV(d,i)}}},a.prototype.unmount=function(){return this.enableBrush(!1),CZ(this),this._zr.remove(this.group),this},a.prototype.dispose=function(){this.unmount(),this.off()},a}(n);function CR(c,a){var b=Di[a.brushType].createCover(c,a);return b.__brushOption=a,CU(b,a),c.group.add(b),b}function CS(c,a){var b=CW(a);return b.endCreating&&(b.endCreating(c,a),CU(a,a.__brushOption)),a}function CT(c,a){var b=a.__brushOption;CW(a).updateCoverShape(c,a,b.range,b)}function CU(b,c){var a=c.z;null==a&&(a=1e4),b.traverse(function(b){b.z=a,b.z2=a})}function CV(b,a){CW(a).updateCommon(b,a),CT(b,a)}function CW(a){return Di[a.__brushOption.brushType]}function CX(a,d,e){var c,b=a._panels;if(!b)return!0;var f=a._transform;return j(b,function(a){a.isTargetByCursor(d,e,f)&&(c=a)}),c}function CY(c,d){var a=c._panels;if(!a)return!0;var b=d.__brushOption.panelId;return null==b||a[b]}function CZ(b){var a=b._covers,c=a.length;return j(a,function(a){b.group.remove(a)},b),a.length=0,!!c}function C$(a,b){var c=Y(a._covers,function(b){var a=b.__brushOption,c=ct(a.range);return{brushType:a.brushType,panelId:a.panelId,range:c}});a.trigger("brush",{areas:c,isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function C_(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function C0(c,b,d,e){var a=new t;return a.add(new z({name:"main",style:C3(d),silent:!0,draggable:!0,cursor:"move",drift:m(C7,c,b,a,["n","s","w","e"]),ondragend:m(C$,b,{isEnd:!0})})),j(e,function(d){a.add(new z({name:d.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:m(C7,c,b,a,d),ondragend:m(C$,b,{isEnd:!0})}))}),a}function C1(b,c,g,l){var d=l.brushStyle.lineWidth||0,a=CK(d,6),h=g[0][0],i=g[1][0],e=h-d/2,f=i-d/2,m=g[0][1],n=g[1][1],j=m-a+d/2,k=n-a+d/2,o=m-h,p=n-i,q=o+d,r=p+d;C2(b,c,"main",h,i,o,p),l.transformable&&(C2(b,c,"w",e,f,a,r),C2(b,c,"e",j,f,a,r),C2(b,c,"n",e,f,q,a),C2(b,c,"s",e,k,q,a),C2(b,c,"nw",e,f,a,a),C2(b,c,"ne",j,f,a,a),C2(b,c,"sw",e,k,a,a),C2(b,c,"se",j,k,a,a))}function cc(e,a){var b=a.__brushOption,c=b.transformable,d=a.childAt(0);d.useStyle(C3(b)),d.attr({silent:!c,cursor:c?"move":"default"}),j([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(b){var d=a.childOfName(b.join("")),f=1===b.length?C5(e,b[0]):C6(e,b);d&&d.attr({silent:!c,invisible:!c,cursor:c?CO[f]+"-resize":null})})}function C2(e,a,f,b,c,g,h){var d=a.childOfName(f);d&&d.setShape(Db(Da(e,a,[[b,c],[b+g,c+h]])))}function C3(a){return x({strokeNoScale:!0},a.brushStyle)}function C4(a,b,c,d){var e=[CJ(a,c),CJ(b,d)],f=[CK(a,c),CK(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function C5(a,b){var c;return({left:"w",right:"e",top:"n",bottom:"s"})[qU({w:"left",e:"right",n:"top",s:"bottom"}[b],qS((c=a).group))]}function C6(b,c){var a=[C5(b,c[0]),C5(b,c[1])];return("e"===a[0]||"w"===a[0])&&a.reverse(),a.join("")}function C7(c,b,d,f,g,h){var e=d.__brushOption,a=c.toRectRange(e.range),i=C9(b,g,h);j(f,function(c){var b=CN[c];a[b[0]][b[1]]+=i[b[0]]}),e.range=c.fromRectRange(C4(a[0][0],a[1][0],a[0][1],a[1][1])),CV(b,d),C$(b,{isEnd:!1})}function C8(a,b,c,d){var e=b.__brushOption.range,f=C9(a,c,d);j(e,function(a){a[0]+=f[0],a[1]+=f[1]}),CV(a,b),C$(a,{isEnd:!1})}function C9(d,e,f){var a=d.group,b=a.transformCoordToLocal(e,f),c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function Da(b,d,c){var a=CY(b,d);return a&& !0!==a?a.clipPath(c,b._transform):ct(c)}function Db(a){var b=CJ(a[0][0],a[1][0]),c=CJ(a[0][1],a[1][1]),d=CK(a[0][0],a[1][0]),e=CK(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:e-c}}function Dc(b){var a=b.event;a.preventDefault&&a.preventDefault()}function cd(a,b,c){return a.childOfName("main").contain(b,c)}function Dd(a,j,h,d){var g,b=a._creatingCover,c=a._creatingPanel,e=a._brushOption;if(a._track.push(h.slice()),function(f){var a=f._track;if(!a.length)return!1;var b=a[a.length-1],c=a[0],d=b[0]-c[0],e=b[1]-c[1];return CL(d*d+e*e,.5)>6}(a)||b){if(c&&!b){"single"===e.brushMode&&CZ(a);var f=ct(e);f.brushType=De(f.brushType,c),f.panelId=!0===c?null:c.panelId,b=a._creatingCover=CR(a,f),a._covers.push(b)}if(b){var i=Di[De(a._brushType,c)];b.__brushOption.range=i.getCreatingRange(Da(a,b,a._track)),d&&(CS(a,b),i.updateCommon(a,b)),CT(a,b),g={isEnd:d}}}else d&&"single"===e.brushMode&&e.removeOnClick&&CX(a,j,h)&&CZ(a)&&(g={isEnd:d,removeOnClick:!0});return g}function De(a,b){return"auto"===a?b.defaultBrushType:a}var Df={mousedown:function(a){if(this._dragging)Dg(this,a);else if(!a.target||!a.target.draggable){Dc(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=CX(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var d=a.offsetX,e=a.offsetY,b=this.group.transformCoordToLocal(d,e);if(!function(a,d,e){if(!(!a._brushType||Dh(a,d.offsetX,d.offsetY))){var h=a._zr,f=a._covers,b=CX(a,d,e);if(!a._dragging)for(var c=0;c<f.length;c++){var g=f[c].__brushOption;if(b&&(!0===b||g.panelId===b.panelId)&&Di[g.brushType].contain(f[c],e[0],e[1]))return}b&&h.setCursorStyle("crosshair")}}(this,a,b),this._dragging){Dc(a);var c=Dd(this,a,b,!1);c&&C$(this,c)}},mouseup:function(a){Dg(this,a)}};function Dg(a,b){if(a._dragging){Dc(b);var d=b.offsetX,e=b.offsetY,f=a.group.transformCoordToLocal(d,e),c=Dd(a,b,f,!0);a._dragging=!1,a._track=[],a._creatingCover=null,c&&C$(a,c)}}function Dh(d,a,b){var c=d._zr;return a<0||a>c.getWidth()||b<0||b>c.getHeight()}var Di={lineX:Dj(0),lineY:Dj(1),rect:{createCover:function(b,c){function a(a){return a}return C0({toRectRange:a,fromRectRange:a},b,c,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(b){var a=C_(b);return C4(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){C1(a,b,c,d)},updateCommon:cc,contain:cd},polygon:{createCover:function(c,b){var a=new t;return a.add(new c8({name:"main",style:C3(b),silent:!0})),a},getCreatingRange:function(a){return a},endCreating:function(b,a){a.remove(a.childAt(0)),a.add(new bA({name:"main",draggable:!0,drift:m(C8,b,a),ondragend:m(C$,b,{isEnd:!0})}))},updateCoverShape:function(b,a,c,d){a.childAt(0).setShape({points:Da(b,a,c)})},updateCommon:cc,contain:cd}};function Dj(a){return{createCover:function(b,c){return C0({toRectRange:function(c){var b=[c,[0,100]];return a&&b.reverse(),b},fromRectRange:function(b){return b[a]}},b,c,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(c){var b=C_(c),d=CJ(b[0][a],b[1][a]),e=CK(b[0][a],b[1][a]);return[d,e]},updateCoverShape:function(b,e,h,i){var c,d=CY(b,e);if(!0!==d&&d.getLinearBrushOtherExtent)c=d.getLinearBrushOtherExtent(a);else{var f=b._zr;c=[0,[f.getWidth(),f.getHeight()][1-a]]}var g=[h,c];a&&g.reverse(),C1(b,e,g,i)},updateCommon:cc,contain:cd}}var Dk=d1;function Dl(a){return a=Do(a),function(b){return qX(b,a)}}function Dm(a,b){return a=Do(a),function(e){var c=null!=b?b:e,f=c?a.width:a.height,d=c?a.x:a.y;return[d,d+(f||0)]}}function Dn(a,b,c){var d=Do(a);return function(e,a){return d.contain(a[0],a[1])&&!yf(e,b,c)}}function Do(a){return as.create(a)}var Dp=["axisLine","axisTickLabel","axisName"],d2=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(c,a){b.prototype.init.apply(this,arguments),(this._brushController=new Dk(a.getZr())).on("brush",cu(this._onBrush,this))},a.prototype.render=function(a,c,d,i){if(!Dq(a,c,i)){this.axisModel=a,this.api=d,this.group.removeAll();var k=this._axisGroup;if(this._axisGroup=new t,this.group.add(this._axisGroup),a.get("show")){var e=Ds(a,c),l=e.coordinateSystem,f=a.getAreaSelectStyle(),g=f.width,m=a.axis.dim,n=l.getAxisLayout(m),h=fP({strokeContainThreshold:g},n),b=new xA(a,h);j(Dp,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(h,f,a,e,g,d),qW(k,this._axisGroup,a)}}},a.prototype._refreshBrushController=function(b,h,d,i,e,j){var c=d.axis.getExtent(),f=c[1]-c[0],g=Math.min(30,.1*Math.abs(f)),a=as.create({x:c[0],y:-e/2,width:f,height:e});a.x-=g,a.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:b.rotation,x:b.position[0],y:b.position[1]}).setPanels([{panelId:"pl",clipPath:Dl(a),isTargetByCursor:Dn(a,j,i),getLinearBrushOtherExtent:Dm(a,0)}]).enableBrush({brushType:"lineX",brushStyle:h,removeOnClick:!0}).updateCovers(Dr(d))},a.prototype._onBrush=function(a){var c=a.areas,b=this.axisModel,e=b.axis,d=Y(c,function(a){return[e.coordToData(a.range[0],!0),e.coordToData(a.range[1],!0)]});(!b.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:b.id,intervals:d})},a.prototype.dispose=function(){this._brushController.dispose()},a.type="parallelAxis",a}(g);function Dq(b,c,a){return a&&"axisAreaSelect"===a.type&&c.findComponents({mainType:"parallelAxis",query:a})[0]===b}function Dr(a){var b=a.axis;return Y(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}function Ds(a,b){return b.getComponent("parallel",a.get("parallelIndex"))}var Dt=d2,Du={type:"axisAreaSelect",event:"axisAreaSelected"},Dv={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function d3(a){var b;a.registerComponentView(Cq),a.registerComponentModel(Cr),a.registerCoordinateSystem("parallel",CH),a.registerPreprocessor(Cl),a.registerComponentModel(CI),a.registerComponentView(Dt),wj(a,"parallel",CI,Dv),(b=a).registerAction(Du,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})}),b.registerAction("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})})}var Dw=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Dx=function(b){function a(a){return b.call(this,a)||this}return cp(a,b),a.prototype.getDefaultShape=function(){return new Dw},a.prototype.buildPath=function(c,a){var b=a.extent;c.moveTo(a.x1,a.y1),c.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),"vertical"===a.orient?(c.lineTo(a.x2+b,a.y2),c.bezierCurveTo(a.cpx2+b,a.cpy2,a.cpx1+b,a.cpy1,a.x1+b,a.y1)):(c.lineTo(a.x2,a.y2+b),c.bezierCurveTo(a.cpx2,a.cpy2+b,a.cpx1,a.cpy1+b,a.x1,a.y1+b)),c.closePath()},a.prototype.highlight=function(){lX(this)},a.prototype.downplay=function(){lY(this)},a}(c),d4=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._focusAdjacencyDisabled=!1,c}return cp(a,b),a.prototype.render=function(a,f,g){var h=this,d=a.getGraph(),b=this.group,c=a.layoutInfo,i=c.width,j=c.height,e=a.getData(),k=a.getData("edge"),l=a.get("orient");this._model=a,b.removeAll(),b.x=c.x,b.y=c.y,d.eachEdge(function(d){var f,g,h,m,u,v,w,x,c=new Dx,y=lz(c);y.dataIndex=d.dataIndex,y.seriesIndex=a.seriesIndex,y.dataType="edge";var z=d.getModel(),B=z.getModel("lineStyle"),e=B.get("curveness"),n=d.node1.getLayout(),C=d.node1.getModel(),p=C.get("localX"),q=C.get("localY"),r=d.node2.getLayout(),D=d.node2.getModel(),s=D.get("localX"),t=D.get("localY"),o=d.getLayout();switch(c.shape.extent=Math.max(1,o.dy),c.shape.orient=l,"vertical"===l?(f=(null!=p?p*i:n.x)+o.sy,g=(null!=q?q*j:n.y)+n.dy,h=(null!=s?s*i:r.x)+o.ty,m=null!=t?t*j:r.y,u=f,v=g*(1-e)+m*e,w=h,x=g*e+m*(1-e)):(f=(null!=p?p*i:n.x)+n.dx,g=(null!=q?q*j:n.y)+o.sy,h=null!=s?s*i:r.x,m=(null!=t?t*j:r.y)+o.ty,u=f*(1-e)+h*e,v=g,w=f*e+h*(1-e),x=m),c.setShape({x1:f,y1:g,x2:h,y2:m,cpx1:u,cpy1:v,cpx2:w,cpy2:x}),c.useStyle(B.getItemStyle()),c.style.fill){case"source":c.style.fill=d.node1.getVisual("color"),c.style.decal=d.node1.getVisual("style").decal;break;case"target":c.style.fill=d.node2.getVisual("color"),c.style.decal=d.node2.getVisual("style").decal;break;case"gradient":var E=d.node1.getVisual("color"),F=d.node2.getVisual("color");fT(E)&&fT(F)&&(c.style.fill=new qu(0,0,+("horizontal"===l),+("vertical"===l),[{color:E,offset:0},{color:F,offset:1}]))}var A=z.getModel("emphasis");mc(c,z,"lineStyle",function(a){return a.getItemStyle()}),b.add(c),k.setItemGraphicEl(d.dataIndex,c);var G=A.get("focus");l8(c,"adjacency"===G?d.getAdjacentDataIndices():G,A.get("blurScope"),A.get("disabled")),lz(c).dataType="edge"}),d.eachNode(function(d){var g=d.getLayout(),f=d.getModel(),k=f.get("localX"),l=f.get("localY"),h=f.getModel("emphasis"),c=new z({shape:{x:null!=k?k*i:g.x,y:null!=l?l*j:g.y,width:g.dx,height:g.dy},style:f.getModel("itemStyle").getItemStyle(),z2:10});mu(c,mv(f),{labelFetcher:a,labelDataIndex:d.dataIndex,defaultText:d.id}),c.disableLabelAnimation=!0,c.setStyle("fill",d.getVisual("color")),c.setStyle("decal",d.getVisual("style").decal),mc(c,f),b.add(c),e.setItemGraphicEl(d.dataIndex,c),lz(c).dataType="node";var m=h.get("focus");l8(c,"adjacency"===m?d.getAdjacentDataIndices():m,h.get("blurScope"),h.get("disabled"))}),e.eachItemGraphicEl(function(b,c){e.getItemModel(c).get("draggable")&&(b.drift=function(b,d){h._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=d,this.dirty(),g.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:e.getRawIndex(c),localX:this.shape.x/i,localY:this.shape.y/j})},b.ondragend=function(){h._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move")}),!this._data&&a.isAnimationEnabled()&&b.setClipPath(Dy(b.getBoundingRect(),a,function(){b.removeClipPath()})),this._data=a.getData()},a.prototype.dispose=function(){},a.type="sankey",a}(f);function Dy(a,c,d){var b=new z({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return ml(b,{shape:{width:a.width+20}},c,d),b}var Dz=d4,DA=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.getInitialData=function(b,f){var d=b.edges||b.links,e=b.data||b.nodes,c=b.levels;this.levelModels=[];for(var g=this.levelModels,a=0;a<c.length;a++)null!=c[a].depth&&c[a].depth>=0&&(g[c[a].depth]=new _(c[a],this,f));if(e&&d)return BY(e,d,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a,e){var b=a.parentModel,c=b.getData().getItemLayout(e);if(c){var f=c.depth,d=b.levelModels[f];d&&(a.parentModel=d)}return a}),b.wrapMethod("getItemModel",function(a,e){var b=a.parentModel,c=b.getGraph().getEdgeByIndex(e).node1.getLayout();if(c){var f=c.depth,d=b.levelModels[f];d&&(a.parentModel=d)}return a})}).data},a.prototype.setNodePosition=function(c,a){var b=(this.option.data||this.option.nodes)[c];b.localX=a[0],b.localY=a[1]},a.prototype.getGraph=function(){return this.getData().graph},a.prototype.getEdgeData=function(){return this.getGraph().edgeData},a.prototype.formatTooltip=function(a,i,b){function c(a){return isNaN(a)||null==a}if("edge"===b){var d=this.getDataParams(a,b),e=d.data,f=d.value;return pl("nameValue",{name:e.source+" -- "+e.target,value:f,noValue:c(f)})}var g=this.getGraph().getNodeByIndex(a).getLayout().value,h=this.getDataParams(a,b).data.name;return pl("nameValue",{name:null!=h?h+"":null,value:g,noValue:c(g)})},a.prototype.optionUpdated=function(){},a.prototype.getDataParams=function(c,d){var a=b.prototype.getDataParams.call(this,c,d);if(null==a.value&&"node"===d){var e=this.getGraph().getNodeByIndex(c).getLayout().value;a.value=e}return a},a.type="series.sankey",a.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},a}(e);function DB(a,b){a.eachSeriesByType("sankey",function(a){var f=a.get("nodeWidth"),g=a.get("nodeGap"),c=DC(a,b);a.layoutInfo=c;var h=c.width,i=c.height,e=a.getGraph(),d=e.nodes,j=e.edges;DE(d);var k=fS(d,function(a){return 0===a.getLayout().value}),l=0!==k.length?0:a.get("layoutIterations"),m=a.get("orient"),n=a.get("nodeAlign");DD(d,j,f,g,h,i,l,m,n)})}function DC(b,a){return nw(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function DD(a,c,f,g,d,e,h,b,i){DF(a,c,f,d,e,b,i),DK(a,c,e,d,g,h,b),DX(a,b)}function DE(a){j(a,function(a){var b=DV(a.outEdges,DU),c=DV(a.inEdges,DU),d=a.getValue()||0;a.setLayout({value:Math.max(b,c,d)},!0)})}function DF(c,r,f,u,v,g,l){for(var h=[],m=[],d=[],i=[],j=0,a=0;a<r.length;a++)h[a]=1;for(var a=0;a<c.length;a++)m[a]=c[a].inEdges.length,0===m[a]&&d.push(c[a]);for(var k=-1;d.length;){for(var n=0;n<d.length;n++){var b=d[n],e=b.hostGraph.data.getRawDataItem(b.dataIndex),s=null!=e.depth&&e.depth>=0;s&&e.depth>k&&(k=e.depth),b.setLayout({depth:s?e.depth:j},!0),"vertical"===g?b.setLayout({dy:f},!0):b.setLayout({dx:f},!0);for(var o=0;o<b.outEdges.length;o++){var t=b.outEdges[o];h[r.indexOf(t)]=0;var p=t.node2,w=c.indexOf(p);0== --m[w]&&0>i.indexOf(p)&&i.push(p)}}++j,d=i,i=[]}for(var a=0;a<h.length;a++)if(1===h[a])throw Error("Sankey is a DAG, the original data has cycle!");var q=k>j-1?k:j-1;l&&"left"!==l&&DH(c,l,g,q),DJ(c,"vertical"===g?(v-f)/q:(u-f)/q,g)}function DG(a){var b=a.hostGraph.data.getRawDataItem(a.dataIndex);return null!=b.depth&&b.depth>=0}function DH(c,g,l,k){if("right"===g){for(var a=[],b=c,h=0;b.length;){for(var d=0;d<b.length;d++){var e=b[d];e.setLayout({skNodeHeight:h},!0);for(var f=0;f<e.inEdges.length;f++){var i=e.inEdges[f];0>a.indexOf(i.node1)&&a.push(i.node1)}}b=a,a=[],++h}j(c,function(a){DG(a)||a.setLayout({depth:Math.max(0,k-a.getLayout().skNodeHeight)},!0)})}else"justify"===g&&DI(c,k)}function DI(a,b){j(a,function(a){DG(a)||a.outEdges.length||a.setLayout({depth:b},!0)})}function DJ(a,b,c){j(a,function(a){var d=a.getLayout().depth*b;"vertical"===c?a.setLayout({y:d},!0):a.setLayout({x:d},!0)})}function DK(h,i,c,d,e,f,a){var b=DL(h,a);DM(b,i,c,d,e,a),DN(b,e,c,d,a);for(var g=1;f>0;f--)DO(b,g*=.99,a),DN(b,e,c,d,a),DW(b,g,a),DN(b,e,c,d,a)}function DL(b,c){var d=[],e="vertical"===c?"y":"x",a=jV(b,function(a){return a.getLayout()[e]});return a.keys.sort(function(a,b){return a-b}),j(a.keys,function(b){d.push(a.buckets.get(b))}),d}function DM(a,b,c,d,e,f){var g=1/0;j(a,function(a){var b=a.length,h=0;j(a,function(a){h+=a.getLayout().value});var i="vertical"===f?(d-(b-1)*e)/h:(c-(b-1)*e)/h;i<g&&(g=i)}),j(a,function(a){j(a,function(a,b){var c=a.getLayout().value*g;"vertical"===f?(a.setLayout({x:b},!0),a.setLayout({dx:c},!0)):(a.setLayout({y:b},!0),a.setLayout({dy:c},!0))})}),j(b,function(a){var b=+a.getValue()*g;a.setLayout({dy:b},!0)})}function DN(a,c,d,e,b){var f="vertical"===b?"x":"y";j(a,function(k){k.sort(function(a,b){return a.getLayout()[f]-b.getLayout()[f]});for(var g,a,i,j=0,l=k.length,m="vertical"===b?"dx":"dy",h=0;h<l;h++)(i=j-(a=k[h]).getLayout()[f])>0&&(g=a.getLayout()[f]+i,"vertical"===b?a.setLayout({x:g},!0):a.setLayout({y:g},!0)),j=a.getLayout()[f]+a.getLayout()[m]+c;if((i=j-c-("vertical"===b?e:d))>0){g=a.getLayout()[f]-i,"vertical"===b?a.setLayout({x:g},!0):a.setLayout({y:g},!0),j=g;for(var h=l-2;h>=0;--h)(i=(a=k[h]).getLayout()[f]+a.getLayout()[m]+c-j)>0&&(g=a.getLayout()[f]-i,"vertical"===b?a.setLayout({x:g},!0):a.setLayout({y:g},!0)),j=a.getLayout()[f]}})}function DO(a,b,c){j(a.slice().reverse(),function(a){j(a,function(a){if(a.outEdges.length){var d=DV(a.outEdges,DP,c)/DV(a.outEdges,DU);if(isNaN(d)){var e=a.outEdges.length;d=e?DV(a.outEdges,DQ,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-DT(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-DT(a,c))*b;a.setLayout({y:g},!0)}}})})}function DP(a,b){return DT(a.node2,b)*a.getValue()}function DQ(a,b){return DT(a.node2,b)}function DR(a,b){return DT(a.node1,b)*a.getValue()}function DS(a,b){return DT(a.node1,b)}function DT(a,b){return"vertical"===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function DU(a){return a.getValue()}function DV(a,e,f){for(var b=0,g=a.length,c=-1;++c<g;){var d=+e(a[c],f);isNaN(d)||(b+=d)}return b}function DW(a,b,c){j(a,function(a){j(a,function(a){if(a.inEdges.length){var d=DV(a.inEdges,DR,c)/DV(a.inEdges,DU);if(isNaN(d)){var e=a.inEdges.length;d=e?DV(a.inEdges,DS,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-DT(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-DT(a,c))*b;a.setLayout({y:g},!0)}}})})}function DX(a,b){var c="vertical"===b?"x":"y";j(a,function(a){a.outEdges.sort(function(a,b){return a.node2.getLayout()[c]-b.node2.getLayout()[c]}),a.inEdges.sort(function(a,b){return a.node1.getLayout()[c]-b.node1.getLayout()[c]})}),j(a,function(a){var b=0,c=0;j(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),j(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})}function DY(a){a.eachSeriesByType("sankey",function(b){var a=b.getGraph().nodes;if(a.length){var c=1/0,d=-1/0;j(a,function(b){var a=b.getLayout().value;a<c&&(c=a),a>d&&(d=a)}),j(a,function(a){var f=new b9({type:"color",mappingMethod:"linear",dataExtent:[c,d],visual:b.get("color")}).mapValueToVisual(a.getLayout().value),e=a.getModel().get(["itemStyle","color"]);null!=e?(a.setVisual("color",e),a.setVisual("style",{fill:e})):(a.setVisual("color",f),a.setVisual("style",{fill:f}))})}})}var ce=function(){function a(){}return a.prototype.getInitialData=function(a,g){var c,d,e=g.getComponent("xAxis",this.get("xAxisIndex")),f=g.getComponent("yAxis",this.get("yAxisIndex")),o=e.get("type"),p=f.get("type");"category"===o?(a.layout="horizontal",c=e.getOrdinalMeta(),d=!0):"category"===p?(a.layout="vertical",c=f.getOrdinalMeta(),d=!0):a.layout=a.layout||"horizontal";var h=["x","y"],b="horizontal"===a.layout?0:1,q=this._baseAxisDim=h[b],r=h[1-b],i=[e,f],s=i[b].get("type"),t=i[1-b].get("type"),k=a.data;if(k&&d){var u=[];j(k,function(a,c){var b;cv(a)?(b=a.slice(),a.unshift(c)):cv(a.value)?((b=fP({},a)).value=b.value.slice(),a.value.unshift(c)):b=a,u.push(b)}),a.data=u}var l=this.defaultValueDimensions,n=[{name:q,type:ui(s),ordinalMeta:c,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:r,type:ui(t),dimsDef:l.slice()}];return v6(this,{coordDimensions:n,dimensionsCount:l.length+1,encodeDefaulter:m(nI,n,this)})},a.prototype.getBaseAxis=function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis},a}(),cf=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],c.visualDrawType="stroke",c}return cp(a,b),a.type="series.boxplot",a.dependencies=["xAxis","yAxis","grid"],a.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},a}(e);h(cf,ce,!0);var DZ=cf,d5=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,e,f){var b=a.getData(),c=this.group,d=this._data;this._data||c.removeAll();var g="horizontal"===a.get("layout")?1:0;b.diff(d).add(function(a){if(b.hasValue(a)){var e=b.getItemLayout(a),d=D0(e,b,a,g,!0);b.setItemGraphicEl(a,d),c.add(d)}}).update(function(e,h){var a=d.getItemGraphicEl(h);if(!b.hasValue(e)){c.remove(a);return}var f=b.getItemLayout(e);a?(mq(a),D1(f,a,b,e)):a=D0(f,b,e,g),c.add(a),b.setItemGraphicEl(e,a)}).remove(function(b){var a=d.getItemGraphicEl(b);a&&c.remove(a)}).execute(),this._data=b},a.prototype.remove=function(b){var c=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(a){a&&c.remove(a)})},a.type="boxplot",a}(f),D$=function(){},D_=function(b){function a(c){var a=b.call(this,c)||this;return a.type="boxplotBoxPath",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new D$},a.prototype.buildPath=function(c,d){var b=d.points,a=0;for(c.moveTo(b[a][0],b[a][1]),a++;a<4;a++)c.lineTo(b[a][0],b[a][1]);for(c.closePath();a<b.length;a++)c.moveTo(b[a][0],b[a][1]),a++,c.lineTo(b[a][0],b[a][1])},a}(c);function D0(a,e,f,g,b){var c=a.ends,d=new D_({shape:{points:b?D2(c,g,a):c}});return D1(a,d,e,f,b),d}function D1(f,a,b,c,g){var h=b.hostModel;(0,a3[g?"initProps":"updateProps"])(a,{shape:{points:f.ends}},h,c),a.useStyle(b.getItemVisual(c,"style")),a.style.strokeNoScale=!0,a.z2=100;var e=b.getItemModel(c),d=e.getModel("emphasis");mc(a,e),l8(a,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function D2(a,b,c){return Y(a,function(a){return(a=a.slice())[b]=c.initBaseline,a})}var D3=d5;function D4(a,b){}var D5=j;function D6(a){var b=D7(a);D5(b,function(a){var b=a.seriesModels;b.length&&(D8(a),D5(b,function(c,b){D9(c,a.boxOffsetList[b],a.boxWidthList[b])}))})}function D7(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(e){var d=e.getBaseAxis(),a=fQ(c,d);a<0&&(a=c.length,c[a]=d,b[a]={axis:d,seriesModels:[]}),b[a].seriesModels.push(e)}),b}function D8(a){var c,d=a.axis,b=a.seriesModels,e=b.length,k=a.boxWidthList=[],l=a.boxOffsetList=[],m=[];if("category"===d.type)c=d.getBandWidth();else{var h=0;D5(b,function(a){h=Math.max(h,a.getData().count())});var g=d.getExtent();c=Math.abs(g[1]-g[0])/h}D5(b,function(b){var a=b.get("boxWidth");cv(a)||(a=[a,a]),m.push([je(a[0],c)||0,je(a[1],c)||0])});var f=.8*c-2,i=f/e*.3,j=(f-i*(e-1))/e,n=j/2-f/2;D5(b,function(b,a){l.push(n),n+=i+j,k.push(Math.min(Math.max(j,m[a][0]),m[a][1]))})}function D9(f,q,p){var r=f.coordinateSystem,d=f.getData(),s=p/2,g="horizontal"===f.get("layout")?0:1,h=1-g,i=["x","y"],j=d.mapDimension(i[g]),c=d.mapDimensionsAll(i[h]);if(null!=j&&!(c.length<5))for(var a=0;a<d.count();a++){var e=d.get(j,a),k=t(e,c[2],a),l=t(e,c[0],a),m=t(e,c[1],a),n=t(e,c[3],a),o=t(e,c[4],a),b=[];u(b,m,!1),u(b,n,!0),b.push(l,m,o,n),v(b,l),v(b,o),v(b,k),d.setItemLayout(a,{initBaseline:k[h],ends:b})}function t(c,f,i){var a,e=d.get(f,i),b=[];return b[g]=c,b[h]=e,isNaN(c)||isNaN(e)?a=[NaN,NaN]:(a=r.dataToPoint(b),a[g]+=q),a}function u(c,d,e){var a=d.slice(),b=d.slice();a[g]+=s,b[g]-=s,e?c.push(a,b):c.push(b,a)}function v(d,a){var b=a.slice(),c=a.slice();b[g]-=s,c[g]+=s,d.push(b,c)}}var Ea={type:"echarts:boxplot",transform:function(a){var d,b=a.upstream;if(b.sourceFormat!==S){oQ("")}var c=function(j,e){for(var k=[],l=[],c=(e=e||{}).boundIQR,m="none"===c||0===c,b=0;b<j.length;b++){var a=bc(j[b].slice()),f=jp(a,.25),t=jp(a,.5),g=jp(a,.75),n=a[0],o=a[a.length-1],p=(null==c?1.5:c)*(g-f),q=m?n:Math.max(n,f-p),r=m?o:Math.min(o,g+p),d=e.itemNameFormatter,s=cw(d)?d({value:b}):fT(d)?d.replace("{value}",b+""):b+"";k.push([s,q,f,t,g,r]);for(var h=0;h<a.length;h++){var i=a[h];if(i<q||i>r){var u=[s,i];l.push(u)}}}return{boxData:k,outliers:l}}(b.getRawData(),a.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:c.boxData},{data:c.outliers}]}},Eb=["color","borderColor"],d6=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,b,c){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},a.prototype.incrementalPrepareRender=function(a,b,c){this._clear(),this._updateDrawMode(a)},a.prototype.incrementalRender=function(a,b,c,d){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,b):this._incrementalRenderNormal(a,b)},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype._updateDrawMode=function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},a.prototype._renderNormal=function(a){var b=a.getData(),d=this._data,e=this.group,f=b.getLayout("isSimpleBox"),g=a.get("clip",!0),c=a.coordinateSystem,h=c.getArea&&c.getArea();this._data||e.removeAll(),b.diff(d).add(function(c){if(b.hasValue(c)){var i=b.getItemLayout(c);if(!(g&&Ef(h,i))){var d=Ee(i,c,!0);ml(d,{shape:{points:i.ends}},a,c),Eg(d,b,c,f),e.add(d),b.setItemGraphicEl(c,d)}}}).update(function(i,k){var c=d.getItemGraphicEl(k);if(!b.hasValue(i)){e.remove(c);return}var j=b.getItemLayout(i);if(g&&Ef(h,j)){e.remove(c);return}c?(mk(c,{shape:{points:j.ends}},a,i),mq(c)):c=Ee(j,i),Eg(c,b,i,f),e.add(c),b.setItemGraphicEl(i,c)}).remove(function(b){var a=d.getItemGraphicEl(b);a&&e.remove(a)}).execute(),this._data=b},a.prototype._renderLarge=function(a){this._clear(),Ek(a,this.group);var b=a.get("clip",!0)?u3(a.coordinateSystem,!1,a):null;b?this.group.setClipPath(b):this.group.removeClipPath()},a.prototype._incrementalRenderNormal=function(d,e){for(var a,c=e.getData(),f=c.getLayout("isSimpleBox");null!=(a=d.next());){var g=c.getItemLayout(a),b=Ee(g,a);Eg(b,c,a,f),b.incremental=!0,this.group.add(b),this._progressiveEls.push(b)}},a.prototype._incrementalRenderLarge=function(b,a){Ek(a,this.group,this._progressiveEls,!0)},a.prototype.remove=function(a){this._clear()},a.prototype._clear=function(){this.group.removeAll(),this._data=null},a.type="candlestick",a}(f),Ec=function(){},Ed=function(b){function a(c){var a=b.call(this,c)||this;return a.type="normalCandlestickBox",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new Ec},a.prototype.buildPath=function(b,c){var a=c.points;this.__simpleBox?(b.moveTo(a[4][0],a[4][1]),b.lineTo(a[6][0],a[6][1])):(b.moveTo(a[0][0],a[0][1]),b.lineTo(a[1][0],a[1][1]),b.lineTo(a[2][0],a[2][1]),b.lineTo(a[3][0],a[3][1]),b.closePath(),b.moveTo(a[4][0],a[4][1]),b.lineTo(a[5][0],a[5][1]),b.moveTo(a[6][0],a[6][1]),b.lineTo(a[7][0],a[7][1]))},a}(c);function Ee(a,d,c){var b=a.ends;return new Ed({shape:{points:c?Eh(b,a):b},z2:100})}function Ef(d,b){for(var c=!0,a=0;a<b.ends.length;a++)if(d.contain(b.ends[a][0],b.ends[a][1])){c=!1;break}return c}function Eg(a,b,c,d){var e=b.getItemModel(c);a.useStyle(b.getItemVisual(c,"style")),a.style.strokeNoScale=!0,a.__simpleBox=d,mc(a,e)}function Eh(a,b){return Y(a,function(a){return(a=a.slice())[1]=b.initBaseline,a})}var Ei=function(){},Ej=function(b){function a(c){var a=b.call(this,c)||this;return a.type="largeCandlestickBox",a}return cp(a,b),a.prototype.getDefaultShape=function(){return new Ei},a.prototype.buildPath=function(c,e){for(var b=e.points,a=0;a<b.length;)if(this.__sign===b[a++]){var d=b[a++];c.moveTo(d,b[a++]),c.lineTo(d,b[a++])}else a+=3},a}(c);function Ek(c,e,f,h){var d=c.getData(),g=d.getLayout("largePoints"),a=new Ej({shape:{points:g},__sign:1});e.add(a);var b=new Ej({shape:{points:g},__sign:-1});e.add(b),El(1,a,c,d),El(-1,b,c,d),h&&(a.incremental=!0,b.incremental=!0),f&&f.push(a,b)}function El(c,a,b,f){var d=b.get(["itemStyle",c>0?"borderColor":"borderColor0"])||b.get(["itemStyle",c>0?"color":"color0"]),e=b.getModel("itemStyle").getItemStyle(Eb);a.useStyle(e),a.style.fill=null,a.style.stroke=d}var Em=d6,cg=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],c}return cp(a,b),a.prototype.getShadowDim=function(){return"open"},a.prototype.brushSelector=function(b,c,d){var a=c.getItemLayout(b);return a&&d.rect(a.brushRect)},a.type="series.candlestick",a.dependencies=["xAxis","yAxis","grid"],a.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},a}(e);h(cg,ce,!0);var En=cg;function Eo(a){a&&cv(a.series)&&j(a.series,function(a){aq(a)&&"k"===a.type&&(a.type="candlestick")})}var Ep=["itemStyle","borderColor"],Eq=["itemStyle","borderColor0"],Er=["itemStyle","color"],Es=["itemStyle","color0"],Et={seriesType:"candlestick",plan:af(),performRawSeries:!0,reset:function(a,b){function c(a,b){return b.get(a>0?Er:Es)}function d(a,b){return b.get(a>0?Ep:Eq)}if(!b.isSeriesFiltered(a))return!a.pipelineContext.large&&{progress:function(h,e){for(var a;null!=(a=h.next());){var f=e.getItemModel(a),g=e.getItemLayout(a).sign,b=f.getItemStyle();b.fill=c(g,f),b.stroke=d(g,f)||b.fill,fP(e.ensureUniqueItemVisual(a,"style"),b)}}}}},d7={seriesType:"candlestick",plan:af(),reset:function(c){var g=c.coordinateSystem,a=c.getData(),d=Ev(c,a),e=["x","y"],f=a.getDimensionIndex(a.mapDimension(e[0])),b=Y(a.mapDimensionsAll(e[1]),a.getDimensionIndex,a),h=b[0],i=b[1],j=b[2],k=b[3];if(a.setLayout({candleWidth:d,isSimpleBox:d<=1.3}),!(f<0)&&!(b.length<4))return{progress:c.pipelineContext.large?function(m,n){for(var a,b,c=uU(4*m.count),d=0,l=[],o=[],e=n.getStore();null!=(b=m.next());){var p=e.get(f,b),s=e.get(h,b),t=e.get(i,b),q=e.get(j,b),r=e.get(k,b);if(isNaN(p)||isNaN(q)||isNaN(r)){c[d++]=NaN,d+=3;continue}c[d++]=Eu(e,b,s,t,i),l[0]=p,l[1]=q,a=g.dataToPoint(l,null,o),c[d++]=a?a[0]:NaN,c[d++]=a?a[1]:NaN,l[1]=r,a=g.dataToPoint(l,null,o),c[d++]=a?a[1]:NaN}n.setLayout("largePoints",c)}:function(s,p){for(var a,b=p.getStore();null!=(a=s.next());){var c=b.get(f,a),e=b.get(h,a),l=b.get(i,a),q=b.get(j,a),r=b.get(k,a),t=Math.min(e,l),u=Math.max(e,l),n=x(t,c),o=x(u,c),v=x(q,c),w=x(r,c),m=[];y(m,o,0),y(m,n,1),m.push(A(w),A(o),A(v),A(n)),p.setItemLayout(a,{sign:Eu(b,a,e,l,i),initBaseline:e>l?o[1]:n[1],ends:m,brushRect:z(q,r,c)})}function x(b,c){var a=[];return a[0]=c,a[1]=b,isNaN(c)||isNaN(b)?[NaN,NaN]:g.dataToPoint(a)}function y(c,e,f){var a=e.slice(),b=e.slice();a[0]=qR(a[0]+d/2,1,!1),b[0]=qR(b[0]-d/2,1,!0),f?c.push(a,b):c.push(b,a)}function z(e,f,b){var a=x(e,b),c=x(f,b);return a[0]-=d/2,c[0]-=d/2,{x:a[0],y:a[1],width:d,height:c[1]-a[1]}}function A(a){return a[0]=qR(a[0],1),a}}}}};function Eu(d,b,c,a,e){var f;return c>a?-1:c<a?1:b>0?d.get(e,b-1)<=a?1:-1:1}function Ev(b,f){var d,c=b.getBaseAxis(),a="category"===c.type?c.getBandWidth():Math.abs((d=c.getExtent())[1]-d[0])/f.count(),g=je(f$(b.get("barMaxWidth"),a),a),h=je(f$(b.get("barMinWidth"),1),a),e=b.get("barWidth");return null!=e?je(e,a):Math.max(Math.min(a/2,g),h)}var Ew=d7;function Ex(b,a){var c=a.rippleEffectColor||a.color;b.eachChild(function(b){b.attr({z:a.z,zlevel:a.zlevel,style:{stroke:"stroke"===a.brushType?c:null,fill:"fill"===a.brushType?c:null}})})}var Ey=function(b){function a(c,d){var a=b.call(this)||this,e=new uL(c,d),f=new t;return a.add(e),a.add(f),a.updateData(c,d),a}return cp(a,b),a.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},a.prototype.startEffectAnimation=function(a){for(var g=a.symbolType,h=a.color,d=a.rippleNumber,e=this.childAt(1),c=0;c<d;c++){var b=rM(g,-1,-1,2,2,h);b.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-c/d*a.period+a.effectOffset;b.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(f).start(),b.animateStyle(!0).when(a.period,{opacity:0}).delay(f).start(),e.add(b)}Ex(e,a)},a.prototype.updateEffectAnimation=function(a){for(var e=this._effectCfg,f=this.childAt(1),c=["symbolType","period","rippleScale","rippleNumber"],b=0;b<c.length;b++){var d=c[b];if(e[d]!==a[d]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}Ex(f,a)},a.prototype.highlight=function(){lX(this)},a.prototype.downplay=function(){lY(this)},a.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},a.prototype.updateData=function(b,c){var n=this,f=b.hostModel;this.childAt(0).updateData(b,c);var e=this.childAt(1),d=b.getItemModel(c),k=b.getItemVisual(c,"symbol"),i=rN(b.getItemVisual(c,"symbolSize")),j=b.getItemVisual(c,"style"),l=j&&j.fill,g=d.getModel("emphasis");e.setScale(i),e.traverse(function(a){a.setStyle("fill",l)});var h=rO(b.getItemVisual(c,"symbolOffset"),i);h&&(e.x=h[0],e.y=h[1]);var m=b.getItemVisual(c,"symbolRotate");e.rotation=(m||0)*Math.PI/180||0;var a={};a.showEffectOn=f.get("showEffectOn"),a.rippleScale=d.get(["rippleEffect","scale"]),a.brushType=d.get(["rippleEffect","brushType"]),a.period=1e3*d.get(["rippleEffect","period"]),a.effectOffset=c/b.count(),a.z=f.getShallow("z")||0,a.zlevel=f.getShallow("zlevel")||0,a.symbolType=k,a.color=l,a.rippleEffectColor=d.get(["rippleEffect","color"]),a.rippleNumber=d.get(["rippleEffect","number"]),"render"===a.showEffectOn?(this._effectCfg?this.updateEffectAnimation(a):this.startEffectAnimation(a),this._effectCfg=a):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){"emphasis"===b?"render"!==a.showEffectOn&&n.startEffectAnimation(a):"normal"===b&&"render"!==a.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=a,l8(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},a.prototype.fadeOut=function(a){a&&a()},a}(t),Ez=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(){this._symbolDraw=new uP(Ey)},a.prototype.render=function(a,d,e){var c=a.getData(),b=this._symbolDraw;b.updateData(c,{clipShape:this._getClipShape(a)}),this.group.add(b.group)},a.prototype._getClipShape=function(b){var a=b.coordinateSystem,c=a&&a.getArea&&a.getArea();return b.get("clip",!0)?c:null},a.prototype.updateTransform=function(b,d,e){var a=b.getData();this.group.dirty();var c=vf("").reset(b,d,e);c.progress&&c.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},a.prototype._updateGroupTransform=function(d){var c,a,b=d.coordinateSystem;b&&b.getRoamTransform&&(this.group.transform=(c=b.getRoamTransform(),a=cJ(),iz(a,c),a),this.group.decomposeTransform())},a.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0)},a.type="effectScatter",a}(f),EA=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c}return cp(a,b),a.prototype.getInitialData=function(a,b){return uG(null,this,{useEncodeDefaulter:!0})},a.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},a.type="series.effectScatter",a.dependencies=["grid","polar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},a}(e),d8=function(b){function a(c,d,e){var a=b.call(this)||this;return a.add(a.createLine(c,d,e)),a._updateEffectSymbol(c,d),a}return cp(a,b),a.prototype.createLine=function(a,b,c){return new BH(a,b,c)},a.prototype._updateEffectSymbol=function(d,e){var c=d.getItemModel(e).getModel("effect"),b=c.get("symbolSize"),f=c.get("symbol");cv(b)||(b=[b,b]);var h=d.getItemVisual(e,"style"),g=c.get("color")||h&&h.stroke,a=this.childAt(1);this._symbolType!==f&&(this.remove(a),(a=rM(f,-0.5,-0.5,1,1,g)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",g),a.setStyle(c.getItemStyle(["color"])),a.scaleX=b[0],a.scaleY=b[1],a.setColor(g),this._symbolType=f,this._symbolScale=b,this._updateEffectAnimation(d,c,e))},a.prototype._updateEffectAnimation=function(i,c,g){var a=this.childAt(1);if(a){var j=i.getItemLayout(g),b=1e3*c.get("period"),d=c.get("loop"),h=c.get("constantSpeed"),e=cx(c.get("delay"),function(a){return a/i.count()*b/3});if(a.ignore=!0,this._updateAnimationPoints(a,j),h>0&&(b=this._getLineLength(a)/h*1e3),b!==this._period||d!==this._loop){a.stopAnimation();var f=void 0;f=cw(e)?e(g):e,a.__t>0&&(f=-b*a.__t),this._animateSymbol(a,b,f,d)}this._period=b,this._loop=d}},a.prototype._animateSymbol=function(a,b,e,c){if(b>0){a.__t=0;var f=this,d=a.animate("",c).when(b,{__t:1}).delay(e).during(function(){f._updateSymbolPosition(a)});c||d.done(function(){f.remove(a)}),d.start()}},a.prototype._getLineLength=function(a){return gl(a.__p1,a.__cp1)+gl(a.__cp1,a.__p2)},a.prototype._updateAnimationPoints=function(b,a){b.__p1=a[0],b.__p2=a[1],b.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},a.prototype.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},a.prototype._updateSymbolPosition=function(a){var c=a.__p1,f=a.__p2,g=a.__cp1,d=a.__t,b=[a.x,a.y],e=b.slice(),h=cG,i=hn;b[0]=h(c[0],g[0],f[0],d),b[1]=h(c[1],g[1],f[1],d);var j=i(c[0],g[0],f[0],d),k=i(c[1],g[1],f[1],d);a.rotation=-Math.atan2(k,j)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==a.__lastT&&a.__lastT<a.__t?(a.scaleY=1.05*gl(e,b),1===d&&(b[0]=e[0]+(b[0]-e[0])/2,b[1]=e[1]+(b[1]-e[1])/2)):1===a.__lastT?a.scaleY=2*gl(c,b):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=b[0],a.y=b[1]},a.prototype.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},a}(t),EB=function(b){function a(c,d,e){var a=b.call(this)||this;return a._createPolyline(c,d,e),a}return cp(a,b),a.prototype._createPolyline=function(a,b,c){var d=a.getItemLayout(b),e=new c8({shape:{points:d}});this.add(e),this._updateCommonStl(a,b,c)},a.prototype.updateData=function(a,b,c){var e,d=a.hostModel;mk(this.childAt(0),{shape:{points:a.getItemLayout(b)}},d,b),this._updateCommonStl(a,b,c)},a.prototype._updateCommonStl=function(d,e,a){var b=this.childAt(0),j=d.getItemModel(e),f=a&&a.emphasisLineStyle,g=a&&a.focus,h=a&&a.blurScope,i=a&&a.emphasisDisabled;if(!a||d.hasItemOption){var c=j.getModel("emphasis");f=c.getModel("lineStyle").getLineStyle(),i=c.get("disabled"),g=c.get("focus"),h=c.get("blurScope")}b.useStyle(d.getItemVisual(e,"style")),b.style.fill=null,b.style.strokeNoScale=!0,b.ensureState("emphasis").style=f,l8(this,g,h,i)},a.prototype.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))},a}(t),EC=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a._lastFrame=0,a._lastFramePercent=0,a}return cp(a,b),a.prototype.createLine=function(a,b,c){return new EB(a,b,c)},a.prototype._updateAnimationPoints=function(g,c){this._points=c;for(var d=[0],b=0,a=1;a<c.length;a++){var e=c[a-1],f=c[a];b+=gl(e,f),d.push(b)}if(0===b){this._length=0;return}for(var a=0;a<d.length;a++)d[a]/=b;this._offsets=d,this._length=b},a.prototype._getLineLength=function(){return this._length},a.prototype._updateSymbolPosition=function(c){var a,d=c.__t,i=this._points,b=this._offsets,e=i.length;if(b){var j=this._lastFrame;if(d<this._lastFramePercent){var k=Math.min(j+1,e-1);for(a=k;a>=0&&!(b[a]<=d);a--);a=Math.min(a,e-2)}else{for(a=j;a<e&&!(b[a]>d);a++);a=Math.min(a-1,e-2)}var f=(d-b[a])/(b[a+1]-b[a]),g=i[a],h=i[a+1];c.x=g[0]*(1-f)+f*h[0],c.y=g[1]*(1-f)+f*h[1];var l=h[0]-g[0],m=h[1]-g[1];c.rotation=-Math.atan2(m,l)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=d,c.ignore=!1}},a}(d8),ED=function(){this.polyline=!1,this.curveness=0,this.segs=[]},EE=function(b){function a(c){var a=b.call(this,c)||this;return a._off=0,a.hoverDataIdx=-1,a}return cp(a,b),a.prototype.reset=function(){this.notClear=!1,this._off=0},a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new ED},a.prototype.buildPath=function(c,f){var a,b=f.segs,g=f.curveness;if(f.polyline)for(a=this._off;a<b.length;){var j=b[a++];if(j>0){c.moveTo(b[a++],b[a++]);for(var k=1;k<j;k++)c.lineTo(b[a++],b[a++])}}else for(a=this._off;a<b.length;){var h=b[a++],i=b[a++],d=b[a++],e=b[a++];if(c.moveTo(h,i),g>0){var l=(h+d)/2-(i-e)*g,m=(i+e)/2-(d-h)*g;c.quadraticCurveTo(l,m,d,e)}else c.lineTo(d,e)}this.incremental&&(this._off=a,this.notClear=!0)},a.prototype.findDataIndex=function(h,i){var j=this.shape,b=j.segs,k=j.curveness,l=this.style.lineWidth;if(j.polyline)for(var c=0,a=0;a<b.length;){var m=b[a++];if(m>0)for(var d=b[a++],e=b[a++],n=1;n<m;n++){var f=b[a++],g=b[a++];if(kU(d,e,f,g,l,h,i))return c}c++}else for(var c=0,a=0;a<b.length;){var d=b[a++],e=b[a++],f=b[a++],g=b[a++];if(k>0){var o=(d+f)/2-(e-g)*k,p=(e+g)/2-(f-d)*k;if(kW(d,e,o,p,f,g,l,h,i))return c}else if(kU(d,e,f,g,l,h,i))return c;c++}return -1},a.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},a.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var b=this.shape.segs,c=1/0,d=1/0,e=-1/0,f=-1/0,g=0;g<b.length;){var h=b[g++],i=b[g++];c=Math.min(h,c),e=Math.max(h,e),d=Math.min(i,d),f=Math.max(i,f)}a=this._rect=new as(c,d,e,f)}return a},a}(c),EF=function(){function a(){this.group=new t}return a.prototype.updateData=function(a){this._clear();var b=this._create();b.setShape({segs:a.getLayout("linesPoints")}),this._setCommon(b,a)},a.prototype.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(h,f){var c=this._newAdded[0],d=f.getLayout("linesPoints"),a=c&&c.shape.segs;if(a&&a.length<2e4){var g=a.length,e=new Float32Array(g+d.length);e.set(a),e.set(d,g),c.setShape({segs:e})}else{this._newAdded=[];var b=this._create();b.incremental=!0,b.setShape({segs:d}),this._setCommon(b,f),b.__startIndex=h.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new EE({cursor:"default"});return this._newAdded.push(a),this.group.add(a),a},a.prototype._setCommon=function(a,d,f){var b=d.hostModel;a.setShape({polyline:b.get("polyline"),curveness:b.get(["lineStyle","curveness"])}),a.useStyle(b.getModel("lineStyle").getLineStyle()),a.style.strokeNoScale=!0;var c=d.getVisual("style");c&&c.stroke&&a.setStyle("stroke",c.stroke),a.setStyle("fill",null);var e=lz(a);e.seriesIndex=b.seriesIndex,a.on("mousemove",function(c){e.dataIndex=null;var b=a.hoverDataIdx;b>0&&(e.dataIndex=b+a.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),EG={seriesType:"lines",plan:af(),reset:function(a){var b=a.coordinateSystem;if(b){var c=a.get("polyline"),d=a.pipelineContext.large;return{progress:function(g,l){var h=[];if(d){var i=void 0,q=g.end-g.start;if(c){for(var r=0,e=g.start;e<g.end;e++)r+=a.getLineCoordsCount(e);i=new Float32Array(q+2*r)}else i=new Float32Array(4*q);for(var m=0,j=[],e=g.start;e<g.end;e++){var k=a.getLineCoords(e,h);c&&(i[m++]=k);for(var n=0;n<k;n++)j=b.dataToPoint(h[n],!1,j),i[m++]=j[0],i[m++]=j[1]}l.setLayout("linesPoints",i)}else for(var e=g.start;e<g.end;e++){var s=l.getItemModel(e),k=a.getLineCoords(e,h),f=[];if(c)for(var o=0;o<k;o++)f.push(b.dataToPoint(h[o]));else{f[0]=b.dataToPoint(h[0]),f[1]=b.dataToPoint(h[1]);var p=s.get(["lineStyle","curveness"]);+p&&(f[2]=[(f[0][0]+f[1][0])/2-(f[0][1]-f[1][1])*p,(f[0][1]+f[1][1])/2-(f[1][0]-f[0][0])*p])}l.setItemLayout(e,f)}}}}}},EH=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,j,h){var e=a.getData(),i=this._updateLineDraw(e,a),c=a.get("zlevel"),f=a.get(["effect","trailLength"]),b=h.getZr(),d="svg"===b.painter.getType();d||b.painter.getLayer(c).clear(!0),null==this._lastZlevel||d||b.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&f>0&&(d||b.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+.9,1),0)})),i.updateData(e);var g=a.get("clip",!0)&&u3(a.coordinateSystem,!1,a);g?this.group.setClipPath(g):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},a.prototype.incrementalPrepareRender=function(a,d,c){var b=a.getData();this._updateLineDraw(b,a).incrementalPrepareUpdate(b),this._clearLayer(c),this._finished=!1},a.prototype.incrementalRender=function(a,b,c){this._lineDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},a.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},a.prototype.updateTransform=function(a,f,c){var b=a.getData(),d=a.pipelineContext;if(!this._finished||d.large||d.progressiveRender)return{update:!0};var e=EG.reset(a,f,c);e.progress&&e.progress({start:0,end:b.count(),count:b.count()},b),this._lineDraw.updateLayout(),this._clearLayer(c)},a.prototype._updateLineDraw=function(f,c){var a=this._lineDraw,b=this._showEffect(c),d=!!c.get("polyline"),e=c.pipelineContext.large;return a&&b===this._hasEffet&&d===this._isPolyline&&e===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=e?new EF:new BM(d?b?EC:EB:b?d8:BH),this._hasEffet=b,this._isPolyline=d,this._isLargeDraw=e),this.group.add(a.group),a},a.prototype._showEffect=function(a){return!!a.get(["effect","show"])},a.prototype._clearLayer=function(b){var a=b.getZr();"svg"!==a.painter.getType()&&null!=this._lastZlevel&&a.painter.getLayer(this._lastZlevel).clear(!0)},a.prototype.remove=function(b,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},a.prototype.dispose=function(a,b){this.remove(a,b)},a.type="lines",a}(f),EI="undefined"==typeof Uint32Array?Array:Uint32Array,EJ="undefined"==typeof Float64Array?Array:Float64Array;function EK(b){var a=b.data;a&&a[0]&&a[0][0]&&a[0][0].coord&&(b.data=Y(a,function(a){var b={coords:[a[0].coord,a[1].coord]};return a[0].name&&(b.fromName=a[0].name),a[1].name&&(b.toName=a[1].name),fO([b,a[0],a[1]])}))}var EL=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return cp(a,b),a.prototype.init=function(a){a.data=a.data||[],EK(a);var c=this._processFlatCoordsArray(a.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(a.data=new Float32Array(c.count)),b.prototype.init.apply(this,arguments)},a.prototype.mergeOption=function(a){if(EK(a),a.data){var c=this._processFlatCoordsArray(a.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(a.data=new Float32Array(c.count))}b.prototype.mergeOption.apply(this,arguments)},a.prototype.appendData=function(b){var a=this._processFlatCoordsArray(b.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=f7(this._flatCoords,a.flatCoords),this._flatCoordsOffset=f7(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),b.data=new Float32Array(a.count)),this.getRawData().appendData(b.data)},a.prototype._getCoordsFromItemModel=function(b){var c,a=this.getData().getItemModel(b);return a.option instanceof Array?a.option:a.getShallow("coords")},a.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},a.prototype.getLineCoords=function(d,b){if(this._flatCoordsOffset){for(var e=this._flatCoordsOffset[2*d],f=this._flatCoordsOffset[2*d+1],a=0;a<f;a++)b[a]=b[a]||[],b[a][0]=this._flatCoords[e+2*a],b[a][1]=this._flatCoords[e+2*a+1];return f}for(var c=this._getCoordsFromItemModel(d),a=0;a<c.length;a++)b[a]=b[a]||[],b[a][0]=c[a][0],b[a][1]=c[a][1];return c.length},a.prototype._processFlatCoordsArray=function(a){var h=0;if(this._flatCoords&&(h=this._flatCoords.length),fV(a[0])){for(var c=a.length,d=new EI(c),e=new EJ(c),f=0,g=0,i=0,b=0;b<c;){i++;var j=a[b++];d[g++]=f+h,d[g++]=j;for(var k=0;k<j;k++){var l=a[b++],m=a[b++];e[f++]=l,e[f++]=m}}return{flatCoordsOffset:new Uint32Array(d.buffer,0,g),flatCoords:e,count:i}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},a.prototype.getInitialData=function(b,c){var a=new uv(["value"],this);return a.hasItemOption=!1,a.initData(b.data,[],function(c,e,f,d){if(c instanceof Array)return NaN;a.hasItemOption=!0;var b=c.value;if(null!=b)return b instanceof Array?b[d]:b}),a},a.prototype.formatTooltip=function(f,g,h){var a=this.getData().getItemModel(f),c=a.get("name");if(c)return c;var d=a.get("fromName"),e=a.get("toName"),b=[];return null!=d&&b.push(d),null!=e&&b.push(e),pl("nameValue",{name:b.join(" > ")})},a.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},a.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?1e4:this.get("progressive"):a},a.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?2e4:this.get("progressiveThreshold"):a},a.prototype.getZLevelKey=function(){var a=this.getModel("effect"),b=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&b>0?b+"":""},a.type="series.lines",a.dependencies=["grid","polar","geo","calendar"],a.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},a}(e);function EM(a){return a instanceof Array||(a=[a,a]),a}var EN={seriesType:"lines",reset:function(d){var b=EM(d.get("symbol")),c=EM(d.get("symbolSize")),a=d.getData();return a.setVisual("fromSymbol",b&&b[0]),a.setVisual("toSymbol",b&&b[1]),a.setVisual("fromSymbolSize",c&&c[0]),a.setVisual("toSymbolSize",c&&c[1]),{dataEach:a.hasItemOption?function(a,b){var e=a.getItemModel(b),c=EM(e.getShallow("symbol",!0)),d=EM(e.getShallow("symbolSize",!0));c[0]&&a.setItemVisual(b,"fromSymbol",c[0]),c[1]&&a.setItemVisual(b,"toSymbol",c[1]),d[0]&&a.setItemVisual(b,"fromSymbolSize",d[0]),d[1]&&a.setItemVisual(b,"toSymbolSize",d[1])}:null}}},EO=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var a=cs.createCanvas();this.canvas=a}return a.prototype.update=function(j,o,p,q,k,r){var s=this._getBrush(),t=this._getGradient(k,"inRange"),u=this._getGradient(k,"outOfRange"),l=this.pointSize+this.blurSize,a=this.canvas,e=a.getContext("2d"),v=j.length;a.width=o,a.height=p;for(var h=0;h<v;++h){var i=j[h],w=i[0],x=i[1],y=i[2],b=q(y);e.globalAlpha=b,e.drawImage(s,w-l,x-l)}if(!a.width||!a.height)return a;for(var m=e.getImageData(0,0,a.width,a.height),d=m.data,c=0,z=d.length,n=this.minOpacity,A=this.maxOpacity-n;c<z;){var b=d[c+3]/256,f=4*Math.floor(255*b);if(b>0){var g=r(b)?t:u;b>0&&(b=b*A+n),d[c++]=g[f],d[c++]=g[f+1],d[c++]=g[f+2],d[c++]=g[f+3]*b*256}else c+=4}return e.putImageData(m,0,0),a},a.prototype._getBrush=function(){var c=this._brushCanvas||(this._brushCanvas=cs.createCanvas()),d=this.pointSize+this.blurSize,b=2*d;c.width=b,c.height=b;var a=c.getContext("2d");return a.clearRect(0,0,b,b),a.shadowOffsetX=b,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-d,d,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),c},a.prototype._getGradient=function(g,d){for(var f=this._gradientPixels,a=f[d]||(f[d]=new Uint8ClampedArray(1024)),b=[0,0,0,0],c=0,e=0;e<256;e++)g[d](e/255,!0,b),a[c++]=b[0],a[c++]=b[1],a[c++]=b[2],a[c++]=b[3];return a},a}();function EP(b){var a=b.dimensions;return"lng"===a[0]&&"lat"===a[1]}var EQ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,d,c){d.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(e=b)})}),this._progressiveEls=null,this.group.removeAll();var e,b=a.coordinateSystem;"cartesian2d"===b.type||"calendar"===b.type?this._renderOnCartesianAndCalendar(a,c,0,a.getData().count()):EP(b)&&this._renderOnGeo(b,a,e,c)},a.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll()},a.prototype.incrementalRender=function(b,a,e,c){var d=a.coordinateSystem;d&&(EP(d)?this.render(a,e,c):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,c,b.start,b.end,!0)))},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype._renderOnCartesianAndCalendar=function(d,J,G,H,s){var i,j,k,l,e=d.coordinateSystem,m=u4(e,"cartesian2d");if(m){var t=e.getAxis("x"),u=e.getAxis("y");i=t.getBandWidth()+.5,j=u.getBandWidth()+.5,k=t.scale.getExtent(),l=u.scale.getExtent()}for(var I=this.group,a=d.getData(),v=d.getModel(["emphasis","itemStyle"]).getItemStyle(),w=d.getModel(["blur","itemStyle"]).getItemStyle(),x=d.getModel(["select","itemStyle"]).getItemStyle(),y=d.get(["itemStyle","borderRadius"]),A=mv(d),n=d.getModel("emphasis"),B=n.get("focus"),C=n.get("blurScope"),D=n.get("disabled"),f=m?[a.mapDimension("x"),a.mapDimension("y"),a.mapDimension("value")]:[a.mapDimension("time"),a.mapDimension("value")],c=G;c<H;c++){var b=void 0,o=a.getItemVisual(c,"style");if(m){var p=a.get(f[0],c),q=a.get(f[1],c);if(isNaN(a.get(f[2],c))||p<k[0]||p>k[1]||q<l[0]||q>l[1])continue;var E=e.dataToPoint([p,q]);b=new z({shape:{x:E[0]-i/2,y:E[1]-j/2,width:i,height:j},style:o})}else{if(isNaN(a.get(f[1],c)))continue;b=new z({z2:1,shape:e.dataToRect([a.get(f[0],c)]).contentShape,style:o})}if(a.hasItemOption){var g=a.getItemModel(c),h=g.getModel("emphasis");v=h.getModel("itemStyle").getItemStyle(),w=g.getModel(["blur","itemStyle"]).getItemStyle(),x=g.getModel(["select","itemStyle"]).getItemStyle(),y=g.get(["itemStyle","borderRadius"]),B=h.get("focus"),C=h.get("blurScope"),D=h.get("disabled"),A=mv(g)}b.shape.r=y;var r=d.getRawValue(c),F="-";r&&null!=r[2]&&(F=r[2]+""),mu(b,A,{labelFetcher:d,labelDataIndex:c,defaultOpacity:o.opacity,defaultText:F}),b.ensureState("emphasis").style=v,b.ensureState("blur").style=w,b.ensureState("select").style=x,l8(b,B,C,D),b.incremental=s,s&&(b.states.emphasis.hoverLayer=!0),I.add(b),a.setItemGraphicEl(c,b),this._progressiveEls&&this._progressiveEls.push(b)}},a.prototype._renderOnGeo=function(k,d,a,l){var m=a.targetVisuals.inRange,s=a.targetVisuals.outOfRange,f=d.getData(),c=this._hmLayer||this._hmLayer||new EO;c.blurSize=d.get("blurSize"),c.pointSize=d.get("pointSize"),c.minOpacity=d.get("minOpacity"),c.maxOpacity=d.get("maxOpacity");var b=k.getViewRect().clone(),t=k.getRoamTransform();b.applyTransform(t);var e,g,h,i,j,u,v,w,x,n=Math.max(b.x,0),o=Math.max(b.y,0),y=Math.min(b.width+b.x,l.getWidth()),z=Math.min(b.height+b.y,l.getHeight()),p=y-n,q=z-o,A=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],B=f.mapArray(A,function(b,c,d){var a=k.dataToPoint([b,c]);return a[0]-=n,a[1]-=o,a.push(d),a}),r=a.getExtent(),C="visualMap.continuous"===a.type?(e=r,g=a.option.range,h=e[1]-e[0],g=[(g[0]-e[0])/h,(g[1]-e[0])/h],function(a){return a>=g[0]&&a<=g[1]}):(i=r,j=a.getPieceList(),u=a.option.selected,v=i[1]-i[0],w=(j=Y(j,function(a){return{interval:[(a.interval[0]-i[0])/v,(a.interval[1]-i[0])/v]}})).length,x=0,function(c){var a;for(a=x;a<w;a++){var b=j[a].interval;if(b[0]<=c&&c<=b[1]){x=a;break}}if(a===w)for(a=x-1;a>=0;a--){var b=j[a].interval;if(b[0]<=c&&c<=b[1]){x=a;break}}return a>=0&&a<w&&u[a]});c.update(B,p,q,m.color.getNormalizer(),{inRange:m.color.getColorMapper(),outOfRange:s.color.getColorMapper()},C);var D=new cU({style:{width:p,height:q,x:n,y:o,image:c.canvas},silent:!0});this.group.add(D)},a.type="heatmap",a}(f),ER=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.getInitialData=function(a,b){return uG(null,this,{generateCoord:"value"})},a.prototype.preventIncremental=function(){var a=n_.get(this.get("coordinateSystem"));if(a&&a.dimensions)return"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]},a.type="series.heatmap",a.dependencies=["grid","geo","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},a}(e),ES=["itemStyle","borderWidth"],ET=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],EU=new aM,d9=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,h,e){var i=this.group,f=b.getData(),g=this._data,c=b.coordinateSystem,d=c.getBaseAxis().isHorizontal(),a=c.master.getRect(),j={ecSize:{width:e.getWidth(),height:e.getHeight()},seriesModel:b,coordSys:c,coordSysExtent:[[a.x,a.x+a.width],[a.y,a.y+a.height]],isHorizontal:d,valueDim:ET[+d],categoryDim:ET[1- +d]};return f.diff(g).add(function(a){if(f.hasValue(a)){var d=E4(f,a),c=EV(f,a,d,j),b=E7(f,j,c);f.setItemGraphicEl(a,b),i.add(b),Fd(b,j,c)}}).update(function(b,d){var a=g.getItemGraphicEl(d);if(!f.hasValue(b)){i.remove(a);return}var e=E4(f,b),c=EV(f,b,e,j),h=Fa(f,c);a&&h!==a.__pictorialShapeStr&&(i.remove(a),f.setItemGraphicEl(b,null),a=null),a?E8(a,j,c):a=E7(f,j,c,!0),f.setItemGraphicEl(b,a),a.__pictorialSymbolMeta=c,i.add(a),Fd(a,j,c)}).remove(function(b){var a=g.getItemGraphicEl(b);a&&E9(g,b,a.__pictorialSymbolMeta.animationModel,a)}).execute(),this._data=f,this.group},a.prototype.remove=function(b,d){var c=this.group,a=this._data;b.get("animation")?a&&a.eachItemGraphicEl(function(c){E9(a,lz(c).dataIndex,b,c)}):c.removeAll()},a.type="pictorialBar",a}(f);function EV(d,c,a,e){var f=d.getItemLayout(c),g=a.get("symbolRepeat"),h=a.get("symbolClip"),m=a.get("symbolPosition")||"start",n=a.get("symbolRotate"),i=(n||0)*Math.PI/180||0,j=a.get("symbolPatternSize")||2,k=a.isAnimationEnabled(),b={dataIndex:c,layout:f,itemModel:a,symbolType:d.getItemVisual(c,"symbol")||"circle",style:d.getItemVisual(c,"style"),symbolClip:h,symbolRepeat:g,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:j,rotation:i,animationModel:k?a:null,hoverScale:k&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};EW(a,g,f,e,b),EY(d,c,f,g,h,b.boundingLength,b.pxSign,j,e,b),EZ(a,b.symbolScale,i,e,b);var l=b.symbolSize,o=rO(a.get("symbolOffset"),l);return E$(a,l,f,g,h,o,m,b.valueLineWidth,b.boundingLength,b.repeatCutLength,e,b),b}function EW(l,j,h,c,i){var d,e=c.valueDim,a=l.get("symbolBoundingData"),b=c.coordSys.getOtherAxis(c.coordSys.getBaseAxis()),f=b.toGlobalCoord(b.dataToCoord(0)),k=1- +(h[e.wh]<=0);if(cv(a)){var g=[EX(b,a[0])-f,EX(b,a[1])-f];g[1]<g[0]&&g.reverse(),d=g[k]}else d=null!=a?EX(b,a)-f:j?c.coordSysExtent[e.index][k]-f:h[e.wh];i.boundingLength=d,j&&(i.repeatCutLength=h[e.wh]),i.pxSign=d>0?1:-1}function EX(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function EY(i,j,k,l,p,m,n,f,c,g){var a,d=c.valueDim,e=c.categoryDim,h=Math.abs(k[e.wh]),b=i.getItemVisual(j,"symbolSize");(a=cv(b)?b.slice():null==b?["100%","100%"]:[b,b])[e.index]=je(a[e.index],h),a[d.index]=je(a[d.index],l?h:Math.abs(m)),g.symbolSize=a;var o=g.symbolScale=[a[0]/f,a[1]/f];o[d.index]*=(c.isHorizontal?-1:1)*n}function EZ(c,b,d,e,f){var a=c.get(ES)||0;a&&(EU.attr({scaleX:b[0],scaleY:b[1],rotation:d}),EU.updateTransform(),a/=EU.getLineScale(),a*=b[e.valueDim.index]),f.valueLineWidth=a||0}function E$(B,s,c,i,D,o,t,C,p,u,q,d){var b=q.categoryDim,a=q.valueDim,v=d.pxSign,j=Math.max(s[a.index]+C,0),w=j;if(i){var x=Math.abs(p),e=cx(B.get("symbolMargin"),"15%")+"",k=!1;e.lastIndexOf("!")===e.length-1&&(k=!0,e=e.slice(0,e.length-1));var f=je(e,s[a.index]),l=Math.max(j+2*f,0),m=k?0:2*f,y=js(i),g=y?i:Fe((x+m)/l);f=(x-g*j)/2/(k?g:Math.max(g-1,1)),l=j+2*f,m=k?0:2*f,y||"fixed"===i||(g=u?Fe((Math.abs(u)+m)/l):0),w=g*l-m,d.repeatTimes=g,d.symbolMargin=f}var r=v*(w/2),h=d.pathPosition=[];h[b.index]=c[b.wh]/2,h[a.index]="start"===t?r:"end"===t?p-r:p/2,o&&(h[0]+=o[0],h[1]+=o[1]);var z=d.bundlePosition=[];z[b.index]=c[b.xy],z[a.index]=c[a.xy];var A=d.barRectShape=fP({},c);A[a.wh]=v*Math.max(Math.abs(c[a.wh]),Math.abs(h[a.index]+r)),A[b.wh]=c[b.wh];var n=d.clipShape={};n[b.xy]=-c[b.xy],n[b.wh]=q.ecSize[b.wh],n[a.xy]=0,n[a.wh]=c[a.wh]}function E_(c){var a=c.symbolPatternSize,b=rM(c.symbolType,-a/2,-a/2,a,a);return b.attr({culling:!0}),"image"!==b.type&&b.setStyle({strokeNoScale:!0}),b}function E0(e,f,a,h){var i=e.__pictorialBundle,j=a.symbolSize,k=a.valueLineWidth,l=a.pathPosition,m=f.valueDim,g=a.repeatTimes||0,c=0,n=j[f.valueDim.index]+k+2*a.symbolMargin;for(Fb(e,function(b){b.__pictorialAnimationIndex=c,b.__pictorialRepeatTimes=g,c<g?Fc(b,null,o(c),a,h):Fc(b,null,{scaleX:0,scaleY:0},a,h,function(){i.remove(b)}),c++});c<g;c++){var d=E_(a);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=g,i.add(d);var b=o(c);Fc(d,{x:b.x,y:b.y,scaleX:0,scaleY:0},{scaleX:b.scaleX,scaleY:b.scaleY,rotation:b.rotation},a,h)}function o(c){var b=l.slice(),d=a.pxSign,e=c;return("start"===a.symbolRepeatDirection?d>0:d<0)&&(e=g-1-c),b[m.index]=n*(e-g/2+.5)+l[m.index],{x:b[0],y:b[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function E1(c,f,a,d){var e=c.__pictorialBundle,b=c.__pictorialMainPath;b?Fc(b,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,d):(b=c.__pictorialMainPath=E_(a),e.add(b),Fc(b,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,d))}function E2(b,c,e){var d=fP({},c.barRectShape),a=b.__pictorialBarRect;a?Fc(a,null,{shape:d},c,e):((a=b.__pictorialBarRect=new z({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,b.add(a))}function E3(c,i,b,j){if(b.symbolClip){var a=c.__pictorialClipPath,d=fP({},b.clipShape),e=i.valueDim,f=b.animationModel,g=b.dataIndex;if(a)mk(a,{shape:d},f,g);else{d[e.wh]=0,a=new z({shape:d}),c.__pictorialBundle.setClipPath(a),c.__pictorialClipPath=a;var h={};h[e.wh]=b.clipShape[e.wh],a3[j?"updateProps":"initProps"](a,{shape:h},f,g)}}}function E4(b,c){var a=b.getItemModel(c);return a.getAnimationDelayParams=E5,a.isAnimationEnabled=E6,a}function E5(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function E6(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function E7(f,d,a,e){var b=new t,c=new t;return b.add(c),b.__pictorialBundle=c,c.x=a.bundlePosition[0],c.y=a.bundlePosition[1],a.symbolRepeat?E0(b,d,a):E1(b,d,a),E2(b,a,e),E3(b,d,a,e),b.__pictorialShapeStr=Fa(f,a),b.__pictorialSymbolMeta=a,b}function E8(b,c,a){var d=a.animationModel,e=a.dataIndex,f=b.__pictorialBundle;mk(f,{x:a.bundlePosition[0],y:a.bundlePosition[1]},d,e),a.symbolRepeat?E0(b,c,a,!0):E1(b,c,a,!0),E2(b,a,!0),E3(b,c,a,!0)}function E9(d,e,f,a){var b=a.__pictorialBarRect;b&&b.removeTextContent();var c=[];Fb(a,function(a){c.push(a)}),a.__pictorialMainPath&&c.push(a.__pictorialMainPath),a.__pictorialClipPath&&(f=null),j(c,function(b){mn(b,{scaleX:0,scaleY:0},f,e,function(){a.parent&&a.parent.remove(a)})}),d.setItemGraphicEl(e,null)}function Fa(b,a){return[b.getItemVisual(a.dataIndex,"symbol")||"none",!!a.symbolRepeat,!!a.symbolClip].join(":")}function Fb(a,b,c){j(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function Fc(b,d,a,c,e,f){d&&b.attr(d),c.symbolClip&&!e?a&&b.attr(a):a&&a3[e?"updateProps":"initProps"](b,a,c.animationModel,c.dataIndex,f)}function Fd(d,e,a){var f=a.dataIndex,b=a.itemModel,c=b.getModel("emphasis"),k=c.getModel("itemStyle").getItemStyle(),l=b.getModel(["blur","itemStyle"]).getItemStyle(),m=b.getModel(["select","itemStyle"]).getItemStyle(),n=b.getShallow("cursor"),g=c.get("focus"),h=c.get("blurScope"),o=c.get("scale");Fb(d,function(b){if(b instanceof cU){var c=b.style;b.useStyle(fP({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},a.style))}else b.useStyle(a.style);var d=b.ensureState("emphasis");d.style=k,o&&(d.scaleX=1.1*b.scaleX,d.scaleY=1.1*b.scaleY),b.ensureState("blur").style=l,b.ensureState("select").style=m,n&&(b.cursor=n),b.z2=a.z2});var i=e.valueDim.posDesc[+(a.boundingLength>0)],j=d.__pictorialBarRect;mu(j,mv(b),{labelFetcher:e.seriesModel,labelDataIndex:f,defaultText:uI(e.seriesModel.getData(),f),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:i}),l8(d,g,h,c.get("disabled"))}function Fe(a){var b=Math.round(a);return 1e-4>Math.abs(a-b)?b:Math.ceil(a)}var Ff=d9,Fg=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.hasSymbolVisual=!0,c.defaultSymbol="roundRect",c}return cp(a,b),a.prototype.getInitialData=function(a){return a.stack=null,b.prototype.getInitialData.apply(this,arguments)},a.type="series.pictorialBar",a.dependencies=["grid"],a.defaultOption=mP(bX.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),a}(bX),ea=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._layers=[],c}return cp(a,b),a.prototype.render=function(b,l,m){var g=b.getData(),n=this,c=this.group,d=b.getLayerSeries(),e=g.getLayout("layoutInfo"),h=e.rect,i=e.boundaryGap;function f(a){return a.name}c.x=0,c.y=h.y+i[0];var j=new uf(this._layersSeries||[],d,f,f),k=[];function a(s,i,x){var j,a,u=n._layers;if("remove"===s){c.remove(u[i]);return}for(var l=[],m=[],e=d[i].indices,f=0;f<e.length;f++){var o=g.getItemLayout(e[f]),v=o.x,w=o.y0,y=o.y;l.push(v,w),m.push(v,w+y),j=g.getItemVisual(e[f],"style")}var p=g.getItemLayout(e[0]),z=b.getModel("label").get("margin"),q=b.getModel("emphasis");if("add"===s){var h=k[i]=new t;a=new u0({shape:{points:l,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),h.add(a),c.add(h),b.isAnimationEnabled()&&a.setClipPath(Fh(a.getBoundingRect(),b,function(){a.removeClipPath()}))}else{var h=u[x];a=h.childAt(0),c.add(h),k[i]=h,mk(a,{shape:{points:l,stackedOnPoints:m}},b),mq(a)}mu(a,mv(b),{labelDataIndex:e[f-1],defaultText:g.getName(e[f-1]),inheritColor:j.fill},{normal:{verticalAlign:"middle"}}),a.setTextConfig({position:null,local:!0});var r=a.getTextContent();r&&(r.x=p.x-z,r.y=p.y0+p.y/2),a.useStyle(j),g.setItemGraphicEl(i,a),mc(a,b),l8(a,q.get("focus"),q.get("blurScope"),q.get("disabled"))}j.add(cu(a,this,"add")).update(cu(a,this,"update")).remove(cu(a,this,"remove")).execute(),this._layersSeries=d,this._layers=k},a.type="themeRiver",a}(f);function Fh(a,c,d){var b=new z({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return ml(b,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},c,d),b}var Fi=ea,Fj=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(a){b.prototype.init.apply(this,arguments),this.legendVisualProvider=new v7(cu(this.getData,this),cu(this.getRawData,this))},a.prototype.fixData=function(d){var g=d.length,c={},h=jV(d,function(a){return c.hasOwnProperty(a[0]+"")||(c[a[0]+""]=-1),a[2]}),e=[];h.buckets.each(function(a,b){e.push({name:b,dataList:a})});for(var i=e.length,a=0;a<i;++a){for(var j=e[a].name,f=0;f<e[a].dataList.length;++f){var b=e[a].dataList[f][0]+"";c[b]=a}for(var b in c)c.hasOwnProperty(b)&&c[b]!==a&&(c[b]=a,d[g]=[b,0,j],g++)}return d},a.prototype.getInitialData=function(f,k){for(var g=this.getReferringComponents("singleAxis",jR).models[0].get("type"),h=fS(f.data,function(a){return void 0!==a[2]}),a=this.fixData(h||[]),i=[],c=this.nameMap=s(),d=0,b=0;b<a.length;++b)i.push(a[b][2]),!c.get(a[b][2])&&(c.set(a[b][2],d),d++);var j=uw(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ui(g)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,e=new uv(j,this);return e.initData(a),e},a.prototype.getLayerSeries=function(){for(var b=this.getData(),d=b.count(),c=[],a=0;a<d;++a)c[a]=a;var g=b.mapDimension("single"),e=jV(c,function(a){return b.get("name",a)}),f=[];return e.buckets.each(function(a,c){a.sort(function(a,c){return b.get(g,a)-b.get(g,c)}),f.push({name:c,indices:a})}),f},a.prototype.getAxisTooltipData=function(a,k,o){cv(a)||(a=a?[a]:[]);for(var e,l=this.getData(),c=this.getLayerSeries(),f=[],m=c.length,b=0;b<m;++b){for(var g=Number.MAX_VALUE,h=-1,n=c[b].indices.length,d=0;d<n;++d){var i=l.get(a[0],c[b].indices[d]),j=Math.abs(i-k);j<=g&&(e=i,g=j,h=c[b].indices[d])}f.push(h)}return{dataIndices:f,nestestValue:e}},a.prototype.formatTooltip=function(b,e,f){var a=this.getData(),c=a.getName(b),d=a.get(a.mapDimension("value"),b);return pl("nameValue",{name:c,value:d})},a.type="series.themeRiver",a.dependencies=["singleAxis"],a.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},a}(e);function Fk(a,b){a.eachSeriesByType("themeRiver",function(c){var d=c.getData(),f=c.coordinateSystem,e={},b=f.getRect();e.rect=b;var a=c.get("boundaryGap"),g=f.getAxis();(e.boundaryGap=a,"horizontal"===g.orient)?(a[0]=je(a[0],b.height),a[1]=je(a[1],b.height),Fl(d,c,b.height-a[0]-a[1])):(a[0]=je(a[0],b.width),a[1]=je(a[1],b.width),Fl(d,c,b.width-a[0]-a[1])),d.setLayout("layoutInfo",e)})}function Fl(d,h,j){if(d.count())for(var f,n=h.coordinateSystem,e=h.getLayerSeries(),o=d.mapDimension("single"),p=d.mapDimension("value"),c=Y(e,function(a){return Y(a.indices,function(a){var b=n.dataToPoint(d.get(o,a));return b[1]=d.get(p,a),b})}),i=Fm(c),k=i.y0,g=j/i.max,l=e.length,m=e[0].indices.length,a=0;a<m;++a){f=k[a]*g,d.setItemLayout(e[0].indices[a],{layerIndex:0,x:c[0][a][0],y0:f,y:c[0][a][1]*g});for(var b=1;b<l;++b)f+=c[b-1][a][1]*g,d.setItemLayout(e[b].indices[a],{layerIndex:b,x:c[b][a][0],y0:f,y:c[b][a][1]*g})}}function Fm(e){for(var l=e.length,f=e[0].length,g=[],h=[],a=0,i=0;i<f;++i){for(var b=0,j=0;j<l;++j)b+=e[j][i][1];b>a&&(a=b),g.push(b)}for(var c=0;c<f;++c)h[c]=(a-g[c])/2;a=0;for(var d=0;d<f;++d){var k=g[d]+h[d];k>a&&(a=k)}return{y0:h,max:a}}var Fn=function(b){function a(c,d,e,f){var a=b.call(this)||this;a.z2=2,a.textConfig={inside:!0},lz(a).seriesIndex=d.seriesIndex;var g=new bh({z2:4,silent:c.getModel().get(["label","silent"])});return a.setTextContent(g),a.updateData(!0,c,d,e,f),a}return cp(a,b),a.prototype.updateData=function(n,a,c,e,o){this.node=a,a.piece=this,c=c||this._seriesModel,e=e||this._ecModel;var b=this;lz(b).dataIndex=a.dataIndex;var f=a.getModel(),g=f.getModel("emphasis"),h=a.getLayout(),d=fP({},h);d.label=null;var i=a.getVisual("style");i.lineJoin="bevel";var l=a.getVisual("decal");l&&(i.decal=sc(l,o));var p=v3(f.getModel("itemStyle"),d,!0);fP(d,p),j(lF,function(a){var c=b.ensureState(a),e=f.getModel([a,"itemStyle"]);c.style=e.getItemStyle();var g=v3(e,d);g&&(c.shape=g)}),n?(b.setShape(d),b.shape.r=h.r0,mk(b,{shape:{r:h.r}},c,a.dataIndex)):(mk(b,{shape:d},c),mq(b)),b.useStyle(i),this._updateLabel(c);var m=f.getShallow("cursor");m&&b.attr("cursor",m),this._seriesModel=c||this._seriesModel,this._ecModel=e||this._ecModel;var k=g.get("focus"),q="ancestor"===k?a.getAncestorsIndices():"descendant"===k?a.getDescendantIndices():k;l8(this,q,g.get("blurScope"),g.get("disabled"))},a.prototype._updateLabel=function(k){var l=this,f=this.node.getModel(),b=f.getModel("label"),a=this.node.getLayout(),g=a.endAngle-a.startAngle,c=(a.startAngle+a.endAngle)/2,m=Math.cos(c),n=Math.sin(c),h=this,d=h.getTextContent(),o=this.node.dataIndex,e=b.get("minAngle")/180*Math.PI,i=b.get("show")&&!(null!=e&&Math.abs(g)<e);function p(d,a){var c=d.get(a);return null==c?b.get(a):c}d.ignore=!i,j(lG,function(q){var r,e="normal"===q?f.getModel("label"):f.getModel([q,"label"]),s="normal"===q,i=s?d:d.ensureState(q),t=k.getFormattedLabel(o,q);s&&(t=t||l.node.name),i.style=mw(e,{},null,"normal"!==q,!0),t&&(i.style.text=t);var w=e.get("show");null==w||s||(i.ignore=!w);var x=p(e,"position"),y=s?h:h.states[q],z=y.style.fill;y.textConfig={outsideFill:"inherit"===e.get("color")?z:null,inside:"outside"!==x};var v=p(e,"distance")||0,b=p(e,"align");"outside"===x?(r=a.r+v,b=c>Math.PI/2?"right":"left"):b&&"center"!==b?"left"===b?(r=a.r0+v,c>Math.PI/2&&(b="right")):"right"===b&&(r=a.r-v,c>Math.PI/2&&(b="left")):(r=g===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,b="center"),i.style.align=b,i.style.verticalAlign=p(e,"verticalAlign")||"middle",i.x=r*m+a.cx,i.y=r*n+a.cy;var u=p(e,"rotate"),j=0;"radial"===u?(j=-c)< -Math.PI/2&&(j+=Math.PI):"tangential"===u?(j=Math.PI/2-c)>Math.PI/2?j-=Math.PI:j< -Math.PI/2&&(j+=Math.PI):fV(u)&&(j=u*Math.PI/180),i.rotation=j}),d.dirtyStyle()},a}(aN),Fo="sunburstRootToNode",Fp="sunburstHighlight",Fq=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,c,d,l){var a=this;this.seriesModel=b,this.api=d,this.ecModel=c;var e,f,j=b.getData(),k=j.tree.root,g=b.getViewRoot(),h=this.group,n=b.get("renderLabelForZeroData"),i=[];function o(a,e){if(n||!a||a.getValue()||(a=null),a!==k&&e!==k){if(e&&e.piece)a?(e.piece.updateData(!1,a,b,c,d),j.setItemGraphicEl(a.dataIndex,e.piece)):p(e);else if(a){var f=new Fn(a,b,c,d);h.add(f),j.setItemGraphicEl(a.dataIndex,f)}}}function p(a){a&&a.piece&&(h.remove(a.piece),a.piece=null)}g.eachNode(function(a){i.push(a)}),function(b,c){function d(a){return a.getId()}function a(a,d){var e;o(null==a?null:b[a],null==d?null:c[d])}(0!==b.length||0!==c.length)&&new uf(c,b,d,d).add(a).update(a).remove(m(a,null)).execute()}(i,this._oldChildren||[]),e=k,(f=g).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,e,b,c,d):(a.virtualPiece=new Fn(e,b,c,d),h.add(a.virtualPiece)),f.piece.off("click"),a.virtualPiece.on("click",function(b){a._rootToNode(f.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=i},a.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(b){var c=!1;a.seriesModel.getViewRoot().eachNode(function(d){if(!c&&d.piece&&d.piece===b.target){var e=d.getModel().get("nodeClick");if("rootToNode"===e)a._rootToNode(d);else if("link"===e){var f=d.getModel(),g=f.get("link");g&&nq(g,f.get("target",!0)||"_blank")}c=!0}})})},a.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Fo,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},a.prototype.containPoint=function(b,f){var a=f.getData().getItemLayout(0);if(a){var c=b[0]-a.cx,d=b[1]-a.cy,e=Math.sqrt(c*c+d*d);return e<=a.r&&e>=a.r0}},a.type="sunburst",a}(f),eb=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.ignoreStyleOnData=!0,c}return cp(a,b),a.prototype.getInitialData=function(a,d){var b={name:a.name,children:a.data};Fr(b);var e=this._levelModels=Y(a.levels||[],function(a){return new _(a,this,d)},this),c=zZ.createTree(b,this,function(a){a.wrapMethod("getItemModel",function(a,d){var b=e[c.getNodeByDataIndex(d).depth];return b&&(a.parentModel=b),a})});return c.data},a.prototype.optionUpdated=function(){this.resetViewRoot()},a.prototype.getDataParams=function(c){var a=b.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(c);return a.treePathInfo=z1(d,this),a},a.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},a.prototype.getViewRoot=function(){return this._viewRoot},a.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},a.prototype.enableAriaDecal=function(){z8(this)},a.type="series.sunburst",a.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},a}(e);function Fr(b){var c=0;j(b.children,function(b){Fr(b);var a=b.value;cv(a)&&(a=a[0]),c+=a});var a=b.value;cv(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=c),a<0&&(a=0),cv(b.value)?b.value[0]=a:b.value=a}var Fs=eb,Ft=Math.PI/180;function Fu(a,b,c){b.eachSeriesByType(a,function(a){var d=a.get("center"),e=a.get("radius");cv(e)||(e=[0,e]),cv(d)||(d=[d,d]);var h=c.getWidth(),i=c.getHeight(),k=Math.min(h,i),p=je(d[0],h),q=je(d[1],i),f=je(e[0],k/2),r=je(e[1],k/2),g=-a.get("startAngle")*Ft,z=a.get("minAngle")*Ft,s=a.getData().tree.root,b=a.getViewRoot(),A=b.depth,l=a.get("sort");null!=l&&Fv(b,l);var t=0;j(b.children,function(a){!isNaN(a.getValue())&&t++});var u=b.getValue(),B=Math.PI/(u||t)*2,m=b.depth>0,v=(r-f)/(b.height-(m?-1:1)||1),n=a.get("clockwise"),C=a.get("stillShowZeroSum"),D=n?1:-1,w=function(b,c){if(b){var g=c;if(b!==s){var x=b.getValue(),d=0===u&&C?B:x*B;d<z&&(d=z),g=c+D*d;var o=b.depth-A-(m?-1:1),r=f+v*o,t=f+v*(o+1),e=a.getLevelModel(b);if(e){var h=e.get("r0",!0),i=e.get("r",!0),l=e.get("radius",!0);null!=l&&(h=l[0],i=l[1]),null!=h&&(r=je(h,k/2)),null!=i&&(t=je(i,k/2))}b.setLayout({angle:d,startAngle:c,endAngle:g,clockwise:n,cx:p,cy:q,r0:r,r:t})}if(b.children&&b.children.length){var y=0;j(b.children,function(a){y+=w(a,c+y)})}return g-c}};if(m){var x=f,y=f+v,o=2*Math.PI;s.setLayout({angle:o,startAngle:g,endAngle:g+o,clockwise:n,cx:p,cy:q,r0:x,r:y})}w(b,g)})}function Fv(a,c){var b=a.children||[];a.children=Fw(b,c),b.length&&j(a.children,function(a){Fv(a,c)})}function Fw(a,b){if(cw(b)){var c=Y(a,function(a,b){var c=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return c}},index:b}});return c.sort(function(a,c){return b(a.params,c.params)}),Y(c,function(b){return a[b.index]})}var d="asc"===b;return a.sort(function(a,b){var c=(a.getValue()-b.getValue())*(d?1:-1);return 0===c?(a.dataIndex-b.dataIndex)*(d?-1:1):c})}function Fx(a){var b={};a.eachSeriesByType("sunburst",function(a){var c=a.getData(),d=c.tree;d.eachNode(function(e){var f=e.getModel().getModel("itemStyle").getItemStyle();f.fill||(f.fill=function(d,e,f){for(var a=d;a&&a.depth>1;)a=a.parentNode;var c=e.getColorFromPalette(a.name||a.dataIndex+"",b);return d.depth>1&&fT(c)&&(c=hK(c,(d.depth-1)/(f-1)*.5)),c}(e,a,d.root.height)),fP(c.ensureUniqueItemVisual(e.dataIndex,"style"),f)})})}var Fy={color:"fill",borderColor:"stroke"},Fz={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},FA=a(),FB=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},a.prototype.getInitialData=function(a,b){return uG(null,this)},a.prototype.getDataParams=function(d,e,a){var c=b.prototype.getDataParams.call(this,d,e);return a&&(c.info=FA(a).info),c},a.type="series.custom",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},a}(e);function FC(b,a){return a=a||[0,0],Y(["x","y"],function(g,d){var c=this.getAxis(g),e=a[d],f=b[d]/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(e-f)-c.dataToCoord(e+f))},this)}function FD(b,a){return a=a||[0,0],Y([0,1],function(c){var f=a[c],g=b[c]/2,d=[],e=[];return d[c]=f-g,e[c]=f+g,d[1-c]=e[1-c]=a[1-c],Math.abs(this.dataToPoint(d)[c]-this.dataToPoint(e)[c])},this)}function FE(b,c){var a=this.getAxis(),d=c instanceof Array?c[0]:c,e=(b instanceof Array?b[0]:b)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(d-e)-a.dataToCoord(d+e))}function FF(b,a){return a=a||[0,0],Y(["Radius","Angle"],function(e,f){var c=this["get"+e+"Axis"](),g=a[f],h=b[f]/2,d="category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(g-h)-c.dataToCoord(g+h));return"Angle"===e&&(d=d*Math.PI/180),d},this)}function FG(a,b,c,d){return a&&(a.legacy|| !1!==a.legacy&&!c&&!d&&"tspan"!==b&&("text"===b||ga(a,"text")))}function FH(d,g,h){var c,e,b,a=d;if("text"===g)b=a;else{b={},ga(a,"text")&&(b.text=a.text),ga(a,"rich")&&(b.rich=a.rich),ga(a,"textFill")&&(b.fill=a.textFill),ga(a,"textStroke")&&(b.stroke=a.textStroke),ga(a,"fontFamily")&&(b.fontFamily=a.fontFamily),ga(a,"fontSize")&&(b.fontSize=a.fontSize),ga(a,"fontStyle")&&(b.fontStyle=a.fontStyle),ga(a,"fontWeight")&&(b.fontWeight=a.fontWeight),e={type:"text",style:b,silent:!0},c={};var f=ga(a,"textPosition");h?c.position=f?a.textPosition:"inside":f&&(c.position=a.textPosition),ga(a,"textPosition")&&(c.position=a.textPosition),ga(a,"textOffset")&&(c.offset=a.textOffset),ga(a,"textRotation")&&(c.rotation=a.textRotation),ga(a,"textDistance")&&(c.distance=a.textDistance)}return FI(b,d),j(b.rich,function(a){FI(a,a)}),{textConfig:c,textContent:e}}function FI(b,a){a&&(a.font=a.textFont||a.font,ga(a,"textStrokeWidth")&&(b.lineWidth=a.textStrokeWidth),ga(a,"textAlign")&&(b.align=a.textAlign),ga(a,"textVerticalAlign")&&(b.verticalAlign=a.textVerticalAlign),ga(a,"textLineHeight")&&(b.lineHeight=a.textLineHeight),ga(a,"textWidth")&&(b.width=a.textWidth),ga(a,"textHeight")&&(b.height=a.textHeight),ga(a,"textBackgroundColor")&&(b.backgroundColor=a.textBackgroundColor),ga(a,"textPadding")&&(b.padding=a.textPadding),ga(a,"textBorderColor")&&(b.borderColor=a.textBorderColor),ga(a,"textBorderWidth")&&(b.borderWidth=a.textBorderWidth),ga(a,"textBorderRadius")&&(b.borderRadius=a.textBorderRadius),ga(a,"textBoxShadowColor")&&(b.shadowColor=a.textBoxShadowColor),ga(a,"textBoxShadowBlur")&&(b.shadowBlur=a.textBoxShadowBlur),ga(a,"textBoxShadowOffsetX")&&(b.shadowOffsetX=a.textBoxShadowOffsetX),ga(a,"textBoxShadowOffsetY")&&(b.shadowOffsetY=a.textBoxShadowOffsetY))}function FJ(d,c,b){var a=d;a.textPosition=a.textPosition||b.position||"inside",null!=b.offset&&(a.textOffset=b.offset),null!=b.rotation&&(a.textRotation=b.rotation),null!=b.distance&&(a.textDistance=b.distance);var f=a.textPosition.indexOf("inside")>=0,g=d.fill||"#000";FK(a,c);var e=null==a.textFill;return f?e&&(a.textFill=b.insideFill||"#fff",!a.textStroke&&b.insideStroke&&(a.textStroke=b.insideStroke),a.textStroke||(a.textStroke=g),null==a.textStrokeWidth&&(a.textStrokeWidth=2)):(e&&(a.textFill=d.fill||b.outsideFill||"#000"),!a.textStroke&&b.outsideStroke&&(a.textStroke=b.outsideStroke)),a.text=c.text,a.rich=c.rich,j(c.rich,function(a){FK(a,a)}),a}function FK(b,a){a&&(ga(a,"fill")&&(b.textFill=a.fill),ga(a,"stroke")&&(b.textStroke=a.fill),ga(a,"lineWidth")&&(b.textStrokeWidth=a.lineWidth),ga(a,"font")&&(b.font=a.font),ga(a,"fontStyle")&&(b.fontStyle=a.fontStyle),ga(a,"fontWeight")&&(b.fontWeight=a.fontWeight),ga(a,"fontSize")&&(b.fontSize=a.fontSize),ga(a,"fontFamily")&&(b.fontFamily=a.fontFamily),ga(a,"align")&&(b.textAlign=a.align),ga(a,"verticalAlign")&&(b.textVerticalAlign=a.verticalAlign),ga(a,"lineHeight")&&(b.textLineHeight=a.lineHeight),ga(a,"width")&&(b.textWidth=a.width),ga(a,"height")&&(b.textHeight=a.height),ga(a,"backgroundColor")&&(b.textBackgroundColor=a.backgroundColor),ga(a,"padding")&&(b.textPadding=a.padding),ga(a,"borderColor")&&(b.textBorderColor=a.borderColor),ga(a,"borderWidth")&&(b.textBorderWidth=a.borderWidth),ga(a,"borderRadius")&&(b.textBorderRadius=a.borderRadius),ga(a,"shadowColor")&&(b.textBoxShadowColor=a.shadowColor),ga(a,"shadowBlur")&&(b.textBoxShadowBlur=a.shadowBlur),ga(a,"shadowOffsetX")&&(b.textBoxShadowOffsetX=a.shadowOffsetX),ga(a,"shadowOffsetY")&&(b.textBoxShadowOffsetY=a.shadowOffsetY),ga(a,"textShadowColor")&&(b.textShadowColor=a.textShadowColor),ga(a,"textShadowBlur")&&(b.textShadowBlur=a.textShadowBlur),ga(a,"textShadowOffsetX")&&(b.textShadowOffsetX=a.textShadowOffsetX),ga(a,"textShadowOffsetY")&&(b.textShadowOffsetY=a.textShadowOffsetY))}var ec={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},FL=ap(ec);ao(O,function(a,b){return a[b]=1,a},{}),O.join(", ");var FM=["","style","shape","extra"],FN=a();function FO(b,c,e,f,g){var a=mi(b,f,g)||{},d=FN(c).userDuring;return a.duration>0&&(a.during=d?cu(FY,{el:c,userDuring:d}):null,a.setToFinal=!0,a.scope=b),fP(a,e[b+"Animation"]),a}function FP(a,b,f,e){var h=(e=e||{}).dataIndex,i=e.isInit,m=e.clearStyle,k=f.isAnimationEnabled(),n=FN(a),g=b.style;n.userDuring=b.during;var c={},d={};if(F0(a,b,d),F$("shape",b,d),F$("extra",b,d),!i&&k&&(F_(a,b,c),FZ("shape",a,b,c),FZ("extra",a,b,c),F1(a,b,g,c)),d.style=g,FT(a,d,m),FV(a,b),k){if(i){var o={};j(FM,function(a){var c=a?b[a]:b;c&&c.enterFrom&&(a&&(o[a]=o[a]||{}),fP(a?o[a]:o,c.enterFrom))});var l=FO("enter",a,b,f,h);l.duration>0&&a.animateFrom(o,l)}else FU(a,b,h||0,f,c)}FQ(a,b),g?a.dirty():a.markRedraw()}function FQ(e,f){for(var b=FN(e).leaveToProps,c=0;c<FM.length;c++){var a=FM[c],d=a?f[a]:f;d&&d.leaveTo&&(b||(b=FN(e).leaveToProps={}),a&&(b[a]=b[a]||{}),fP(a?b[a]:b,d.leaveTo))}}function FR(a,e,f,b){if(a){var g=a.parent,c=FN(a).leaveToProps;if(c){var d=FO("update",a,e,f,0);d.done=function(){g.remove(a),b&&b()},a.animateTo(c,d)}else g.remove(a),b&&b()}}function FS(a){return"all"===a}function FT(a,b,g){var c=b.style;if(!a.isGroup&&c){if(g){a.useStyle({});for(var e=a.animators,d=0;d<e.length;d++){var f=e[d];"style"===f.targetName&&f.changeTarget(a.style)}}a.setStyle(c)}b&&(b.style=null,b&&a.attr(b),b.style=c)}function FU(a,d,e,f,b){if(b){var c=FO("update",a,d,f,e);c.duration>0&&a.animateFrom(b,c)}}function FV(b,a){ga(a,"silent")&&(b.silent=a.silent),ga(a,"ignore")&&(b.ignore=a.ignore),b instanceof P&&ga(a,"invisible")&&(b.invisible=a.invisible),b instanceof c&&ga(a,"autoBatch")&&(b.autoBatch=a.autoBatch)}var FW={},FX={setTransform:function(a,b){return FW.el[a]=b,this},getTransform:function(a){return FW.el[a]},setShape:function(b,c){var a=FW.el;return(a.shape||(a.shape={}))[b]=c,a.dirtyShape&&a.dirtyShape(),this},getShape:function(b){var a=FW.el.shape;if(a)return a[b]},setStyle:function(c,d){var a=FW.el,b=a.style;return b&&(b[c]=d,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(b){var a=FW.el.style;if(a)return a[b]},setExtra:function(a,b){return(FW.el.extra||(FW.el.extra={}))[a]=b,this},getExtra:function(b){var a=FW.el.extra;if(a)return a[b]}};function FY(){var a=this,b=a.el;if(b){var d=FN(b).userDuring,c=a.userDuring;if(d!==c){a.el=a.userDuring=null;return}FW.el=b,c(FX)}}function FZ(d,n,i,j){var a,g=i[d];if(g){var e=n[d];if(e){var k=i.transition,h=g.transition;if(h){if(a||(a=j[d]={}),FS(h))fP(a,e);else for(var l=jw(h),b=0;b<l.length;b++){var c=l[b],f=e[c];a[c]=f}}else if(FS(k)||fQ(k,d)>=0){a||(a=j[d]={});for(var m=ap(e),b=0;b<m.length;b++){var c=m[b],f=e[c];F2(g[c],f)&&(a[c]=f)}}}}}function F$(c,f,g){var a=f[c];if(a)for(var h=g[c]={},d=ap(a),b=0;b<d.length;b++){var e=d[b];h[e]=h7(a[e])}}function F_(e,f,g){for(var c=f.transition,d=FS(c)?O:jw(c||[]),b=0;b<d.length;b++){var a=d[b];if("style"!==a&&"shape"!==a&&"extra"!==a){var h=e[a];g[a]=h}}}function F0(h,b,c){for(var a=0;a<FL.length;a++){var f=FL[a],g=ec[f],d=b[f];d&&(c[g[0]]=d[0],c[g[1]]=d[1])}for(var a=0;a<O.length;a++){var e=O[a];null!=b[e]&&(c[e]=b[e])}}function F1(e,o,f,i){if(f){var b,g=e.style;if(g){var d=f.transition,j=o.transition;if(d&&!FS(d)){var k=jw(d);b||(b=i.style={});for(var a=0;a<k.length;a++){var c=k[a],h=g[c];b[c]=h}}else if(e.getAnimationStyleProps&&(FS(j)||FS(d)||fQ(j,"style")>=0)){var l=e.getAnimationStyleProps(),m=l?l.style:null;if(m){b||(b=i.style={});for(var n=ap(f),a=0;a<n.length;a++){var c=n[a];if(m[c]){var h=g[c];b[c]=h}}}}}}}function F2(a,b){return fR(a)?a!==b:null!=a&&isFinite(a)}var F3=a(),F4=["percent","easing","shape","style","extra"];function F5(a){a.stopAnimation("keyframe"),a.attr(F3(a))}function F6(e,a,b){if(b.isAnimationEnabled()&&a){if(cv(a)){j(a,function(a){F6(e,a,b)});return}var f=a.keyframes,c=a.duration;if(b&&null==c){var d=mi("enter",b,0);c=d&&d.duration}if(f&&c){var g=F3(e);j(FM,function(b){var d;if(!b||e[b])f.sort(function(a,b){return a.percent-b.percent}),j(f,function(i){var k=e.animators,l=b?i[b]:i;if(l){var f=ap(l);if(b||(f=fS(f,function(a){return 0>fQ(F4,a)})),f.length){d||((d=e.animate(b,a.loop,!0)).scope="keyframe");for(var h=0;h<k.length;h++)k[h]!==d&&k[h].targetName===d.targetName&&k[h].stopTracks(f);b&&(g[b]=g[b]||{});var m=b?g[b]:g;j(f,function(a){m[a]=((b?e[b]:e)||{})[a]}),d.whenWithKeys(c*i.percent,l,f,i.easing)}}}),d&&d.delay(a.delay||0).duration(c).start(a.easing)})}}}var aU="emphasis",ed="normal",aV="blur",aW="select",F7=[ed,aU,aV,aW],F8={normal:["itemStyle"],emphasis:[aU,"itemStyle"],blur:[aV,"itemStyle"],select:[aW,"itemStyle"]},F9={normal:["label"],emphasis:[aU,"label"],blur:[aV,"label"],select:[aW,"label"]},Ga=["x","y"],Gb={normal:{},emphasis:{},blur:{},select:{}},Gc={cartesian2d:function(b){var a=b.master.getRect();return{coordSys:{type:"cartesian2d",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:cu(FC,b)}}},geo:function(b){var a=b.getBoundingRect();return{coordSys:{type:"geo",x:a.x,y:a.y,width:a.width,height:a.height,zoom:b.getZoom()},api:{coord:function(a){return b.dataToPoint(a)},size:cu(FD,b)}}},single:function(b){var a=b.getRect();return{coordSys:{type:"singleAxis",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:cu(FE,b)}}},polar:function(a){var c=a.getRadiusAxis(),d=a.getAngleAxis(),b=c.getExtent();return b[0]>b[1]&&b.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:b[1],r0:b[0]},api:{coord:function(b){var e=c.dataToRadius(b[0]),f=d.dataToAngle(b[1]),g=a.coordToPoint([e,f]);return g.push(e,f*Math.PI/180),g},size:cu(FF,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(b,c){return a.dataToPoint(b,c)}}}}};function Gd(a){return a instanceof c}function Ge(a){return a instanceof P}var Gf=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,f,g,h){this._progressiveEls=null;var d=this._data,b=a.getData(),c=this.group,i=Gk(a,b,f,g);d||c.removeAll(),b.diff(d).add(function(d){Gm(g,null,d,i(d,h),a,c,b)}).remove(function(c){var b=d.getItemGraphicEl(c);FR(b,FA(b).option,a)}).update(function(e,f){Gm(g,d.getItemGraphicEl(f),e,i(e,h),a,c,b)}).execute();var e=a.get("clip",!0)?u3(a.coordinateSystem,!1,a):null;e?c.setClipPath(e):c.removeClipPath(),this._data=b},a.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll(),this._data=null},a.prototype.incrementalRender=function(d,b,f,g,h){var e=b.getData(),i=Gk(b,e,f,g),j=this._progressiveEls=[];function k(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var a=d.start;a<d.end;a++){var c=Gm(null,null,a,i(a,h),b,this.group,e);c&&(c.traverse(k),j.push(c))}},a.prototype.eachRendered=function(a){q3(this._progressiveEls||this.group,a)},a.prototype.filterForExposedEvent=function(d,c,a,e){var b=c.element;if(null==b||a.name===b)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===b)return!0;return!1},a.type="custom",a}(f);function Gg(d){var a,c=d.type;if("path"===c){var b=d.shape,g=null!=b.width&&null!=b.height?{x:b.x||0,y:b.y||0,width:b.width,height:b.height}:null,e=Gz(b);a=qK(e,null,g,b.layout||"center"),FA(a).customPathData=e}else if("image"===c)a=new cU({}),FA(a).customImagePath=d.style.image;else if("text"===c)a=new bh({});else if("group"===c)a=new t;else if("compoundPath"===c)throw Error('"compoundPath" is not supported yet.');else{var h,f=qJ(c);if(!f){oQ("")}a=new f}return FA(a).customGraphicType=c,a.name=d.name,a.z2EmphasisLift=1,a.z2SelectLift=1,a}function Gh(g,a,k,b,h,i,l){F5(a);var j=h&&h.normal.cfg;j&&a.setTextConfig(j),b&&null==b.transition&&(b.transition=Ga);var c=b&&b.style;if(c){if("text"===a.type){var d=c;ga(d,"textFill")&&(d.fill=d.textFill),ga(d,"textStroke")&&(d.stroke=d.textStroke)}var e=void 0,f=Gd(a)?c.decal:null;g&&f&&(f.dirty=!0,e=sc(f,g)),c.__decalPattern=e}if(Ge(a)&&c){var e=c.__decalPattern;e&&(c.decal=e)}FP(a,b,i,{dataIndex:k,isInit:l,clearStyle:!0}),F6(a,b.keyframeAnimation,i)}function Gi(b,c,i,d,e){var a=c.isGroup?null:c,f=e&&e[b].cfg;if(a){var g=a.ensureState(b);if(!1===d){var h=a.getState(b);h&&(h.style=null)}else g.style=d||null;f&&(g.textConfig=f),lU(a)}}function Gj(b,c,a){var g,d=a===ed,e=d?c:Gs(c,a),f=e?e.z2:null;null!=f&&((d?b:b.ensureState(a)).z2=f||0)}function Gk(a,g,j,c){var k,l,m=a.get("renderItem"),b=a.coordinateSystem,e={};b&&(e=b.prepareCustoms?b.prepareCustoms(b):Gc[b.type](b));for(var n=x({getWidth:c.getWidth,getHeight:c.getHeight,getZr:c.getZr,getDevicePixelRatio:c.getDevicePixelRatio,value:function(b,a){return null==a&&(a=k),g.getStore().get(g.getDimensionIndex(b||0),a)},style:function(f,c){null==c&&(c=k);var d=g.getItemVisual(c,"style"),e=d&&d.fill,i=d&&d.opacity,b=s(c,ed).getItemStyle();null!=e&&(b.fill=e),null!=i&&(b.opacity=i);var j={inheritColor:fT(e)?e:"#000"},h=t(c,ed),l=mw(h,null,j,!1,!0);l.text=h.getShallow("show")?f$(a.getFormattedLabel(c,ed),uI(g,c)):null;var m=mx(h,j,!1);return v(f,b),b=FJ(b,l,m),f&&u(b,f),b.legacy=!0,b},ordinalRawValue:function(a,b){null==b&&(b=k),a=a||0;var c=g.getDimensionInfo(a);if(!c){var d=g.getDimensionIndex(a);return d>=0?g.getStore().get(d,b):void 0}var e=g.get(c.name,b),f=c&&c.ordinalMeta;return f?f.categories[e]:e},styleEmphasis:function(d,b){null==b&&(b=k);var c=s(b,aU).getItemStyle(),e=t(b,aU),f=mw(e,null,null,!0,!0);f.text=e.getShallow("show")?f_(a.getFormattedLabel(b,aU),a.getFormattedLabel(b,ed),uI(g,b)):null;var h=mx(e,null,!0);return v(d,c),c=FJ(c,f,h),d&&u(c,d),c.legacy=!0,c},visual:function(a,b){if(null==b&&(b=k),ga(Fy,a)){var c=g.getItemVisual(b,"style");return c?c[Fy[a]]:null}if(ga(Fz,a))return g.getItemVisual(b,a)},barLayout:function(a){if("cartesian2d"===b.type)return function(b){var d=[],e=b.axis,f="axis0";if("category"===e.type){for(var h=e.getBandWidth(),a=0;a<b.count;a++)d.push(x({bandWidth:h,axisKey:f,stackId:vj+a},b));for(var i=vo(d),g=[],a=0;a<b.count;a++){var c=i[f][vj+a];c.offsetCenter=c.offset+c.width/2,g.push(c)}return g}}(x({axis:b.getBaseAxis()},a))},currentSeriesIndices:function(){return j.getCurrentSeriesIndices()},font:function(a){return mE(a,j)}},e.api||{}),o={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:e.coordSys,dataInsideLength:g.count(),encode:Gl(a.getData())},p={},q={},h={},i={},f=0;f<F7.length;f++){var d=F7[f];h[d]=a.getModel(F8[d]),i[d]=a.getModel(F9[d])}function r(a){return a===k?l||(l=g.getItemModel(a)):g.getItemModel(a)}function s(b,a){return g.hasItemOption?b===k?p[a]||(p[a]=r(b).getModel(F8[a])):r(b).getModel(F8[a]):h[a]}function t(b,a){return g.hasItemOption?b===k?q[a]||(q[a]=r(b).getModel(F9[a])):r(b).getModel(F9[a]):i[a]}return function(a,b){return k=a,l=null,p={},q={},m&&m(x({dataIndexInside:a,dataIndex:g.getRawIndex(a),actionType:b?b.type:null},o),n)};function u(c,a){for(var b in a)ga(a,b)&&(c[b]=a[b])}function v(a,b){a&&(a.textFill&&(b.textFill=a.textFill),a.textPosition&&(b.textPosition=a.textPosition))}}function Gl(a){var b={};return j(a.dimensions,function(d){var c=a.getDimensionInfo(d);if(!c.isExtraCoord){var e=c.coordDim;(b[e]=b[e]||[])[c.coordDimIndex]=a.getDimensionIndex(d)}}),b}function Gm(f,c,d,a,g,e,h){if(!a){e.remove(c);return}var b=Gn(f,c,d,a,g,e);return b&&h.setItemGraphicEl(d,b),b&&l8(b,a.focus,a.blurScope,a.emphasisDisabled),b}function Gn(m,e,g,b,f,i){var c,d,j=-1,n=e;e&&Go(e,b,f)&&(j=fQ(i.childrenRef(),e),e=null);var k=!e,a=e;a?a.clearStates():(a=Gg(b),n&&(c=n,(d=a).copyTransform(c),Ge(d)&&Ge(c)&&(d.setStyle(c.style),d.z=c.z,d.z2=c.z2,d.zlevel=c.zlevel,d.invisible=c.invisible,d.ignore=c.ignore,Gd(d)&&Gd(c)&&d.setShape(c.shape)))),!1===b.morph?a.disableMorphing=!0:a.disableMorphing&&(a.disableMorphing=!1),Gb.normal.cfg=Gb.normal.conOpt=Gb.emphasis.cfg=Gb.emphasis.conOpt=Gb.blur.cfg=Gb.blur.conOpt=Gb.select.cfg=Gb.select.conOpt=null,Gb.isLegacy=!1,Gq(a,g,b,f,k,Gb),Gp(a,g,b,f,k),Gh(m,a,g,b,Gb,f,k),ga(b,"info")&&(FA(a).info=b.info);for(var l=0;l<F7.length;l++){var h=F7[l];if(h!==ed){var o=Gs(b,h),p=Gt(b,o,h);Gi(h,a,o,p,Gb)}}return!function(c,d,e){if(!c.isGroup){var a=c,g=e.currentZ,h=e.currentZLevel;a.z=g,a.zlevel=h;var f=d.z2;null!=f&&(a.z2=f||0);for(var b=0;b<F7.length;b++)Gj(a,d,F7[b])}}(a,b,f),"group"===b.type&&Gu(m,a,g,b,f),j>=0?i.replaceAt(a,j):i.add(a),a}function Go(f,b,g){var c=FA(f),a=b.type,d=b.shape,e=b.style;return g.isUniversalTransitionEnabled()||null!=a&&a!==c.customGraphicType||"path"===a&&GA(d)&&Gz(d)!==c.customPathData||"image"===a&&ga(e,"image")&&e.image!==c.customImagePath}function Gp(b,e,f,d,g){var c=f.clipPath;if(!1===c)b&&b.getClipPath()&&b.removeClipPath();else if(c){var a=b.getClipPath();a&&Go(a,c,d)&&(a=null),!a&&(a=Gg(c),b.setClipPath(a)),Gh(null,a,e,c,null,d,g)}}function Gq(d,i,g,j,k,c){if(!d.isGroup){Gr(g,null,c),Gr(g,aU,c);var a=c.normal.conOpt,l=c.emphasis.conOpt,m=c.blur.conOpt,n=c.select.conOpt;if(null!=a||null!=l||null!=n||null!=m){var b=d.getTextContent();if(!1===a)b&&d.removeTextContent();else{a=c.normal.conOpt=a||{type:"text"},b?b.clearStates():(b=Gg(a),d.setTextContent(b)),Gh(null,b,i,a,null,j,k);for(var o=a&&a.style,f=0;f<F7.length;f++){var e=F7[f];if(e!==ed){var h=c[e].conOpt;Gi(e,b,h,Gt(a,h,e),null)}}o?b.dirty():b.markRedraw()}}}}function Gr(b,a,d){var g=a?Gs(b,a):b,h=a?Gt(b,g,aU):b.style,j=b.type,e=g?g.textConfig:null,i=b.textContent,c=i?a?Gs(i,a):i:null;if(h&&(d.isLegacy||FG(h,j,!!e,!!c))){d.isLegacy=!0;var f=FH(h,j,!a);!e&&f.textConfig&&(e=f.textConfig),!c&&f.textContent&&(c=f.textContent)}if(!a&&c){var k=c;k.type||(k.type="text")}var l=a?d[a]:d.normal;l.cfg=e,l.conOpt=c}function Gs(a,b){return b?a?a[b]:null:a}function Gt(b,c,d){var a=c&&c.style;return null==a&&d===aU&&b&&(a=b.styleEmphasis),a}function Gu(g,a,h,d,e){var c=d.children,i=c?c.length:0,j=d.$mergeChildren,k="byName"===j||d.diffChildrenByName,l=!1===j;if(i||k||l){if(k){Gv({api:g,oldChildren:a.children()||[],newChildren:c||[],dataIndex:h,seriesModel:e,group:a});return}l&&a.removeAll();for(var b=0;b<i;b++)c[b]&&Gn(g,a.childAt(b),h,c[b],e,a);for(var f=a.childCount()-1;f>=b;f--)FR(a.childAt(f),FA(a).option,e)}}function Gv(a){new uf(a.oldChildren,a.newChildren,Gw,Gw,a).add(Gx).update(Gx).remove(Gy).execute()}function Gw(a,c){var b=a&&a.name;return null!=b?b:"e\0\0"+c}function Gx(b,c){var a=this.context,d=null!=b?a.newChildren[b]:null,e=null!=c?a.oldChildren[c]:null;Gn(a.api,e,a.dataIndex,d,a.seriesModel,a.group)}function Gy(c){var a=this.context,b=a.oldChildren[c];FR(b,FA(b).option,a.seriesModel)}function Gz(a){return a&&(a.pathData||a.d)}function GA(a){return a&&(ga(a,"pathData")||ga(a,"d"))}var GB=a(),GC=ct,GD=cu,ee=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(d,b,e,k){var f=b.get("value"),g=b.get("status");if(this._axisModel=d,this._axisPointerModel=b,this._api=e,k||this._lastValue!==f||this._lastStatus!==g){this._lastValue=f,this._lastStatus=g;var a=this._group,h=this._handle;if(!g||"hide"===g){a&&a.hide(),h&&h.hide();return}a&&a.show(),h&&h.show();var c={};this.makeElOption(c,f,d,b,e);var i=c.graphicKey;i!==this._lastGraphicKey&&this.clear(e),this._lastGraphicKey=i;var l=this._moveAnimation=this.determineAnimation(d,b);if(a){var j=m(GE,b,l);this.updatePointerEl(a,c,j),this.updateLabelEl(a,c,j,b)}else a=this._group=new t,this.createPointerEl(a,c,d,b),this.createLabelEl(a,c,d,b),e.getZr().add(a);GI(a,b,!0),this._renderHandle(f)}},a.prototype.remove=function(a){this.clear(a)},a.prototype.dispose=function(a){this.clear(a)},a.prototype.determineAnimation=function(c,d){var a=d.get("animation"),b=c.axis,e="category"===b.type,f=d.get("snap");if(!f&&!e)return!1;if("auto"===a||null==a){var g=this.animationThreshold;if(e&&b.getBandWidth()>g)return!0;if(f){var i=xE(c).seriesDataCount,h=b.getExtent();return Math.abs(h[0]-h[1])/i>g}return!1}return!0===a},a.prototype.makeElOption=function(a,b,c,d,e){},a.prototype.createPointerEl=function(a,b,e,f){var c=b.pointer;if(c){var d=GB(a).pointerEl=new a3[c.type](GC(b.pointer));a.add(d)}},a.prototype.createLabelEl=function(a,b,e,d){if(b.label){var c=GB(a).labelEl=new bh(GC(b.label));a.add(c),GG(c,d)}},a.prototype.updatePointerEl=function(c,a,d){var b=GB(c).pointerEl;b&&a.pointer&&(b.setStyle(a.pointer.style),d(b,{shape:a.pointer.shape}))},a.prototype.updateLabelEl=function(c,b,d,e){var a=GB(c).labelEl;a&&(a.setStyle(b.label.style),d(a,{x:b.label.x,y:b.label.y}),GG(a,e))},a.prototype._renderHandle=function(h){if(!this._dragging&&this.updateHandleTransform){var e,d=this._axisPointerModel,f=this._api.getZr(),a=this._handle,c=d.getModel("handle"),g=d.get("status");if(!c.get("show")||!g||"hide"===g){a&&f.remove(a),this._handle=null;return}this._handle||(e=!0,a=this._handle=qZ(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){gK(a.event)},onmousedown:GD(this._onHandleDragMove,this,0,0),drift:GD(this._onHandleDragMove,this),ondragend:GD(this._onHandleDragEnd,this)}),f.add(a)),GI(a,d,!1),a.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var b=c.get("size");cv(b)||(b=[b,b]),a.scaleX=b[0]/2,a.scaleY=b[1]/2,re(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(h,e)}},a.prototype._moveHandleToValue=function(a,b){GE(this._axisPointerModel,!b&&this._moveAnimation,this._handle,GH(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(c,d){var a=this._handle;if(a){this._dragging=!0;var b=this.updateHandleTransform(GH(a),[c,d],this._axisModel,this._axisPointerModel);this._payloadInfo=b,a.stopAnimation(),a.attr(GH(b)),GB(a).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(d){this._lastValue=null,this._lastStatus=null;var a=d.getZr(),b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._group=null,this._handle=null,this._payloadInfo=null),rf(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(b,c,a){return{x:b[a=a||0],y:b[1-a],width:c[a],height:c[1-a]}},a}();function GE(c,d,a,b){GF(GB(a).lastProp,b)||(GB(a).lastProp=b,d?mk(a,b,c):(a.stopAnimation(),a.attr(b)))}function GF(b,a){if(!(aq(b)&&aq(a)))return b===a;var c=!0;return j(a,function(a,d){c=c&&GF(b[d],a)}),!!c}function GG(a,b){a[b.get(["label","show"])?"show":"hide"]()}function GH(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function GI(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}var aX=ee;function GJ(c){var a,b=c.get("type"),d=c.getModel(b+"Style");return"line"===b?(a=d.getLineStyle()).fill=null:"shadow"===b&&((a=d.getAreaStyle()).stroke=null),a}function GK(o,f,b,p,g){var j=GM(b.get("value"),f.axis,f.ecModel,b.get("seriesDataIndices"),{precision:b.get(["label","precision"]),formatter:b.get(["label","formatter"])}),c=b.getModel("label"),d=nh(c.get("padding")||0),k=c.getFont(),l=iX(j,k),a=g.position,h=l.width+d[1]+d[3],i=l.height+d[0]+d[2],m=g.align;"right"===m&&(a[0]-=h),"center"===m&&(a[0]-=h/2);var n=g.verticalAlign;"bottom"===n&&(a[1]-=i),"middle"===n&&(a[1]-=i/2),GL(a,h,i,p);var e=c.get("backgroundColor");e&&"auto"!==e||(e=f.get(["axisLine","lineStyle","color"])),o.label={x:a[0],y:a[1],style:mw(c,{text:j,font:k,fill:c.getTextColor(),padding:d,backgroundColor:e}),z2:10}}function GL(a,b,c,d){var e=d.getWidth(),f=d.getHeight();a[0]=Math.min(a[0]+b,e)-b,a[1]=Math.min(a[1]+c,f)-c,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function GM(c,a,h,f,e){c=a.scale.parse(c);var d=a.scale.getLabel({value:c},{precision:e.precision}),b=e.formatter;if(b){var g={value:wW(a,{value:c}),axisDimension:a.dim,axisIndex:a.index,seriesData:[]};j(f,function(a){var b=h.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,c=b&&b.getDataParams(d);c&&g.seriesData.push(c)}),fT(b)?d=b.replace("{value}",d):cw(b)&&(d=b(g))}return d}function GN(c,d,a){var b=cJ();return iC(b,b,a.rotation),iB(b,b,a.position),qT([c.dataToCoord(d),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],b)}function GO(e,f,a,b,c,g){var d=xA.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=c.get(["label","margin"]),GK(f,b,c,g,{position:GN(b.axis,e,a),align:d.textAlign,verticalAlign:d.textVerticalAlign})}function GP(b,c,a){return{x1:b[a=a||0],y1:b[1-a],x2:c[a],y2:c[1-a]}}function GQ(b,c,a){return{x:b[a=a||0],y:b[1-a],width:c[a],height:c[1-a]}}function GR(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}var ef=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.makeElOption=function(b,g,c,d,i){var a=c.axis,h=a.grid,e=d.get("type"),j=GS(h,a).getOtherAxis(a).getGlobalExtent(),k=a.toGlobalCoord(a.dataToCoord(g,!0));if(e&&"none"!==e){var l=GJ(d),f=GT[e](a,k,j);f.style=l,b.graphicKey=f.type,b.pointer=f}var m=xf(h.model,c);GO(g,b,m,c,d,i)},a.prototype.getHandleTransform=function(d,b,e){var a=xf(b.axis.grid.model,b,{labelInside:!1});a.labelMargin=e.get(["handle","margin"]);var c=GN(b.axis,d,a);return{x:c[0],y:c[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},a.prototype.updateHandleTransform=function(d,i,j,l){var c=j.axis,k=c.grid,e=c.getGlobalExtent(!0),f=GS(k,c).getOtherAxis(c).getGlobalExtent(),a="x"===c.dim?0:1,b=[d.x,d.y];b[a]+=i[a],b[a]=Math.min(e[1],b[a]),b[a]=Math.max(e[0],b[a]);var g=(f[1]+f[0])/2,h=[g,g];return h[a]=b[a],{x:b[0],y:b[1],rotation:d.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][a]}},a}(aX);function GS(c,a){var b={};return b[a.dim+"AxisIndex"]=a.index,c.getCartesian(b)}var GT={line:function(c,a,b){return{type:"Line",subPixelOptimize:!0,shape:GP([a,b[0]],[a,b[1]],GU(c))}},shadow:function(b,d,a){var c=Math.max(1,b.getBandWidth()),e=a[1]-a[0];return{type:"Rect",shape:GQ([d-c/2,a[0]],[c,e],GU(b))}}};function GU(a){return"x"===a.dim?0:1}var GV=ef,GW=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="axisPointer",a.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},a}(d),GX=a(),GY=j;function GZ(b,c,d){if(!u.node){var a=c.getZr();GX(a).records||(GX(a).records={}),G$(a,c),(GX(a).records[b]||(GX(a).records[b]={})).handler=d}}function G$(a,b){!GX(a).initialized&&(GX(a).initialized=!0,c("click",m(G1,"click")),c("mousemove",m(G1,"mousemove")),c("globalout",G0));function c(c,d){a.on(c,function(e){var c=G2(b);GY(GX(a).records,function(a){a&&d(a,e,c.dispatchAction)}),G_(c.pendings,b)})}}function G_(b,e){var a,c=b.showTip.length,d=b.hideTip.length;c?a=b.showTip[c-1]:d&&(a=b.hideTip[d-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function G0(a,c,b){a.handler("leave",null,b)}function G1(a,b,c,d){b.handler(a,c,d)}function G2(c){var a={showTip:[],hideTip:[]},b=function(d){var e=a[d.type];e?e.push(d):(d.dispatchAction=b,c.dispatchAction(d))};return{dispatchAction:b,pendings:a}}function G3(a,c){if(!u.node){var b=c.getZr();(GX(b).records||{})[a]&&(GX(b).records[a]=null)}}var G4=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(b,c,d){var a=c.getComponent("tooltip"),e=b.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";GZ("axisPointer",d,function(b,a,c){"none"!==e&&("leave"===b||e.indexOf(b)>=0)&&c({type:"updateAxisPointer",currTrigger:b,x:a&&a.offsetX,y:a&&a.offsetY})})},a.prototype.remove=function(b,a){G3("axisPointer",a)},a.prototype.dispose=function(b,a){G3("axisPointer",a)},a.type="axisPointer",a}(g);function G5(h,n){var d,e=[],j=h.seriesIndex;if(null==j||!(d=n.getSeriesByIndex(j)))return{point:[]};var b=d.getData(),a=jN(b,h);if(null==a||a<0||cv(a))return{point:[]};var g=b.getItemGraphicEl(a),c=d.coordinateSystem;if(d.getTooltipPosition)e=d.getTooltipPosition(a)||[];else if(c&&c.dataToPoint){if(h.isStacked){var k=c.getBaseAxis(),l=c.getOtherAxis(k).dim,o=k.dim,m="x"===l||"radius"===l?1:0,p=b.mapDimension(o),i=[];i[m]=b.get(p,a),i[1-m]=b.get(b.getCalculationInfo("stackResultDimension"),a),e=c.dataToPoint(i)||[]}else e=c.dataToPoint(b.getValues(Y(c.dimensions,function(a){return b.mapDimension(a)}),a))||[]}else if(g){var f=g.getBoundingRect().clone();f.applyTransform(g.transform),e=[f.x+f.width/2,f.y+f.height/2]}return{point:e,el:g}}var G6=a();function G7(a,g,c){var n=a.currTrigger,b=[a.x,a.y],d=a,h=a.dispatchAction||cu(c.dispatchAction,c),e=g.getComponent("axisPointer").coordSysAxesInfo;if(e){Hh(b)&&(b=G5({seriesIndex:d.seriesIndex,dataIndex:d.dataIndex},g).point);var p=Hh(b),q=d.axesInfo,f=e.axesInfo,r="leave"===n||Hh(b),i={},k={},l={list:[],map:{}},s={showPointer:m(Ha,k),showTooltip:m(Hb,l)};j(e.coordSysMap,function(a,c){var d=p||a.containPoint(b);j(e.coordSysAxesInfo[c],function(c,g){var f=c.axis,e=Hf(q,c);if(!r&&d&&(!q||e)){var a=e&&e.value;null!=a||p||(a=f.pointToData(b)),null!=a&&G8(c,a,s,!1,i)}})});var o={};return j(f,function(b,c){var a=b.linkGroup;a&&!k[c]&&j(a.axesInfo,function(d,f){var e=k[f];if(d!==b&&e){var c=e.value;a.mapper&&(c=b.axis.scale.parse(a.mapper(c,Hg(d),Hg(b)))),o[b.key]=c}})}),j(o,function(a,b){G8(f[b],a,s,!0,i)}),Hc(k,f,i),Hd(l,b,a,h),He(f,h,c),i}}function G8(a,b,d,i,h){var e=a.axis;if(!e.scale.isBlank()&&e.containData(b)){if(!a.involveSeries){d.showPointer(a,b);return}var f=G9(b,a),g=f.payloadBatch,c=f.snapToValue;g[0]&&null==h.seriesIndex&&fP(h,g[0]),!i&&a.snap&&e.containData(c)&&null!=c&&(b=c),d.showPointer(a,b,g),d.showTooltip(a,f,c)}}function G9(b,a){var c=a.axis,f=c.dim,d=b,e=[],g=Number.MAX_VALUE,h=-1;return j(a.seriesModels,function(i,p){var a,k,l=i.getData().mapDimensionsAll(f);if(i.getAxisTooltipData){var o=i.getAxisTooltipData(l,b,c);k=o.dataIndices,a=o.nestestValue}else{if(!(k=i.getData().indicesOfNearest(l[0],b,"category"===c.type?.5:null)).length)return;a=i.getData().get(l[0],k[0])}if(null!=a&&isFinite(a)){var m=b-a,n=Math.abs(m);n<=g&&((n<g||m>=0&&h<0)&&(g=n,h=m,d=a,e.length=0),j(k,function(a){e.push({seriesIndex:i.seriesIndex,dataIndexInside:a,dataIndex:i.getData().getRawIndex(a)})}))}}),{payloadBatch:e,snapToValue:d}}function Ha(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function Hb(d,b,j,k){var f=j.payloadBatch,g=b.axis,e=g.model,h=b.axisPointerModel;if(b.triggerTooltip&&f.length){var a=b.coordSys.model,i=xG(a),c=d.map[i];c||(c=d.map[i]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},d.list.push(c)),c.dataByAxis.push({axisDim:g.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:k,valueLabelOpt:{precision:h.get(["label","precision"]),formatter:h.get(["label","formatter"])},seriesDataIndices:f.slice()})}}function Hc(c,a,b){var d=b.axesInfo=[];j(a,function(b,f){var a=b.axisPointerModel.option,e=c[f];e?(b.useHandle||(a.status="show"),a.value=e.value,a.seriesDataIndices=(e.payloadBatch||[]).slice()):b.useHandle||(a.status="hide"),"show"===a.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:a.value})})}function Hd(a,b,d,e){if(Hh(b)||!a.list.length){e({type:"hideTip"});return}var c=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};e({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:d.tooltipOption,position:d.position,dataIndexInside:c.dataIndexInside,dataIndex:c.dataIndex,seriesIndex:c.seriesIndex,dataByCoordSys:a.list})}function He(f,i,a){var b=a.getZr(),c="axisPointerLastHighlights",g=G6(b)[c]||{},h=G6(b)[c]={};j(f,function(b,c){var a=b.axisPointerModel.option;"show"===a.status&&j(a.seriesDataIndices,function(a){h[a.seriesIndex+" | "+a.dataIndex]=a})});var d=[],e=[];j(g,function(a,b){h[b]||e.push(a)}),j(h,function(a,b){g[b]||d.push(a)}),e.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:e}),d.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:d})}function Hf(c,d){for(var a=0;a<(c||[]).length;a++){var b=c[a];if(d.axis.dim===b.axisDim&&d.axis.model.componentIndex===b.axisIndex)return b}}function Hg(d){var b=d.axis.model,a={},c=a.axisDim=d.axis.dim;return a.axisIndex=a[c+"AxisIndex"]=b.componentIndex,a.axisName=a[c+"AxisName"]=b.name,a.axisId=a[c+"AxisId"]=b.id,a}function Hh(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function eg(a){aj.registerAxisPointerClass("CartesianAxisPointer",GV),a.registerComponentModel(GW),a.registerComponentView(G4),a.registerPreprocessor(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!cv(b)&&(a.axisPointer.link=[b])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(d,h){var b,e,a,i,c,f,k,g,l,n;d.getComponent("axisPointer").coordSysAxesInfo=(b=d,e=h,i=a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}},c=b,f=e,k=c.getComponent("tooltip"),g=c.getComponent("axisPointer"),l=g.get("link",!0)||[],n=[],j(f.getCoordinateSystems(),function(a){if(a.axisPointerEnabled){var e=xG(a.model),o=i.coordSysAxesInfo[e]={};i.coordSysMap[e]=a;var b=a.model.getModel("tooltip",k);if(j(a.getAxes(),m(p,!1,null)),a.getTooltipAxes&&k&&b.get("show")){var f="axis"===b.get("trigger"),d="cross"===b.get(["axisPointer","type"]),h=a.getTooltipAxes(b.get(["axisPointer","axis"]));(f||d)&&j(h.baseAxes,m(p,!d||"cross",f)),d&&j(h.otherAxes,m(p,"cross",!1))}}function p(k,f,e){var d=e.model.getModel("axisPointer",g),q=d.get("show");if(q&&("auto"!==q||k||xF(d))){null==f&&(f=d.get("triggerTooltip"));var r=(d=k?xB(e,b,g,c,k,f):d).get("snap"),h=xG(e.model),s=f||r||"category"===e.type,m=i.axesInfo[h]={key:h,axis:e,coordSys:a,axisPointerModel:d,triggerTooltip:f,involveSeries:s,snap:r,useHandle:xF(d),seriesModels:[],linkGroup:null};o[h]=m,i.seriesInvolved=i.seriesInvolved||s;var j=xC(l,e);if(null!=j){var p=n[j]||(n[j]={axesInfo:{}});p.axesInfo[h]=m,p.mapper=l[j].mapper,m.linkGroup=p}}}}),a.seriesInvolved&&function b(c,a){a.eachSeries(function(a){var d=a.coordinateSystem,b=a.get(["tooltip","trigger"],!0),e=a.get(["tooltip","show"],!0);d&&"none"!==b&& !1!==b&&"item"!==b&& !1!==e&& !1!==a.get(["axisPointer","show"],!0)&&j(c.coordSysAxesInfo[xG(d.model)],function(b){var c=b.axis;d.getAxis(c.dim)===c&&(b.seriesModels.push(a),null==b.seriesDataCount&&(b.seriesDataCount=0),b.seriesDataCount+=a.getData().count())})})}(a,b),a)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},G7)}var eh=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.makeElOption=function(c,h,d,a,i){var b=d.axis;"angle"===b.dim&&(this.animationThreshold=Math.PI/18);var e=b.polar,j=e.getOtherAxis(b).getExtent(),k=b.dataToCoord(h),f=a.get("type");if(f&&"none"!==f){var l=GJ(a),g=Hj[f](b,e,k,j);g.style=l,c.graphicKey=g.type,c.pointer=g}var m=a.get(["label","margin"]),n=Hi(h,d,a,e,m);GK(c,d,a,i,n)},a}(aX);function Hi(o,h,r,a,i){var b,e,f,j=h.axis,k=j.dataToCoord(o),d=a.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var p=a.getRadiusAxis().getExtent();if("radius"===j.dim){var c=cJ();iC(c,c,d),iB(c,c,[a.cx,a.cy]),b=qT([k,-i],c);var q=h.getModel("axisLabel").get("rotate")||0,l=xA.innerTextLayout(d,q*Math.PI/180,-1);e=l.textAlign,f=l.textVerticalAlign}else{var g=p[1];b=a.coordToPoint([g+i,k]);var m=a.cx,n=a.cy;e=Math.abs(b[0]-m)/g<.3?"center":b[0]>m?"left":"right",f=Math.abs(b[1]-n)/g<.3?"middle":b[1]>n?"top":"bottom"}return{position:b,align:e,verticalAlign:f}}var Hj={line:function(d,a,b,c){return"angle"===d.dim?{type:"Line",shape:GP(a.coordToPoint([c[0],b]),a.coordToPoint([c[1],b]))}:{type:"Circle",shape:{cx:a.cx,cy:a.cy,r:b}}},shadow:function(d,a,b,e){var c=Math.max(1,d.getBandWidth()),f=Math.PI/180;return"angle"===d.dim?{type:"Sector",shape:GR(a.cx,a.cy,e[0],e[1],(-b-c/2)*f,(-b+c/2)*f)}:{type:"Sector",shape:GR(a.cx,a.cy,b-c/2,b+c/2,0,2*Math.PI)}}},Hk=eh,Hl=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.findAxisModel=function(a){var b;return this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this),b},a.type="polar",a.dependencies=["radiusAxis","angleAxis"],a.defaultOption={z:0,center:["50%","50%"],radius:"80%"},a}(d),aY=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",jR).models[0]},a.type="polarAxis",a}(d);h(aY,ai);var Hm=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="angleAxis",a}(aY),Hn=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="radiusAxis",a}(aY),aZ=function(b){function a(a,c){return b.call(this,"radius",a,c)||this}return cp(a,b),a.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},a}(o);aZ.prototype.dataToRadius=o.prototype.dataToCoord,aZ.prototype.radiusToData=o.prototype.coordToData;var Ho=aZ,Hp=a(),a$=function(b){function a(a,c){return b.call(this,"angle",a,c||[0,360])||this}return cp(a,b),a.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},a.prototype.calculateCategoryInterval=function(){var a=this,k=a.getLabelModel(),h=a.scale,f=h.getExtent(),i=h.count();if(f[1]-f[0]<1)return 0;var c=f[0],l=Math.abs(a.dataToCoord(c+1)-a.dataToCoord(c)),g=Math.max(iX(null==c?"":c+"",k.getFont(),"center","top").height,7)/l;isNaN(g)&&(g=1/0);var b=Math.max(0,Math.floor(g)),d=Hp(a.model),e=d.lastAutoInterval,j=d.lastTickCount;return null!=e&&null!=j&&1>=Math.abs(e-b)&&1>=Math.abs(j-i)&&e>b?b=e:(d.lastTickCount=i,d.lastAutoInterval=b),b},a}(o);a$.prototype.dataToAngle=o.prototype.dataToCoord,a$.prototype.angleToData=o.prototype.coordToData;var Hq=a$,ei=["radius","angle"],ej=function(){function a(a){this.dimensions=ei,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Ho,this._angleAxis=new Hq,this.axisPointerEnabled=!0,this.name=a||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(b){var a=this.pointToCoord(b);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},a.prototype.containData=function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},a.prototype.getAxis=function(a){return this["_"+a+"Axis"]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(b){var a=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===b&&a.push(c),d.scale.type===b&&a.push(d),a},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(b){var a=this._angleAxis;return b===a?this._radiusAxis:a},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},a.prototype.dataToPoint=function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},a.prototype.pointToData=function(c,a){var b=this.pointToCoord(c);return[this._radiusAxis.radiusToData(b[0],a),this._angleAxis.angleToData(b[1],a)]},a.prototype.pointToCoord=function(h){var b=h[0]-this.cx,c=h[1]-this.cy,i=this.getAngleAxis(),d=i.getExtent(),e=Math.min(d[0],d[1]),f=Math.max(d[0],d[1]);i.inverse?e=f-360:f=e+360;var g=Math.sqrt(b*b+c*c);b/=g,c/=g;for(var a=Math.atan2(-c,b)/Math.PI*180,j=a<e?1:-1;a<e||a>f;)a+=360*j;return[g,a]},a.prototype.coordToPoint=function(a){var b=a[0],c=a[1]/180*Math.PI,d=Math.cos(c)*b+this.cx,e=-Math.sin(c)*b+this.cy;return[d,e]},a.prototype.getArea=function(){var b=this.getAngleAxis(),a=this.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var c=b.getExtent(),d=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:a[0],r:a[1],startAngle:-c[0]*d,endAngle:-c[1]*d,clockwise:b.inverse,contain:function(f,g){var a=f-this.cx,b=g-this.cy,c=a*a+b*b-1e-4,d=this.r,e=this.r0;return c<=d*d&&c>=e*e}}},a.prototype.convertToPixel=function(c,a,b){return Hr(a)===this?this.dataToPoint(b):null},a.prototype.convertFromPixel=function(c,a,b){return Hr(a)===this?this.pointToData(b):null},a}();function Hr(a){var b=a.seriesModel,c=a.polarModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}var Hs=ej;function Ht(f,g){var d=this,a=d.getAngleAxis(),c=d.getRadiusAxis();if(a.scale.setExtent(1/0,-1/0),c.scale.setExtent(1/0,-1/0),f.eachSeries(function(b){if(b.coordinateSystem===d){var e=b.getData();j(w$(e,"radius"),function(a){c.scale.unionExtentFromData(e,a)}),j(w$(e,"angle"),function(b){a.scale.unionExtentFromData(e,b)})}}),wT(a.scale,a.model),wT(c.scale,c.model),"category"===a.type&&!a.onBand){var b=a.getExtent(),e=360/a.scale.count();a.inverse?b[1]+=e:b[1]-=e,a.setExtent(b[0],b[1])}}function Hu(a,b){var d;if(a.type=b.get("type"),a.scale=wU(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===(d=b).mainType){a.inverse=a.inverse!==b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}var Hv={dimensions:ei,create:function(a,c){var b=[];return a.eachComponent("polar",function(e,o){var d=new Hs(o+"");d.update=Ht;var g,i,j,k,l,m,h,n,a,f,p=d.getRadiusAxis(),q=d.getAngleAxis(),r=e.findAxisModel("radiusAxis"),s=e.findAxisModel("angleAxis");Hu(p,r),Hu(q,s),g=d,i=e,j=c,k=i.get("center"),l=j.getWidth(),m=j.getHeight(),g.cx=je(k[0],l),g.cy=je(k[1],m),h=g.getRadiusAxis(),n=Math.min(l,m)/2,a=i.get("radius"),null==a?a=[0,"100%"]:cv(a)||(a=[0,a]),f=[je(a[0],n),je(a[1],n)],h.inverse?h.setExtent(f[1],f[0]):h.setExtent(f[0],f[1]),b.push(d),e.coordinateSystem=d,d.model=e}),a.eachSeries(function(a){if("polar"===a.get("coordinateSystem")){var b=a.getReferringComponents("polar",jR).models[0];a.coordinateSystem=b.coordinateSystem}}),b}},Hw=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Hx(b,a,c){a[1]>a[0]&&(a=a.slice().reverse());var d=b.coordToPoint([a[0],c]),e=b.coordToPoint([a[1],c]);return{x1:d[0],y1:d[1],x2:e[0],y2:e[1]}}function Hy(a){return a.getRadiusAxis().inverse?0:1}function Hz(a){var b=a[0],c=a[a.length-1];b&&c&&1e-4>Math.abs(Math.abs(b.coord-c.coord)-360)&&a.pop()}var ek=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.axisPointerClass="PolarAxisPointer",c}return cp(a,b),a.prototype.render=function(b,f){if(this.group.removeAll(),b.get("show")){var a=b.axis,c=a.polar,g=c.getRadiusAxis().getExtent(),d=a.getTicksCoords(),h=a.getMinorTicksCoords(),e=Y(a.getViewLabels(),function(b){b=ct(b);var c=a.scale,d="ordinal"===c.type?c.getRawOrdinalNumber(b.tickValue):b.tickValue;return b.coord=a.dataToCoord(d),b});Hz(e),Hz(d),j(Hw,function(f){b.get([f,"show"])&&(!a.scale.isBlank()||"axisLine"===f)&&HA[f](this.group,b,c,d,h,g,e)},this)}},a.type="angleAxis",a}(aj),HA={axisLine:function(g,h,a,i,j,b){var d,e=h.getModel(["axisLine","lineStyle"]),c=Hy(a),f=c?0:1;(d=0===b[f]?new aM({shape:{cx:a.cx,cy:a.cy,r:b[c]},style:e.getLineStyle(),z2:1,silent:!0}):new c7({shape:{cx:a.cx,cy:a.cy,r:b[c],r0:b[f]},style:e.getLineStyle(),z2:1,silent:!0})).style.fill=null,g.add(d)},axisTick:function(c,b,d,e,h,f){var a=b.getModel("axisTick"),i=(a.get("inside")?-1:1)*a.get("length"),j=f[Hy(d)],g=Y(e,function(a){return new aO({shape:Hx(d,[j,j+i],a.coord)})});c.add(qN(g,{style:x(a.getModel("lineStyle").getLineStyle(),{stroke:b.get(["axisLine","lineStyle","color"])})}))},minorTick:function(j,c,e,m,a,k){if(a.length){for(var f=c.getModel("axisTick"),g=c.getModel("minorTick"),l=(f.get("inside")?-1:1)*g.get("length"),h=k[Hy(e)],i=[],b=0;b<a.length;b++)for(var d=0;d<a[b].length;d++)i.push(new aO({shape:Hx(e,[h,h+l],a[b][d].coord)}));j.add(qN(i,{style:x(g.getModel("lineStyle").getLineStyle(),x(f.getLineStyle(),{stroke:c.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(d,a,e,f,g,h,b){var i=a.getCategories(!0),c=a.getModel("axisLabel"),k=c.get("margin"),l=a.get("triggerEvent");j(b,function(f,u){var g=c,o=f.tickValue,j=h[Hy(e)],b=e.coordToPoint([j+k,f.coord]),p=e.cx,q=e.cy,s=Math.abs(b[0]-p)/j<.3?"center":b[0]>p?"left":"right",t=Math.abs(b[1]-q)/j<.3?"middle":b[1]>q?"top":"bottom";if(i&&i[o]){var m=i[o];aq(m)&&m.textStyle&&(g=new _(m.textStyle,c,c.ecModel))}var r=new bh({silent:xA.isLabelSilent(a),style:mw(g,{x:b[0],y:b[1],fill:g.getTextColor()||a.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:s,verticalAlign:t})});if(d.add(r),l){var n=xA.makeAxisEventDataBase(a);n.targetType="axisLabel",n.value=f.rawLabel,lz(r).eventData=n}},this)},splitLine:function(h,e,i,f,l,j){var g=e.getModel("splitLine").getModel("lineStyle"),b=g.get("color"),k=0;b=b instanceof Array?b:[b];for(var c=[],a=0;a<f.length;a++){var d=(k++)%b.length;c[d]=c[d]||[],c[d].push(new aO({shape:Hx(i,j,f[a].coord)}))}for(var a=0;a<c.length;a++)h.add(qN(c[a],{style:x({stroke:b[a%b.length]},g.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(f,d,g,j,a,h){if(a.length){for(var i=d.getModel("minorSplitLine").getModel("lineStyle"),e=[],b=0;b<a.length;b++)for(var c=0;c<a[b].length;c++)e.push(new aO({shape:Hx(g,h,a[b][c].coord)}));f.add(qN(e,{style:i.getLineStyle(),silent:!0,z:d.get("z")}))}},splitArea:function(n,h,i,c,s,e){if(c.length){var j=h.getModel("splitArea").getModel("areaStyle"),b=j.get("color"),o=0;b=b instanceof Array?b:[b];for(var d=[],f=Math.PI/180,k=-c[0].coord*f,p=Math.min(e[0],e[1]),q=Math.max(e[0],e[1]),r=h.get("clockwise"),a=1,l=c.length;a<=l;a++){var m=a===l?c[0].coord:c[a].coord,g=(o++)%b.length;d[g]=d[g]||[],d[g].push(new aN({shape:{cx:i.cx,cy:i.cy,r0:p,r:q,startAngle:k,endAngle:-m*f,clockwise:r},silent:!0})),k=-m*f}for(var a=0;a<d.length;a++)n.add(qN(d[a],{style:x({fill:b[a%b.length]},j.getAreaStyle()),silent:!0}))}}},HB=ek,HC=["axisLine","axisTickLabel","axisName"],HD=["splitLine","splitArea","minorSplitLine"],el=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.axisPointerClass="PolarAxisPointer",c}return cp(a,b),a.prototype.render=function(a,k){if(this.group.removeAll(),a.get("show")){var f=this._axisGroup,c=this._axisGroup=new t;this.group.add(c);var b=a.axis,e=b.polar,g=e.getAngleAxis(),l=b.getTicksCoords(),m=b.getMinorTicksCoords(),h=g.getExtent()[0],n=b.getExtent(),i=HF(e,a,h),d=new xA(a,i);j(HC,d.add,d),c.add(d.getGroup()),qW(f,c,a),j(HD,function(c){a.get([c,"show"])&&!b.scale.isBlank()&&HE[c](this.group,a,e,h,n,l,m)},this)}},a.type="radiusAxis",a}(aj),HE={splitLine:function(h,i,e,k,l,f){var g=i.getModel("splitLine").getModel("lineStyle"),b=g.get("color"),j=0;b=b instanceof Array?b:[b];for(var c=[],a=0;a<f.length;a++){var d=(j++)%b.length;c[d]=c[d]||[],c[d].push(new aM({shape:{cx:e.cx,cy:e.cy,r:Math.max(f[a].coord,0)}}))}for(var a=0;a<c.length;a++)h.add(qN(c[a],{style:x({stroke:b[a%b.length],fill:null},g.getLineStyle()),silent:!0}))},minorSplitLine:function(f,g,d,i,j,k,a){if(a.length){for(var h=g.getModel("minorSplitLine").getModel("lineStyle"),e=[],b=0;b<a.length;b++)for(var c=0;c<a[b].length;c++)e.push(new aM({shape:{cx:d.cx,cy:d.cy,r:a[b][c].coord}}));f.add(qN(e,{style:x({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(i,j,f,l,m,c){if(c.length){var g=j.getModel("splitArea").getModel("areaStyle"),b=g.get("color"),k=0;b=b instanceof Array?b:[b];for(var d=[],h=c[0].coord,a=1;a<c.length;a++){var e=(k++)%b.length;d[e]=d[e]||[],d[e].push(new aN({shape:{cx:f.cx,cy:f.cy,r0:h,r:c[a].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=c[a].coord}for(var a=0;a<d.length;a++)i.add(qN(d[a],{style:x({fill:b[a%b.length]},g.getAreaStyle()),silent:!0}))}}};function HF(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel("axisLabel").get("rotate"),z2:1}}var HG=el;function HH(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function HI(a,b){return b.dim+a.model.componentIndex}var HJ=function(a,b,f){var c,d,e,g={},h=(c=fS(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}),d={},j(c,function(a,p){var o=a.getData(),i=a.coordinateSystem,g=i.getBaseAxis(),j=HI(i,g),k=g.getExtent(),h="category"===g.type?g.getBandWidth():Math.abs(k[1]-k[0])/o.count(),b=d[j]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=b.stacks;d[j]=b;var e=HH(a);!c[e]&&b.autoWidthCount++,c[e]=c[e]||{width:0,maxWidth:0};var f=je(a.get("barWidth"),h),l=je(a.get("barMaxWidth"),h),m=a.get("barGap"),n=a.get("barCategoryGap");f&&!c[e].width&&(f=Math.min(b.remainedWidth,f),c[e].width=f,b.remainedWidth-=f),l&&(c[e].maxWidth=l),null!=m&&(b.gap=m),null!=n&&(b.categoryGap=n)}),e={},j(d,function(a,l){e[l]={};var g,d=a.stacks,m=a.bandWidth,h=je(a.categoryGap,m),f=je(a.gap,1),i=a.remainedWidth,b=a.autoWidthCount,c=(i-h)/(b+(b-1)*f);c=Math.max(c,0),j(d,function(d,e){var a=d.maxWidth;a&&a<c&&(a=Math.min(a,i),d.width&&(a=Math.min(a,d.width)),i-=a,d.width=a,b--)}),c=Math.max(c=(i-h)/(b+(b-1)*f),0);var k=0;j(d,function(a,b){a.width||(a.width=c),g=a,k+=a.width*(1+f)}),g&&(k-=g.width*f);var n=-k/2;j(d,function(a,b){e[l][b]=e[l][b]||{offset:n,width:a.width},n+=a.width*(1+f)})}),e);b.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var c=a.getData(),q=a.coordinateSystem,e=q.getBaseAxis(),B=HI(q,e),b=HH(a),v=h[B][b],w=v.offset,x=v.width,f=q.getOtherAxis(e),C=a.coordinateSystem.cx,D=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,z=a.get("barMinAngle")||0;g[b]=g[b]||[];for(var A=c.mapDimension(f.dim),E=c.mapDimension(e.dim),r=uD(c,A),F="radius"!==e.dim||!a.get("roundCap",!0),i=f.dataToCoord(0),j=0,G=c.count();j<G;j++){var s=c.get(A,j),d=c.get(E,j),t=s>=0?"p":"n",k=i;r&&(g[b][d]||(g[b][d]={p:i,n:i}),k=g[b][d][t]);var u=void 0,n=void 0,l=void 0,m=void 0;if("radius"===f.dim){var o=f.dataToCoord(s)-i,H=e.dataToCoord(d);Math.abs(o)<y&&(o=(o<0?-1:1)*y),u=k,n=k+o,l=H-w,m=l-x,r&&(g[b][d][t]=n)}else{var p=f.dataToCoord(s,F)-i,I=e.dataToCoord(d);Math.abs(p)<z&&(p=(p<0?-1:1)*z),n=(u=I+w)+x,l=k,m=k+p,r&&(g[b][d][t]=m)}c.setItemLayout(j,{cx:C,cy:D,r0:u,r:n,startAngle:-l*Math.PI/180,endAngle:-m*Math.PI/180,clockwise:l>=m})}}})},HK={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},HL={splitNumber:5},HM=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="polar",a}(g);function HN(d,e){e=e||{};var k=d.coordinateSystem,i=d.axis,a={},f=i.position,h=i.orient,b=k.getRect(),c=[b.x,b.x+b.width,b.y,b.y+b.height],j={horizontal:{top:c[2],bottom:c[3]},vertical:{left:c[0],right:c[1]}};a.position=["vertical"===h?j.vertical[f]:c[0],"horizontal"===h?j.horizontal[f]:c[3]],a.rotation=Math.PI/2*({horizontal:0,vertical:1})[h],a.labelDirection=a.tickDirection=a.nameDirection=({top:-1,bottom:1,right:1,left:-1})[f],d.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),cx(e.labelInside,d.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.rotate;return null==g&&(g=d.get(["axisLabel","rotate"])),a.labelRotation="top"===f?-g:g,a.z2=1,a}var HO=["axisLine","axisTickLabel","axisName"],HP=["splitArea","splitLine"],em=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.axisPointerClass="SingleAxisPointer",c}return cp(a,b),a.prototype.render=function(a,e,f,g){var c=this.group;c.removeAll();var h=this._axisGroup;this._axisGroup=new t;var i=HN(a),d=new xA(a,i);j(HO,d.add,d),c.add(this._axisGroup),c.add(d.getGroup()),j(HP,function(b){a.get([b,"show"])&&HQ[b](this,this.group,this._axisGroup,a)},this),qW(h,this._axisGroup,a),b.prototype.render.call(this,a,e,f,g)},a.prototype.remove=function(){xK(this)},a.type="singleAxis",a}(aj),HQ={splitLine:function(r,n,s,i){var g=i.axis;if(!g.scale.isBlank()){var k=i.getModel("splitLine"),l=k.getModel("lineStyle"),b=l.get("color");b=b instanceof Array?b:[b];for(var c=i.coordinateSystem.getRect(),o=g.isHorizontal(),f=[],p=0,m=g.getTicksCoords({tickModel:k}),d=[],e=[],a=0;a<m.length;++a){var h=g.toGlobalCoord(m[a].coord);o?(d[0]=h,d[1]=c.y,e[0]=h,e[1]=c.y+c.height):(d[0]=c.x,d[1]=h,e[0]=c.x+c.width,e[1]=h);var j=(p++)%b.length;f[j]=f[j]||[],f[j].push(new aO({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:e[0],y2:e[1]},silent:!0}))}for(var q=l.getLineStyle(["color"]),a=0;a<f.length;++a)n.add(qN(f[a],{style:x({stroke:b[a%b.length]},q),silent:!0}))}},splitArea:function(b,d,c,a){xJ(b,c,a,a)}},HR=em,ch=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.getCoordSysModel=function(){return this},a.type="singleAxis",a.layoutMode="box",a.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},a}(d);h(ch,ai.prototype);var HS=ch,HT=function(b){function a(c,d,e,f,g){var a=b.call(this,c,d,e)||this;return a.type=f||"value",a.position=g||"bottom",a}return cp(a,b),a.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},a.prototype.pointToData=function(a,b){return this.coordinateSystem.pointToData(a)[0]},a}(o),en=["single"],eo=function(){function a(a,b,c){this.type="single",this.dimension="single",this.dimensions=en,this.axisPointerEnabled=!0,this.model=a,this._init(a,b,c)}return a.prototype._init=function(a,e,f){var c=this.dimension,b=new HT(c,wU(a),[0,0],a.get("type"),a.get("position")),d="category"===b.type;b.onBand=d&&a.get("boundaryGap"),b.inverse=a.get("inverse"),b.orient=a.get("orient"),a.axis=b,b.model=a,b.coordinateSystem=this,this._axis=b},a.prototype.update=function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData();j(b.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(b,a)},this),wT(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(a,b){this._rect=nw({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]),this._updateAxisTransform(b,c?a.x:a.y)},a.prototype._updateAxisTransform=function(a,d){var b=a.getExtent(),e=b[0]+b[1],c=a.isHorizontal();a.toGlobalCoord=c?function(a){return a+d}:function(a){return e-a+d},a.toLocalCoord=c?function(a){return a-d}:function(a){return e-a+d}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},a.prototype.pointToData=function(b){var a=this.getAxis();return[a.coordToData(a.toLocalCoord(b["horizontal"===a.orient?0:1]))]},a.prototype.dataToPoint=function(a){var c=this.getAxis(),b=this.getRect(),d=[],e="horizontal"===c.orient?0:1;return a instanceof Array&&(a=a[0]),d[e]=c.toGlobalCoord(c.dataToCoord(+a)),d[1-e]=0===e?b.y+b.height/2:b.x+b.width/2,d},a.prototype.convertToPixel=function(c,a,b){return HU(a)===this?this.dataToPoint(b):null},a.prototype.convertFromPixel=function(c,a,b){return HU(a)===this?this.pointToData(b):null},a}();function HU(a){var b=a.seriesModel,c=a.singleAxisModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}var HV=eo,HW={create:function(a,c){var b=[];return a.eachComponent("singleAxis",function(e,f){var d=new HV(e,a,c);d.name="single_"+f,d.resize(e,c),e.coordinateSystem=d,b.push(d)}),a.eachSeries(function(a){if("singleAxis"===a.get("coordinateSystem")){var b=a.getReferringComponents("singleAxis",jR).models[0];a.coordinateSystem=b&&b.coordinateSystem}}),b},dimensions:en},HX=["x","y"],HY=["width","height"],ep=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.makeElOption=function(a,g,b,c,i){var d=b.axis,h=d.coordinateSystem,j=H_(h,1-H$(d)),k=h.dataToPoint(g)[0],e=c.get("type");if(e&&"none"!==e){var l=GJ(c),f=HZ[e](d,k,j);f.style=l,a.graphicKey=f.type,a.pointer=f}var m=HN(b);GO(g,a,m,b,c,i)},a.prototype.getHandleTransform=function(d,b,e){var a=HN(b,{labelInside:!1});a.labelMargin=e.get(["handle","margin"]);var c=GN(b.axis,d,a);return{x:c[0],y:c[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},a.prototype.updateHandleTransform=function(c,j,k,l){var d=k.axis,e=d.coordinateSystem,a=H$(d),f=H_(e,a),b=[c.x,c.y];b[a]+=j[a],b[a]=Math.min(f[1],b[a]),b[a]=Math.max(f[0],b[a]);var g=H_(e,1-a),h=(g[1]+g[0])/2,i=[h,h];return i[a]=b[a],{x:b[0],y:b[1],rotation:c.rotation,cursorPoint:i,tooltipOption:{verticalAlign:"middle"}}},a}(aX),HZ={line:function(c,a,b){return{type:"Line",subPixelOptimize:!0,shape:GP([a,b[0]],[a,b[1]],H$(c))}},shadow:function(b,d,a){var c=b.getBandWidth(),e=a[1]-a[0];return{type:"Rect",shape:GQ([d-c/2,a[0]],[c,e],H$(b))}}};function H$(a){return a.isHorizontal()?0:1}function H_(c,a){var b=c.getRect();return[b[HX[a]],b[HX[a]]+b[HY[a]]]}var H0=ep,H1=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="single",a}(g),eq=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(a,d,e){var c=nA(a);b.prototype.init.apply(this,arguments),H2(a,c)},a.prototype.mergeOption=function(a){b.prototype.mergeOption.apply(this,arguments),H2(this.option,a)},a.prototype.getCellSize=function(){return this.option.cellSize},a.type="calendar",a.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},a}(d);function H2(b,d){var c,a=b.cellSize;1===(c=cv(a)?a:b.cellSize=[a,a]).length&&(c[1]=c[0]);var e=Y([0,1],function(a){var b,e;return b=d,(null!=b[nt[e=a][0]]||null!=b[nt[e][1]]&&null!=b[nt[e][2]])&&(c[a]="auto"),null!=c[a]&&"auto"!==c[a]});nz(b,d,{type:"box",ignoreSize:e})}var H3=eq,H4=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,g,h){var b=this.group;b.removeAll();var e=a.coordinateSystem,c=e.getRangeInfo(),d=e.getOrient(),f=g.getLocaleModel();this._renderDayRect(a,c,b),this._renderLines(a,c,d,b),this._renderYearText(a,c,d,b),this._renderMonthText(a,f,d,b),this._renderWeekText(a,f,c,d,b)},a.prototype._renderDayRect=function(c,d,f){for(var a=c.coordinateSystem,g=c.getModel("itemStyle").getItemStyle(),h=a.getCellWidth(),i=a.getCellHeight(),b=d.start.time;b<=d.end.time;b=a.getNextNDay(b,1).time){var e=a.dataToRect([b],!1).tl,j=new z({shape:{x:e[0],y:e[1],width:h,height:i},cursor:"default",style:g});f.add(j)}},a.prototype._renderLines=function(d,a,h,i){var c=this,e=d.coordinateSystem,f=d.getModel(["splitLine","lineStyle"]).getLineStyle(),j=d.get(["splitLine","show"]),k=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var b=a.start,l=0;b.time<=a.end.time;l++){m(b.formatedDate),0===l&&(b=e.getDateInfo(a.start.y+"-"+a.start.m));var g=b.date;g.setMonth(g.getMonth()+1),b=e.getDateInfo(g)}function m(b){c._firstDayOfMonth.push(e.getDateInfo(b)),c._firstDayPoints.push(e.dataToRect([b],!1).tl);var a=c._getLinePointsOfOneWeek(d,b,h);c._tlpoints.push(a[0]),c._blpoints.push(a[a.length-1]),j&&c._drawSplitline(a,f,i)}m(e.getNextNDay(a.end.time,1).formatedDate),j&&this._drawSplitline(c._getEdgesPoints(c._tlpoints,k,h),f,i),j&&this._drawSplitline(c._getEdgesPoints(c._blpoints,k,h),f,i)},a.prototype._getEdgesPoints=function(c,d,e){var a=[c[0].slice(),c[c.length-1].slice()],b="horizontal"===e?0:1;return a[0][b]=a[0][b]-d/2,a[1][b]=a[1][b]+d/2,a},a.prototype._drawSplitline=function(a,b,c){var d=new c8({z2:20,shape:{points:a},style:b});c.add(d)},a.prototype._getLinePointsOfOneWeek=function(f,g,h){for(var a=f.coordinateSystem,i=a.getDateInfo(g),b=[],c=0;c<7;c++){var d=a.getNextNDay(i.time,c),e=a.dataToRect([d.time],!1);b[2*d.day]=e.tl,b[2*d.day+1]=e["horizontal"===h?"bl":"tr"]}return b},a.prototype._formatterLabel=function(a,b){if(fT(a)&&a){var c,d;return c=a,j(d=b,function(a,b){c=c.replace("{"+b+"}",a)}),c}return cw(a)?a(b):b.nameMap},a.prototype._yearTextPositionControl=function(h,f,i,a,b){var d=f[0],e=f[1],c=["center","bottom"];"bottom"===a?(e+=b,c=["center","top"]):"left"===a?d-=b:"right"===a?(d+=b,c=["center","top"]):e-=b;var g=0;return("left"===a||"right"===a)&&(g=Math.PI/2),{rotation:g,x:d,y:e,style:{align:c[0],verticalAlign:c[1]}}},a.prototype._renderYearText=function(k,b,f,l){var c=k.getModel("yearLabel");if(c.get("show")){var m=c.get("margin"),d=c.get("position");d||(d="horizontal"!==f?"top":"left");var a=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],i=(a[0][0]+a[1][0])/2,j=(a[0][1]+a[1][1])/2,e="horizontal"===f?0:1,n={top:[i,a[e][1]],bottom:[i,a[1-e][1]],left:[a[1-e][0],j],right:[a[e][0],j]},g=b.start.y;+b.end.y> +b.start.y&&(g=g+"-"+b.end.y);var o=c.get("formatter"),p={start:b.start.y,end:b.end.y,nameMap:g},q=this._formatterLabel(o,p),h=new bh({z2:30,style:mw(c,{text:q})});h.attr(this._yearTextPositionControl(h,n[d],f,d,m)),l.add(h)}},a.prototype._monthTextPositionControl=function(c,d,i,e,f){var a="left",b="top",g=c[0],h=c[1];return"horizontal"===i?(h+=f,d&&(a="center"),"start"===e&&(b="bottom")):(g+=f,d&&(b="middle"),"start"===e&&(a="right")),{x:g,y:h,align:a,verticalAlign:b}},a.prototype._renderMonthText=function(n,f,j,o){var a=n.getModel("monthLabel");if(a.get("show")){var b=a.get("nameMap"),e=a.get("margin"),g=a.get("position"),p=a.get("align"),h=[this._tlpoints,this._blpoints];(!b||fT(b))&&(b&&(f=mT(b)||f),b=f.get(["time","monthAbbr"])||[]);var k="start"===g?0:1,i="horizontal"===j?0:1;e="start"===g?-e:e;for(var l="center"===p,c=0;c<h[k].length-1;c++){var m=h[k][c].slice(),d=this._firstDayOfMonth[c];if(l){var q=this._firstDayPoints[c];m[i]=(q[i]+h[0][c+1][i])/2}var r=a.get("formatter"),s=b[+d.m-1],t={yyyy:d.y,yy:(d.y+"").slice(2),MM:d.m,M:+d.m,nameMap:s},u=this._formatterLabel(r,t),v=new bh({z2:30,style:fP(mw(a,{text:u}),this._monthTextPositionControl(m,l,j,g,e))});o.add(v)}}},a.prototype._weekTextPositionControl=function(d,i,j,e,f){var g="center",h="middle",b=d[0],c=d[1],a="start"===j;return"horizontal"===i?(b=b+e+(a?1:-1)*f[0]/2,g=a?"right":"left"):(c=c+e+(a?1:-1)*f[1]/2,h=a?"bottom":"top"),{x:b,y:c,align:g,verticalAlign:h}},a.prototype._renderWeekText=function(i,f,g,m,n){var c=i.getModel("dayLabel");if(c.get("show")){var a=i.coordinateSystem,j=c.get("position"),b=c.get("nameMap"),d=c.get("margin"),o=a.getFirstDayOfWeek();(!b||fT(b))&&(b&&(f=mT(b)||f),b=f.get(["time","dayOfWeekShort"])||Y(f.get(["time","dayOfWeekAbbr"]),function(a){return a[0]}));var k=a.getNextNDay(g.end.time,7-g.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];d=je(d,Math.min(h[1],h[0])),"start"===j&&(k=a.getNextNDay(g.start.time,-(7+g.fweek)).time,d=-d);for(var e=0;e<7;e++){var p=a.getNextNDay(k,e),q=a.dataToRect([p.time],!1).center,l=e;l=Math.abs((e+o)%7);var r=new bh({z2:30,style:fP(mw(c,{text:b[l]}),this._weekTextPositionControl(q,m,j,d,h))});n.add(r)}}},a.type="calendar",a}(g),er=function(){function a(b,c,d){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=b}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(a){var d=(a=jm(a)).getFullYear(),b=a.getMonth()+1,e=b<10?"0"+b:""+b,c=a.getDate(),f=c<10?"0"+c:""+c,g=a.getDay();return{y:d+"",m:e,d:f,day:g=Math.abs((g+7-this.getFirstDayOfWeek())%7),time:a.getTime(),formatedDate:d+"-"+e+"-"+f,date:a}},a.prototype.getNextNDay=function(a,b){return 0===(b=b||0)||(a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a)},a.prototype.update=function(f,a){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var b=this._rangeInfo.weeks||1,g=["width","height"],c=this._model.getCellSize().slice(),d=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[b,7]:[7,b];j([0,1],function(a){k(c,a)&&(d[g[a]]=c[a]*h[a])});var e={width:a.getWidth(),height:a.getHeight()},i=this._rect=nw(d,e);function k(a,b){return null!=a[b]&&"auto"!==a[b]}j([0,1],function(a){k(c,a)||(c[a]=i[g[a]]/h[a])}),this._sw=c[0],this._sh=c[1]},a.prototype.dataToPoint=function(a,c){cv(a)&&(a=a[0]),null==c&&(c=!0);var b=this.getDateInfo(a),d=this._rangeInfo,g=b.formatedDate;if(c&&!(b.time>=d.start.time&&b.time<d.end.time+864e5))return[NaN,NaN];var e=b.day,f=this._getRangeInfo([d.start.time,g]).nthWeek;return"vertical"===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]},a.prototype.pointToData=function(b){var a=this.pointToDate(b);return a&&a.time},a.prototype.dataToRect=function(b,c){var a=this.dataToPoint(b,c);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},a.prototype.pointToDate=function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1,c=Math.floor((a[1]-this._rect.y)/this._sh)+1,d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(c,b-1,d):this._getDateByWeeksAndDay(b,c-1,d)},a.prototype.convertToPixel=function(d,b,c){var a=H5(b);return a===this?a.dataToPoint(c):null},a.prototype.convertFromPixel=function(d,b,c){var a=H5(b);return a===this?a.pointToData(c):null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var a,b=this._model.get("range");if(cv(b)&&1===b.length&&(b=b[0]),cv(b))a=b;else{var c=b.toString();if(/^\d{4}$/.test(c)&&(a=[c+"-01-01",c+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(c)){var e=this.getDateInfo(c),d=e.date;d.setMonth(d.getMonth()+1);var g=this.getNextNDay(d,-1);a=[e.formatedDate,g.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(c)&&(a=[c,c])}if(!a)return b;var f=this._getRangeInfo(a);return f.start.time>f.end.time&&a.reverse(),a},a.prototype._getRangeInfo=function(h){var d,a=[this.getDateInfo(h[0]),this.getDateInfo(h[1])];a[0].time>a[1].time&&(d=!0,a.reverse());var c=Math.floor(a[1].time/864e5)-Math.floor(a[0].time/864e5)+1,b=new Date(a[0].time),j=b.getDate(),i=a[1].date.getDate();b.setDate(j+c-1);var e=b.getDate();if(e!==i)for(var f=b.getTime()-a[1].time>0?1:-1;(e=b.getDate())!==i&&(b.getTime()-a[1].time)*f>0;)c-=f,b.setDate(e-f);var g=Math.floor((c+a[0].day+6)/7),k=d?-g+1:g-1;return d&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:g,nthWeek:k,fweek:a[0].day,lweek:a[1].day}},a.prototype._getDateByWeeksAndDay=function(b,c,e){var a=this._getRangeInfo(e);if(b>a.weeks||0===b&&c<a.fweek||b===a.weeks&&c>a.lweek)return null;var f=(b-1)*7-a.fweek+c,d=new Date(a.start.time);return d.setDate(+a.start.d+f),this.getDateInfo(d)},a.create=function(b,d){var c=[];return b.eachComponent("calendar",function(e){var f=new a(e,b,d);c.push(f),e.coordinateSystem=f}),b.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("calendarIndex")||0])}),c},a.dimensions=["time","value"],a}();function H5(a){var b=a.calendarModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem:null}var H6=er;function H7(c,a){var b;return j(a,function(a){null!=c[a]&&"auto"!==c[a]&&(b=!0)}),b}var es=["transition","enterFrom","leaveTo"],H8=es.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function H9(a,c,b){if(b&&(!a[b]&&c[b]&&(a[b]={}),a=a[b],c=c[b]),a&&c)for(var f=b?es:H8,e=0;e<f.length;e++){var d=f[e];null==a[d]&&null!=c[d]&&(a[d]=c[d])}}var Ia=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.preventAutoZ=!0,c}return cp(a,b),a.prototype.mergeOption=function(a,c){var d=this.option.elements;this.option.elements=null,b.prototype.mergeOption.call(this,a,c),this.option.elements=d},a.prototype.optionUpdated=function(e,b){var a=this.option,f=(b?a:e).elements,c=a.elements=b?[]:a.elements,d=[];this._flatten(f,d,null);var g=jB(c,d,"normalMerge"),h=this._elOptionsToUpdate=[];j(g,function(j,k){var d,e,b,f,a,i,g=j.newOption;g&&(h.push(g),function(c,a){var b=c.existing;if(a.id=c.keyInfo.id,!a.type&&b&&(a.type=b.type),null==a.parentId){var d=a.parentOption;d?a.parentId=d.id:b&&(a.parentId=b.parentId)}a.parentOption=null}(j,g),d=c,e=k,f=fP({},b=g),a=d[e],"merge"===(i=b.$action||"merge")?a?(an(a,f,!0),nz(a,f,{ignoreSize:!0}),nB(b,a),H9(b,a),H9(b,a,"shape"),H9(b,a,"style"),H9(b,a,"extra"),b.clipPath=a.clipPath):d[e]=f:"replace"===i?d[e]=f:"remove"===i&&a&&(d[e]=null),function(a,b){if(a&&(a.hv=b.hv=[H7(b,["left","right"]),H7(b,["top","bottom"])],"group"===a.type)){var c=a,d=b;null==c.width&&(c.width=d.width=0),null==c.height&&(c.height=d.height=0)}}(c[k],g))},this),a.elements=fS(c,function(a){return a&&delete a.$action,null!=a})},a.prototype._flatten=function(a,b,c){j(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;d&&d.length&&this._flatten(d,b,a),delete a.children}},this)},a.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},a.type="graphic",a.defaultOption={elements:[]},a}(d),Ib={path:null,compoundPath:null,group:t,image:cU,text:bh},Ic=a(),Id=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(){this._elMap=s()},a.prototype.render=function(a,c,b){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,b)},a.prototype._updateElements=function(a){var b=a.useElOptionsToUpdate();if(b){var c=this._elMap,d=this.group,e=a.get("z"),f=a.get("zlevel");j(b,function(b){var l=jK(b.id,null),m=null!=l?c.get(l):null,y=jK(b.parentId,null),z=null!=y?c.get(y):d,r=b.type,h=b.style;"text"===r&&h&&b.hv&&b.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var i=b.textContent,o=b.textConfig;if(h&&FG(h,r,!!o,!!i)){var p=FH(h,r,!0);!o&&p.textConfig&&(o=b.textConfig=p.textConfig),!i&&p.textContent&&(i=p.textContent)}var A=Ii(b),s=b.$action||"merge",t="merge"===s,u="replace"===s;if(t){var k=!m,j=m;k?j=If(l,z,b.type,c):(j&&(Ic(j).isNew=!1),F5(j)),j&&(FP(j,A,a,{isInit:k}),Ih(j,b,e,f))}else if(u){Ig(m,b,c,a);var v=If(l,z,b.type,c);v&&(FP(v,A,a,{isInit:!0}),Ih(v,b,e,f))}else"remove"===s&&(FQ(m,b),Ig(m,b,c,a));var g=c.get(l);if(g&&i){if(t){var B=g.getTextContent();B?B.attr(i):g.setTextContent(new bh(i))}else u&&g.setTextContent(new bh(i))}if(g){var q=b.clipPath;if(q){var w=q.type,n=void 0,k=!1;if(t){var x=g.getClipPath();n=(k=!x||Ic(x).type!==w)?Ie(w):x}else u&&(k=!0,n=Ie(w));g.setClipPath(n),FP(n,q,a,{isInit:k}),F6(n,q.keyframeAnimation,a)}var C=Ic(g);g.setTextConfig(o),C.option=b,Ij(g,a,b),q1({el:g,componentModel:a,itemName:g.name,itemTooltipOption:b.tooltip}),F6(g,b.keyframeAnimation,a)}})}},a.prototype._relocate=function(m,n){for(var g=m.option.elements,o=this.group,p=this._elMap,q=n.getWidth(),r=n.getHeight(),s=["x","y"],b=0;b<g.length;b++){var c=g[b],d=jK(c.id,null),a=null!=d?p.get(d):null;if(a&&a.isGroup){var e=a.parent,t=e===o,h=Ic(a),f=Ic(e);h.width=je(h.option.width,t?q:f.width)||0,h.height=je(h.option.height,t?r:f.height)||0}}for(var b=g.length-1;b>=0;b--){var c=g[b],d=jK(c.id,null),a=null!=d?p.get(d):null;if(a){var e=a.parent,f=Ic(e),w=e===o?{width:q,height:r}:{width:f.width,height:f.height},j={},x=nx(a,c,w,null,{hv:c.hv,boundingMode:c.bounding},j);if(!Ic(a).isNew&&x){for(var k=c.transition,u={},l=0;l<s.length;l++){var i=s[l],v=j[i];k&&(FS(k)||fQ(k,i)>=0)?u[i]=v:a[i]=v}mk(a,u,m,0)}else a.attr(j)}}},a.prototype._clear=function(){var b=this,a=this._elMap;a.each(function(c){Ig(c,Ic(c).option,a,b._lastGraphicModel)}),this._elMap=s()},a.prototype.dispose=function(){this._clear()},a.type="graphic",a}(g);function Ie(a){var c,b=new(ga(Ib,a)?Ib[a]:qJ(a))({});return Ic(b).type=a,b}function If(b,c,d,e){var a=Ie(d);return c.add(a),e.set(b,a),Ic(a).id=b,Ic(a).isNew=!0,a}function Ig(a,b,c,d){a&&a.parent&&("group"===a.type&&a.traverse(function(a){Ig(a,b,c,d)}),FR(a,b,d),c.removeKey(Ic(a).id))}function Ih(b,a,c,d){b.isGroup||j([["cursor",P.prototype.cursor],["zlevel",d||0],["z",c||0],["z2",0]],function(d){var c=d[0];ga(a,c)?b[c]=f$(a[c],d[1]):null==b[c]&&(b[c]=d[1])}),j(ap(a),function(c){if(0===c.indexOf("on")){var d=a[c];b[c]=cw(d)?d:null}}),ga(a,"draggable")&&(b.draggable=a.draggable),null!=a.name&&(b.name=a.name),null!=a.id&&(b.id=a.id)}function Ii(a){return a=fP({},a),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(ns),function(b){delete a[b]}),a}function Ij(a,c,d){var b=lz(a).eventData;a.silent||a.ignore||b||(b=lz(a).eventData={componentType:"graphic",componentIndex:c.componentIndex,name:a.name}),b&&(b.info=d.info)}var Ik=["x","y","radius","angle","single"],Il=["cartesian2d","polar","singleAxis"];function Im(a){var c=a.ecModel,b={infoList:[],infoMap:s()};return a.eachTargetAxis(function(g,h){var i,d=c.getComponent((i=g)+"Axis",h);if(d){var e=d.getCoordSysModel();if(e){var f=e.uid,a=b.infoMap.get(f);a||(a={model:e,axisModels:[]},b.infoList.push(a),b.infoMap.set(f,a)),a.axisModels.push(d)}}}),b}var In=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(a){this.indexMap[a]||(this.indexList.push(a),this.indexMap[a]=!0)},a}(),et=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._autoThrottle=!0,c._noTarget=!0,c._rangePropMode=["percent","percent"],c}return cp(a,b),a.prototype.init=function(a,d,c){var b=Io(a);this.settledOption=b,this.mergeDefaultAndTheme(a,c),this._doInit(b)},a.prototype.mergeOption=function(a){var b=Io(a);an(this.option,a,!0),an(this.settledOption,b,!0),this._doInit(b)},a.prototype._doInit=function(a){var b=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var c=this.settledOption;j([["start","startValue"],["end","endValue"]],function(a,d){"value"===this._rangePropMode[d]&&(b[a[0]]=c[a[0]]=null)},this),this._resetTarget()},a.prototype._resetTarget=function(){var b=this.get("orient",!0),a=this._targetAxisInfoMap=s();this._fillSpecifiedTargetAxis(a)?this._orient=b||this._makeAutoOrientByTargetAxis():(this._orient=b||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},a.prototype._fillSpecifiedTargetAxis=function(b){var a=!1;return j(Ik,function(c){var e,d=this.getReferringComponents((e=c)+"Axis",jS);if(d.specified){a=!0;var f=new In;j(d.models,function(a){f.add(a.componentIndex)}),b.set(c,f)}},this),a},a.prototype._fillAutoTargetAxisByOrient=function(f,e){var c=this.ecModel,a=!0;if(a){var d="vertical"===e?"y":"x",b=c.findComponents({mainType:d+"Axis"});g(b,d)}if(a){var b=c.findComponents({mainType:"singleAxis",filter:function(a){return a.get("orient",!0)===e}});g(b,"single")}function g(d,b){var c=d[0];if(c){var e=new In;if(e.add(c.componentIndex),f.set(b,e),a=!1,"x"===b||"y"===b){var g=c.getReferringComponents("grid",jR).models[0];g&&j(d,function(a){c.componentIndex!==a.componentIndex&&g===a.getReferringComponents("grid",jR).models[0]&&e.add(a.componentIndex)})}}}a&&j(Ik,function(b){if(a){var g,d=c.findComponents({mainType:(g=b)+"Axis",filter:function(a){return"category"===a.get("type",!0)}});if(d[0]){var e=new In;e.add(d[0].componentIndex),f.set(b,e),a=!1}}},this)},a.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(b){a||(a=b)},this),"y"===a?"vertical":"horizontal"},a.prototype._setDefaultThrottle=function(b){if(b.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},a.prototype._updateRangeUse=function(a){var b=this._rangePropMode,c=this.get("rangeMode");j([["start","startValue"],["end","endValue"]],function(f,d){var e=null!=a[f[0]],g=null!=a[f[1]];e&&!g?b[d]="percent":!e&&g?b[d]="value":c?b[d]=c[d]:e&&(b[d]="percent")})},a.prototype.noTarget=function(){return this._noTarget},a.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(b,c){if(null==a){var d;a=this.ecModel.getComponent((d=b)+"Axis",c)}},this),a},a.prototype.eachTargetAxis=function(a,b){this._targetAxisInfoMap.each(function(c,d){j(c.indexList,function(c){a.call(b,d,c)})})},a.prototype.getAxisProxy=function(b,c){var a=this.getAxisModel(b,c);if(a)return a.__dzAxisProxy},a.prototype.getAxisModel=function(a,b){var d,c=this._targetAxisInfoMap.get(a);if(c&&c.indexMap[b])return this.ecModel.getComponent((d=a)+"Axis",b)},a.prototype.setRawRange=function(a){var b=this.option,c=this.settledOption;j([["start","startValue"],["end","endValue"]],function(d){(null!=a[d[0]]||null!=a[d[1]])&&(b[d[0]]=c[d[0]]=a[d[0]],b[d[1]]=c[d[1]]=a[d[1]])},this),this._updateRangeUse(a)},a.prototype.setCalculatedRange=function(a){var b=this.option;j(["start","startValue","end","endValue"],function(c){b[c]=a[c]})},a.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},a.prototype.getValueRange=function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()},a.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var a,f=this._targetAxisInfoMap.keys(),b=0;b<f.length;b++)for(var g=f[b],h=this._targetAxisInfoMap.get(g),c=0;c<h.indexList.length;c++){var d=this.getAxisProxy(g,h.indexList[c]);if(d.hostedBy(this))return d;a||(a=d)}return a},a.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},a.prototype.getOrient=function(){return this._orient},a.type="dataZoom",a.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],a.defaultOption={z:4,filterMode:"filter",start:0,end:100},a}(d);function Io(b){var a={};return j(["start","end","startValue","endValue","throttle"],function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}var a_=et,Ip=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="dataZoom.select",a}(a_),a0=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},a.type="dataZoom",a}(g),Iq=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="dataZoom.select",a}(a0),Ir=j,Is=bc,eu=function(){function a(a,b,c,d){this._dimName=a,this._axisIndex=b,this.ecModel=d,this._dataZoomModel=c}return a.prototype.hostedBy=function(a){return this._dataZoomModel===a},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var a=[];return this.ecModel.eachSeries(function(b){var d;if(fQ(Il,(d=b).get("coordinateSystem"))>=0){var e,f=(e=this._dimName)+"Axis",c=b.getReferringComponents(f,jR).models[0];c&&this._axisIndex===c.componentIndex&&a.push(b)}},this),a},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return ct(this._minMaxSpan)},a.prototype.calculateDataWindow=function(g){var f,c=this._dataExtent,h=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),d=[0,100],a=[],b=[];Ir(["start","end"],function(l,e){var j=g[l],k=g[l+"Value"];"percent"===i[e]?(null==j&&(j=d[e]),k=h.parse(bb(j,d,c))):(f=!0,j=bb(k=null==k?c[e]:h.parse(k),c,d)),b[e]=k,a[e]=j}),Is(b),Is(a);var j=this._minMaxSpan;function e(c,b,d,g,e){var f=e?"Span":"ValueSpan";Ct(0,c,d,"all",j["min"+f],j["max"+f]);for(var a=0;a<2;a++)b[a]=bb(c[a],d,g,!0),e&&(b[a]=h.parse(b[a]))}return f?e(b,a,c,d,!1):e(a,b,d,c,!0),{valueWindow:b,percentWindow:a}},a.prototype.reset=function(a){if(a===this._dataZoomModel){var c=this.getTargetSeriesModels();this._dataExtent=It(this,this._dimName,c),this._updateMinMaxSpan();var b=this.calculateDataWindow(a.settledOption);this._valueWindow=b.valueWindow,this._percentWindow=b.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(a,d){if(a===this._dataZoomModel){var e=this._dimName,b=this.getTargetSeriesModels(),c=a.get("filterMode"),f=this._valueWindow;"none"!==c&&Ir(b,function(d){var a=d.getData(),b=a.mapDimensionsAll(e);if(b.length){if("weakFilter"===c){var h=a.getStore(),i=Y(b,function(b){return a.getDimensionIndex(b)},a);a.filterSelf(function(m){for(var d,e,g,a=0;a<b.length;a++){var c=h.get(i[a],m),j=!isNaN(c),k=c<f[0],l=c>f[1];if(j&&!k&&!l)return!0;j&&(g=!0),k&&(d=!0),l&&(e=!0)}return g&&d&&e})}else Ir(b,function(b){if("empty"===c)d.setData(a=a.map(b,function(a){return g(a)?a:NaN}));else{var e={};e[b]=f,a.selectRange(e)}});Ir(b,function(b){a.setApproximateExtent(f,b)})}})}function g(a){return a>=f[0]&&a<=f[1]}},a.prototype._updateMinMaxSpan=function(){var a=this._minMaxSpan={},b=this._dataZoomModel,c=this._dataExtent;Ir(["min","max"],function(e){var f=b.get(e+"Span"),d=b.get(e+"ValueSpan");null!=d&&(d=this.getAxisModel().axis.scale.parse(d)),null!=d?f=bb(c[0]+d,c,[0,100],!0):null!=f&&(d=bb(f,[0,100],c,!0)-c[0]),a[e+"Span"]=f,a[e+"ValueSpan"]=d},this)},a.prototype._setAxisModel=function(){var e=this.getAxisModel(),b=this._percentWindow,c=this._valueWindow;if(b){var a=jh(c,[0,500]);a=Math.min(a,20);var d=e.axis.scale.rawExtentInfo;0!==b[0]&&d.setDeterminedMinMax("min",+c[0].toFixed(a)),100!==b[1]&&d.setDeterminedMinMax("max",+c[1].toFixed(a)),d.freeze()}},a}();function It(c,f,d){var e=[1/0,-1/0];Ir(d,function(c){var d,a,b;d=e,a=c.getData(),b=f,a&&j(w$(a,b),function(c){var b=a.getApproximateExtent(c);b[0]<d[0]&&(d[0]=b[0]),b[1]>d[1]&&(d[1]=b[1])})});var a=c.getAxisModel(),b=wP(a.axis.scale,a,e).calculate();return[b.min,b.max]}var Iu=eu,Iv={getTargetSeries:function(d){function a(a){d.eachComponent("dataZoom",function(b){b.eachTargetAxis(function(c,e){var f,g=d.getComponent((f=c)+"Axis",e);a(c,e,g,b)})})}a(function(b,c,a,d){a.__dzAxisProxy=null});var b=[];a(function(c,e,a,f){a.__dzAxisProxy||(a.__dzAxisProxy=new Iu(c,e,f,d),b.push(a.__dzAxisProxy))});var c=s();return j(b,function(a){j(a.getTargetSeriesModels(),function(a){c.set(a.uid,a)})}),c},overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(b,c){a.getAxisProxy(b,c).reset(a)}),a.eachTargetAxis(function(c,d){a.getAxisProxy(c,d).filterData(a,b)})}),a.eachComponent("dataZoom",function(b){var a=b.findRepresentativeAxisProxy();if(a){var c=a.getDataPercentWindow(),d=a.getDataValueWindow();b.setCalculatedRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]})}})}},Iw=!1;function Ix(a){!Iw&&(Iw=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,Iv),function(a){a.registerAction("dataZoom",function(a,b){var c=function(a,c){var b,e=s(),d=[],f=s();a.eachComponent({mainType:"dataZoom",query:c},function(a){f.get(a.uid)||h(a)});do b=!1,a.eachComponent("dataZoom",g);while(b)function g(a){!f.get(a.uid)&&i(a)&&(h(a),b=!0)}function h(a){f.set(a.uid,!0),d.push(a),j(a)}function i(a){var b=!1;return a.eachTargetAxis(function(c,d){var a=e.get(c);a&&a[d]&&(b=!0)}),b}function j(a){a.eachTargetAxis(function(a,b){(e.get(a)||e.set(a,[]))[b]=!0})}return d}(b,a);j(c,function(b){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})}(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Iy(a){a.registerComponentModel(Ip),a.registerComponentView(Iq),Ix(a)}var N=function(){},Iz={};function IA(a,b){Iz[a]=b}function IB(a){return Iz[a]}var IC=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.optionUpdated=function(){b.prototype.optionUpdated.apply(this,arguments);var a=this.ecModel;j(this.option.feature,function(c,d){var b=IB(d);b&&(b.getDefaultOption&&(b.defaultOption=b.getDefaultOption(a)),an(c,b.defaultOption))})},a.type="toolbox",a.layoutMode={type:"box",ignoreSize:!0},a.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},a}(d);function ID(b,c){var a=nh(c.get("padding")),d=c.getItemStyle(["color","opacity"]);return d.fill=c.get("backgroundColor"),b=new z({shape:{x:b.x-a[3],y:b.y-a[0],width:b.width+a[1]+a[3],height:b.height+a[0]+a[2],r:c.get("borderRadius")},style:d,silent:!0,z2:-1})}var ev=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.render=function(a,p,l,q){var d,b,e,f,g,h,i,c=this.group;if(c.removeAll(),a.get("show")){var r=+a.get("itemSize"),n="vertical"===a.get("orient"),o=a.get("feature")||{},s=this._features||(this._features={}),k=[];j(o,function(b,a){k.push(a)}),new uf(this._featureNames||[],k).add(t).update(t).remove(m(t,null)).execute(),this._featureNames=k,d=c,b=a,e=l,f=b.getBoxLayoutParams(),g=b.get("padding"),h={width:e.getWidth(),height:e.getHeight()},i=nw(f,h,g),nu(b.get("orient"),d,b.get("itemGap"),i.width,i.height),nx(d,f,h,g),c.add(ID(c.getBoundingRect(),a)),n||c.eachChild(function(a){var g=a.__title,h=a.ensureState("emphasis"),e=h.textConfig||(h.textConfig={}),i=a.getTextContent(),b=i&&i.ensureState("emphasis");if(b&&!cw(b)&&g){var f=b.style||(b.style={}),d=iX(g,bh.makeFont(f)),j=a.x+c.x,n=a.y+c.y+r,k=!1;n+d.height>l.getHeight()&&(e.position="top",k=!0);var m=k?-5-d.height:r+10;j+d.width/2>l.getWidth()?(e.position=["100%",m],f.align="right"):j-d.width/2<0&&(e.position=[0,m],f.align="left")}})}function t(i,j){var b,c=k[i],e=k[j],g=o[c],d=new _(g,a,a.ecModel);if(q&&null!=q.newTitle&&q.featureName===c&&(g.title=q.newTitle),c&&!e){if(IE(c))b={onclick:d.option.onclick,featureName:c};else{var h=IB(c);if(!h)return;b=new h}s[c]=b}else if(!(b=s[e]))return;b.uid=mO("toolbox-feature"),b.model=d,b.ecModel=p,b.api=l;var f=b instanceof N;if(!c&&e){f&&b.dispose&&b.dispose(p,l);return}if(!d.get("show")||f&&b.unusable){f&&b.remove&&b.remove(p,l);return}u(d,b,c),d.setIconStatus=function(a,c){var b=this.option,d=this.iconPaths;b.iconStatus=b.iconStatus||{},b.iconStatus[a]=c,d[a]&&("emphasis"===c?lX:lY)(d[a])},b instanceof N&&b.render&&b.render(d,p,l,q)}function u(b,d,h){var e,i,k=b.getModel("iconStyle"),m=b.getModel(["emphasis","iconStyle"]),f=d instanceof N&&d.getIcons?d.getIcons():b.get("icon"),g=b.get("title")||{};fT(f)?(e={})[h]=f:e=f,fT(g)?(i={})[h]=g:i=g;var o=b.iconPaths={};j(e,function(g,f){var e=qZ(g,{},{x:-r/2,y:-r/2,width:r,height:r});e.setStyle(k.getItemStyle()),e.ensureState("emphasis").style=m.getItemStyle();var h=new bh({style:{text:i[f],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null},ignore:!0});e.setTextContent(h),q1({el:e,componentModel:a,itemName:f,formatterParamsExtra:{title:i[f]}}),e.__title=i[f],e.on("mouseover",function(){var b=m.getItemStyle(),c=n?null==a.get("right")&&"right"!==a.get("left")?"right":"left":null==a.get("bottom")&&"bottom"!==a.get("top")?"bottom":"top";h.setStyle({fill:m.get("textFill")||b.fill||b.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),e.setTextConfig({position:m.get("textPosition")||c}),h.ignore=!a.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==b.get(["iconStatus",f])&&l.leaveEmphasis(this),h.hide()}),("emphasis"===b.get(["iconStatus",f])?lX:lY)(e),c.add(e),e.on("click",cu(d.onclick,d,p,l,f)),o[f]=e})}},a.prototype.updateView=function(a,b,c,d){j(this._features,function(a){a instanceof N&&a.updateView&&a.updateView(a.model,b,c,d)})},a.prototype.remove=function(a,b){j(this._features,function(c){c instanceof N&&c.remove&&c.remove(a,b)}),this.group.removeAll()},a.prototype.dispose=function(a,b){j(this._features,function(c){c instanceof N&&c.dispose&&c.dispose(a,b)})},a.type="toolbox",a}(g);function IE(a){return 0===a.indexOf("my")}var IF=ev,IG=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.onclick=function(m,n){var a=this.model,f=a.get("name")||m.get("title.0.text")||"echarts",g="svg"===n.getZr().painter.getType(),h=g?"svg":a.get("type",!0)||"png",i=n.getConnectedDataURL({type:h,backgroundColor:a.get("backgroundColor",!0)||m.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),j=u.browser;if(cw(MouseEvent)&&(j.newEdge|| !j.ie&&!j.edge)){var c=document.createElement("a");c.download=f+"."+h,c.target="_blank",c.href=i;var t=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(t)}else if(window.navigator.msSaveOrOpenBlob||g){var k=i.split(","),v=k[0].indexOf("base64")> -1,b=g?decodeURIComponent(k[1]):k[1];v&&(b=window.atob(b));var o=f+"."+h;if(window.navigator.msSaveOrOpenBlob){for(var d=b.length,p=new Uint8Array(d);d--;)p[d]=b.charCodeAt(d);var w=new Blob([p]);window.navigator.msSaveOrOpenBlob(w,o)}else{var l=document.createElement("iframe");document.body.appendChild(l);var q=l.contentWindow,e=q.document;e.open("image/svg+xml","replace"),e.write(b),e.close(),q.focus(),e.execCommand("SaveAs",!0,o),document.body.removeChild(l)}}else{var r=a.get("lang"),x='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+(r&&r[0]||"")+'" /></body>',s=window.open();s.document.write(x),s.document.title=f}},a.getDefaultOption=function(a){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},a}(N),IH="__ec_magicType_stack__",II=[["line","bar"],["stack"]],ew=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.getIcons=function(){var a=this.model,c=a.get("icon"),b={};return j(a.get("type"),function(a){c[a]&&(b[a]=c[a])}),b},a.getDefaultOption=function(a){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},a.prototype.onclick=function(f,g,a){var c,b=this.model,d=b.get(["seriesIndex",a]);if(IJ[a]){var h={series:[]};j(II,function(c){fQ(c,a)>=0&&j(c,function(a){b.setIconStatus(a,"normal")})}),b.setIconStatus(a,"emphasis"),f.eachComponent({mainType:"series",query:null==d?null:{seriesIndex:d}},function(c){var k=c.subType,l=c.id,f=IJ[a](k,l,c,b);f&&(x(f,c.option),h.series.push(f));var g=c.coordinateSystem;if(g&&"cartesian2d"===g.type&&("line"===a||"bar"===a)){var i=g.getAxesByScale("ordinal")[0];if(i){var d=i.dim+"Axis",e=c.getReferringComponents(d,jR).models[0].componentIndex;h[d]=h[d]||[];for(var j=0;j<=e;j++)h[d][e]=h[d][e]||{};h[d][e].boundaryGap="bar"===a}}});var e=a;"stack"===a&&(c=an({stack:b.option.title.tiled,tiled:b.option.title.stack},b.option.title),"emphasis"!==b.get(["iconStatus",a])&&(e="tiled")),g.dispatchAction({type:"changeMagicType",currentType:e,newOption:h,newTitle:c,featureName:"magicType"})}},a}(N),IJ={line:function(b,c,a,d){if("bar"===b)return an({id:c,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},d.get(["option","line"])||{},!0)},bar:function(b,c,a,d){if("line"===b)return an({id:c,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},d.get(["option","bar"])||{},!0)},stack:function(a,d,e,b){var c=e.get("stack")===IH;if("line"===a||"bar"===a)return b.setIconStatus("stack",c?"normal":"emphasis"),an({id:d,stack:c?"":IH},b.get(["option","stack"])||{},!0)}};q({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});var IK=ew,IL=Array(60).join("-");function IM(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var IN=RegExp("[	]+","g"),ex=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.onclick=function(x,p){setTimeout(function(){p.dispatchAction({type:"hideTip"})});var m=p.getDom(),a=this.model;this._dom&&m.removeChild(this._dom);var b=document.createElement("div");b.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",b.style.backgroundColor=a.get("backgroundColor")||"#fff";var d=document.createElement("h4"),n=a.get("lang")||[];d.innerHTML=n[0]||a.get("title"),d.style.cssText="margin:10px 20px",d.style.color=a.get("textColor");var c=document.createElement("div"),e=document.createElement("textarea");c.style.cssText="overflow:auto";var y,z,q,r,s,f,t,u,A,v=a.get("optionToContent"),C=a.get("contentToOption"),w=(f=(q={},r=[],s=[],(z=y=x).eachRawSeries(function(c){var b=c.coordinateSystem;if(b&&("cartesian2d"===b.type||"polar"===b.type)){var a=b.getBaseAxis();if("category"===a.type){var d=a.dim+"_"+a.index;q[d]||(q[d]={categoryAxis:a,valueAxis:b.getOtherAxis(a),series:[]},s.push({axisDim:a.dim,axisIndex:a.index})),q[d].series.push(c)}else r.push(c)}else r.push(c)}),{seriesGroupByCategoryAxis:q,other:r,meta:s}),{value:fS([(t=f.seriesGroupByCategoryAxis,u=[],j(t,function(a,k){var g=a.categoryAxis,h=a.valueAxis,l=h.dim,i=[" "].concat(Y(a.series,function(a){return a.name})),b=[g.model.getCategories()];j(a.series,function(a){var c=a.getRawData();b.push(a.getRawData().mapArray(c.mapDimension(l),function(a){return a}))});for(var e=[i.join("	")],c=0;c<b[0].length;c++){for(var f=[],d=0;d<b.length;d++)f.push(b[d][c]);e.push(f.join("	"))}u.push(e.join("\n"))}),u.join("\n\n"+IL+"\n\n")),Y(A=f.other,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var e=arguments.length,g=arguments[e-1],f=b.getName(g),a=0;a<e-1;a++)d[a]=arguments[a];c.push((f?f+"	":"")+d.join("	"))}),c.join("\n")}).join("\n\n"+IL+"\n\n")],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join("\n\n"+IL+"\n\n"),meta:f.meta});if(cw(v)){var g=v(p.getOption());fT(g)?c.innerHTML=g:fY(g)&&c.appendChild(g)}else{e.readOnly=a.get("readOnly");var h=e.style;h.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",h.color=a.get("textColor"),h.borderColor=a.get("textareaBorderColor"),h.backgroundColor=a.get("textareaColor"),e.value=w.value,c.appendChild(e)}var D=w.meta,i=document.createElement("div");i.style.cssText="position:absolute;bottom:5px;left:0;right:0";var o="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",k=document.createElement("div"),l=document.createElement("div");o+=";background-color:"+a.get("buttonColor"),o+=";color:"+a.get("buttonTextColor");var E=this;function B(){m.removeChild(b),E._dom=null}gI(k,"click",B),gI(l,"click",function(){var a,b,g,d,f;if(null==C&&null!=v||null!=C&&null==v){B();return}try{a=cw(C)?C(c,p.getOption()):(b=e.value,g=D,d=b.split(RegExp("\n*"+IL+"\n*","g")),f={series:[]},j(d,function(b,e){if(function(a){if(a.slice(0,a.indexOf("\n")).indexOf("	")>=0)return!0}(b)){var a=function(g){for(var c=g.split(/\n+/g),h=IM(c.shift()).split(IN),f=[],d=Y(h,function(a){return{name:a,data:[]}}),b=0;b<c.length;b++){var e=IM(c[b]).split(IN);f.push(e.shift());for(var a=0;a<e.length;a++)d[a]&&(d[a].data[b]=e[a])}return{series:d,categories:f}}(b),c=g[e],d=c.axisDim+"Axis";c&&(f[d]=f[d]||[],f[d][c.axisIndex]={data:a.categories},f.series=f.series.concat(a.series))}else{var a=function(j){for(var e=j.split(/\n+/g),k=IM(e.shift()),b=[],a=0;a<e.length;a++){var g=IM(e[a]);if(g){var c=g.split(IN),h="",d=void 0,i=!1;isNaN(c[0])?(i=!0,h=c[0],c=c.slice(1),b[a]={name:h,value:[]},d=b[a].value):d=b[a]=[];for(var f=0;f<c.length;f++)d.push(+c[f]);1===d.length&&(i?b[a].value=d[0]:b[a]=d[0])}}return{name:k,data:b}}(b);f.series.push(a)}}),f)}catch(h){throw B(),Error("Data view format error "+h)}a&&p.dispatchAction({type:"changeDataView",newOption:a}),B()}),k.innerHTML=n[1],l.innerHTML=n[2],l.style.cssText=k.style.cssText=o,a.get("readOnly")||i.appendChild(l),i.appendChild(k),b.appendChild(d),b.appendChild(c),b.appendChild(i),c.style.height=m.clientHeight-80+"px",m.appendChild(b),this._dom=b},a.prototype.remove=function(b,a){this._dom&&a.getDom().removeChild(this._dom)},a.prototype.dispose=function(a,b){this.remove(a,b)},a.getDefaultOption=function(a){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},a}(N);q({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];j(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e,f,g=d.get("data");c.push({name:a.name,data:(e=a.data,f=g,Y(e,function(a,c){var b=f&&f[c];if(!aq(b)||cv(b))return a;aq(a)&&!cv(a)||(a={value:a});var d=null!=b.name&&null==a.name;return a=x(a,b),d&&delete a.name,a}))})}else c.push(fP({type:"scatter"},a))}),b.mergeOption(x({series:c},a.newOption))});var IO=ex,IP=j,IQ=a();function IR(b){var a=IQ(b);return a.snapshots||(a.snapshots=[{}]),a.snapshots}var ey=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.onclick=function(a,b){var c;IQ(c=a).snapshots=null,b.dispatchAction({type:"restore",from:this.uid})},a.getDefaultOption=function(a){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])}},a}(N);q({type:"restore",event:"restore",update:"prepareAndUpdate"},function(b,a){a.resetOption("recreate")});var IS=ey,IT=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ez=function(){function a(a,b,c){var d=this;this._targetInfoList=[];var e=IV(b,a);j(IW,function(a,b){(!c||!c.include||fQ(c.include,b)>=0)&&a(e,d._targetInfoList)})}return a.prototype.setOutputRanges=function(a,b){return this.matchOutputRanges(a,b,function(a,b,d){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var c=IZ[a.brushType](0,d,b);a.__rangeOffset={offset:I_[a.brushType](c.values,a.range,[1,1]),xyMinMax:c.xyMinMax}}}),a},a.prototype.matchOutputRanges=function(a,b,c){j(a,function(d){var a=this.findTargetInfo(d,b);a&& !0!==a&&j(a.coordSyses,function(a){var e=IZ[d.brushType](1,a,d.range,!0);c(d,e.values,a,b)})},this)},a.prototype.setInputRanges=function(a,b){j(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&& !0!==c){a.panelId=c.panelId;var d=IZ[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?I_[a.brushType](d.values,e.offset,I1(d.xyMinMax,e.xyMinMax)):d.values}},this)},a.prototype.makePanelOpts=function(a,b){return Y(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b?b(c):null,clipPath:Dl(d),isTargetByCursor:Dn(d,a,c.coordSysModel),getLinearBrushOtherExtent:Dm(d)}})},a.prototype.controlSeries=function(b,c,d){var a=this.findTargetInfo(b,d);return!0===a||a&&fQ(a.coordSyses,c.coordinateSystem)>=0},a.prototype.findTargetInfo=function(d,g){for(var e=this._targetInfoList,h=IV(g,d),b=0;b<e.length;b++){var a=e[b],f=d.panelId;if(f){if(a.panelId===f)return a}else for(var c=0;c<IX.length;c++)if(IX[c](h,a))return a}return!0},a}();function IU(a){return a[0]>a[1]&&a.reverse(),a}function IV(a,b){return jP(a,b,{includeMainTypes:IT})}var IW={grid:function(a,f){var b=a.xAxisModels,c=a.yAxisModels,d=a.gridModels,e=s(),g={},h={};(b||c||d)&&(j(b,function(b){var a=b.axis.grid.model;e.set(a.id,a),g[a.id]=!0}),j(c,function(b){var a=b.axis.grid.model;e.set(a.id,a),h[a.id]=!0}),j(d,function(a){e.set(a.id,a),g[a.id]=!0,h[a.id]=!0}),e.each(function(a){var e=a.coordinateSystem,d=[];j(e.getCartesians(),function(a,e){(fQ(b,a.getAxis("x").model)>=0||fQ(c,a.getAxis("y").model)>=0)&&d.push(a)}),f.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:d[0],coordSyses:d,getPanelRect:IY.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){j(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:IY.geo})})}},IX=[function(b,e){var c=b.xAxisModel,d=b.yAxisModel,a=b.gridModel;return!a&&c&&(a=c.axis.grid.model),!a&&d&&(a=d.axis.grid.model),a&&a===e.gridModel},function(b,c){var a=b.geoModel;return a&&a===c.geoModel}],IY={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(qS(a)),b}},IZ={lineX:m(I$,0),lineY:m(I$,1),rect:function(d,b,a,c){var e=d?b.pointToData([a[0][0],a[1][0]],c):b.dataToPoint([a[0][0],a[1][0]],c),f=d?b.pointToData([a[0][1],a[1][1]],c):b.dataToPoint([a[0][1],a[1][1]],c),g=[IU([e[0],f[0]]),IU([e[1],f[1]])];return{values:g,xyMinMax:g}},polygon:function(c,d,a,e){var b=[[1/0,-1/0],[1/0,-1/0]];return{values:Y(a,function(f){var a=c?d.pointToData(f,e):d.dataToPoint(f,e);return b[0][0]=Math.min(b[0][0],a[0]),b[1][0]=Math.min(b[1][0],a[1]),b[0][1]=Math.max(b[0][1],a[0]),b[1][1]=Math.max(b[1][1],a[1]),a}),xyMinMax:b}}};function I$(a,e,d,f){var g=d.getAxis(["x","y"][a]),c=IU(Y([0,1],function(a){return e?g.coordToData(g.toLocalCoord(f[a]),!0):g.toGlobalCoord(g.dataToCoord(f[a]))})),b=[];return b[a]=c,b[1-a]=[NaN,NaN],{values:c,xyMinMax:b}}var I_={lineX:m(I0,0),lineY:m(I0,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return Y(a,function(a,d){return[a[0]-c[0]*b[d][0],a[1]-c[1]*b[d][1]]})}};function I0(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function I1(d,e){var b=I2(d),c=I2(e),a=[b[0]/c[0],b[1]/c[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function I2(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var I3,I4,I5=ez,I6=j,I7=cN+"toolbox-dataZoom_",eA=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.render=function(a,b,c,d){this._brushController||(this._brushController=new Dk(c.getZr()),this._brushController.on("brush",cu(this._onBrush,this)).mount()),Jb(a,b,this,d,c),Ja(a,b)},a.prototype.onclick=function(b,c,a){I8[a].call(this)},a.prototype.remove=function(a,b){this._brushController&&this._brushController.unmount()},a.prototype.dispose=function(a,b){this._brushController&&this._brushController.dispose()},a.prototype._onBrush=function(c){var d=c.areas;if(c.isEnd&&d.length){var e,a,f,g={},b=this.ecModel;this._brushController.updateCovers([]),new I5(I9(this.model),b,{include:["grid"]}).matchOutputRanges(d,b,function(d,b,a){if("cartesian2d"===a.type){var c=d.brushType;"rect"===c?(h("x",a,b[0]),h("y",a,b[1])):h({lineX:"x",lineY:"y"}[c],a,b)}}),e=b,a=g,f=IR(e),IP(a,function(g,a){for(var b=f.length-1;b>=0&&!f[b][a];b--);if(b<0){var c=e.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(c){var d=c.getPercentRange();f[0][a]={dataZoomId:a,start:d[0],end:d[1]}}}}),f.push(a),this._dispatchZoomAction(g)}function h(e,j,a){var f=j.getAxis(e),h=f.model,c=i(e,h,b),d=c.findRepresentativeAxisProxy(h).getMinMaxSpan();(null!=d.minValueSpan||null!=d.maxValueSpan)&&(a=Ct(0,a.slice(),f.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),c&&(g[c.id]={dataZoomId:c.id,startValue:a[0],endValue:a[1]})}function i(c,d,a){var b;return a.eachComponent({mainType:"dataZoom",subType:"select"},function(a){a.getAxisModel(c,d.componentIndex)&&(b=a)}),b}},a.prototype._dispatchZoomAction=function(b){var a=[];I6(b,function(b,c){a.push(ct(b))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},a.getDefaultOption=function(a){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},a}(N),I8={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){var d,a,b,c;this._dispatchZoomAction((b=(a=IR(d=this.ecModel))[a.length-1],a.length>1&&a.pop(),c={},IP(b,function(d,e){for(var b=a.length-1;b>=0;b--)if(d=a[b][e]){c[e]=d;break}}),c))}};function I9(b){var a={xAxisIndex:b.get("xAxisIndex",!0),yAxisIndex:b.get("yAxisIndex",!0),xAxisId:b.get("xAxisId",!0),yAxisId:b.get("yAxisId",!0)};return null==a.xAxisIndex&&null==a.xAxisId&&(a.xAxisIndex="all"),null==a.yAxisIndex&&null==a.yAxisId&&(a.yAxisIndex="all"),a}function Ja(a,b){var c;a.setIconStatus("back",IR(c=b).length>1?"emphasis":"normal")}function Jb(c,f,d,a,g){var b=d._isZoomActive;a&&"takeGlobalCursor"===a.type&&(b="dataZoomSelect"===a.key&&a.dataZoomSelectActive),d._isZoomActive=b,c.setIconStatus("zoom",b?"emphasis":"normal");var e=new I5(I9(c),f,{include:["grid"]}).makePanelOpts(g,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"});d._brushController.setPanels(e).enableBrush(!!b&&!!e.length&&{brushType:"auto",brushStyle:c.getModel("brushStyle").getItemStyle()})}!function(a,b){f1(null==nN.get(a)&&b),nN.set(a,b)}("dataZoom",function(b){var a=b.getComponent("toolbox",0),c=["feature","dataZoom"];if(a&&null!=a.get(c)){var e=a.getModel(c),f=[],g=I9(e),d=jP(b,g);return I6(d.xAxisModels,function(a){return h(a,"xAxis","xAxisIndex")}),I6(d.yAxisModels,function(a){return h(a,"yAxis","yAxisIndex")}),f}function h(c,d,g){var a=c.componentIndex,b={type:"select",$fromToolbox:!0,filterMode:e.get("filterMode",!0)||"filter",id:I7+d+a};b[g]=a,f.push(b)}});var Jc=eA,Jd=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="tooltip",a.dependencies=["axisPointer"],a.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},a}(d);function Je(a){var b=a.get("confine");return null!=b?!!b:"richText"===a.get("renderMode")}function ci(b){if(u.domSupported){for(var c=document.documentElement.style,a=0,d=b.length;a<d;a++)if(b[a]in c)return b[a]}}var eB=ci(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),eC=ci(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function cj(b,a){if(!b)return a;a=ng(a,!0);var c=b.indexOf(a);return(b=-1===c?a:"-"+b.slice(0,c)+"-"+a).toLowerCase()}var Jf=cj(eC,"transition"),Jg=cj(eB,"transform"),Jh="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(u.transform3dSupported?"will-change:transform;":"");function Ji(f,g,c){var a=f.toFixed(0)+"px",b=g.toFixed(0)+"px";if(!u.transformSupported)return c?"top:"+b+";left:"+a+";":[["top",b],["left",a]];var d=u.transform3dSupported,e="translate"+(d?"3d":"")+"("+a+","+b+(d?",0":"")+")";return c?"top:0;left:0;"+Jg+":"+e+";":[["top",0],["left",0],[eB,e]]}function Jj(a,b,l,e,f){var c=b&&b.painter;if(l){var g,h,i,j,m,k=c&&c.getViewportRoot();k&&(g=a,h=k,i=document.body,j=e,gw(gv,h,j,m=f,!0)&&gw(g,i,gv[0],gv[1]))}else{a[0]=e,a[1]=f;var d=c&&c.getViewportRootOffset();d&&(a[0]+=d.offsetLeft,a[1]+=d.offsetTop)}a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var Jk=function(){function a(c,b,d){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,u.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var f=this._zr=b.getZr(),e=this._appendToBody=d&&d.appendToBody;Jj(this._styleCoord,f,e,b.getWidth()/2,b.getHeight()/2),e?document.body.appendChild(a):c.appendChild(a),this._container=c;var g=this;a.onmouseenter=function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0},a.onmousemove=function(a){if(a=a||window.event,!g._enterable){var b=f.handler,c=f.painter.getViewportRoot();gG(c,a,!0),b.dispatch("mousemove",a)}},a.onmouseleave=function(){g._inContent=!1,g._enterable&&g._show&&g.hideLater(g._hideDelay)}}return a.prototype.update=function(c){var d,a,b,e=this._container,g=(a="position",(b=(d=e).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(d))?a?b[a]:b:null),f=e.style;"absolute"!==f.position&&"absolute"!==g&&(f.position="relative");var h=c.get("alwaysShowContent");h&&this._moveIfResized(),this.el.className=c.get("className")||""},a.prototype.show=function(p,F){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a,q,r,b,f,g,s,t,v,w,x,h,i,y,z,d,k,c,e,l,m,n,o,A,B,C=this.el,D=C.style,E=this._styleCoord;C.innerHTML?D.cssText=Jh+(a=p,q=!this._firstShow,r=this._longHide,b=[],f=a.get("transitionDuration"),g=a.get("backgroundColor"),s=a.get("shadowBlur"),t=a.get("shadowColor"),v=a.get("shadowOffsetX"),w=a.get("shadowOffsetY"),x=a.getModel("textStyle"),h=pz(a,"html"),b.push("box-shadow:"+(v+"px "+w+"px "+s)+"px "+t),q&&f&&b.push((i=f,y=r,k="opacity"+(d=" "+i/2+"s "+(z="cubic-bezier(0.23,1,0.32,1)"))+",visibility"+d,y||(d=" "+i+"s "+z,k+=u.transformSupported?","+Jg+d:",left"+d+",top"+d),Jf+":"+k)),g&&b.push("background-color:"+g),j(["width","color","radius"],function(c){var d="border-"+c,f=ng(d),e=a.get(f);null!=e&&b.push(d+":"+e+("color"===c?"":"px"))}),b.push((e=[],l=(c=x).get("fontSize"),m=c.getTextColor(),m&&e.push("color:"+m),e.push("font:"+c.getFont()),l&&e.push("line-height:"+Math.round(3*l/2)+"px"),n=c.get("textShadowColor"),o=c.get("textShadowBlur")||0,A=c.get("textShadowOffsetX")||0,B=c.get("textShadowOffsetY")||0,n&&o&&e.push("text-shadow:"+A+"px "+B+"px "+o+"px "+n),j(["decoration","align"],function(a){var b=c.get(a);b&&e.push("text-"+a+":"+b)}),e.join(";"))),null!=h&&b.push("padding:"+nh(h).join("px ")+"px"),b.join(";")+";")+Ji(E[0],E[1],!0)+"border-color:"+np(F)+";"+(p.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):D.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(a,i,e,h,f){var b=this.el;if(null==a){b.innerHTML="";return}var d="";if(fT(f)&&"item"===e.get("trigger")&&!Je(e)&&(d=function(k,e,f){if(!fT(f)||"inside"===f)return"";var g,b,o=k.get("backgroundColor"),a=k.get("borderWidth");e=np(e);var c=b="left"===(b=f)?"right":"right"===b?"left":"top"===b?"bottom":"top",h=Math.max(1.5*Math.round(a),6),d="",i=Jg+":";fQ(["left","right"],c)> -1?(d+="top:50%",i+="translateY(-50%) rotate("+(g="left"===c?-225:-45)+"deg)"):(d+="left:50%",i+="translateX(-50%) rotate("+(g="top"===c?225:45)+"deg)");var l=g*Math.PI/180,j=h+a,m=j*Math.abs(Math.cos(l))+j*Math.abs(Math.sin(l));d+=";"+c+":-"+Math.round(((m-Math.SQRT2*a)/2+Math.SQRT2*a-(m-j)/2)*100)/100+"px";var n=e+" solid "+a+"px;",p=["position:absolute;width:"+h+"px;height:"+h+"px;",d+";"+i+";","border-bottom:"+n,"border-right:"+n,"background-color:"+o+";"];return'<div style="'+p.join("")+'"></div>'}(e,h,f)),fT(a))b.innerHTML=a+d;else if(a){b.innerHTML="",cv(a)||(a=[a]);for(var c=0;c<a.length;c++)fY(a[c])&&a[c].parentNode!==b&&b.appendChild(a[c]);if(d&&b.childNodes.length){var g=document.createElement("div");g.innerHTML=d,b.appendChild(g)}}},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var a=this.el;return[a.offsetWidth,a.offsetHeight]},a.prototype.moveTo=function(b,c){var a=this._styleCoord;if(Jj(a,this._zr,this._appendToBody,b,c),null!=a[0]&&null!=a[1]){var e=this.el.style,d=Ji(a[0],a[1]);j(d,function(a){e[a[0]]=a[1]})}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){var b=this,a=this.el.style;a.visibility="hidden",a.opacity="0",u.transform3dSupported&&(a.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return b._longHide=!0},500)},a.prototype.hideLater=function(a){this._show&&!(this._inContent&&this._enterable)&&(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(cu(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},a}(),eD=function(){function a(a){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=a.getZr(),Jn(this._styleCoord,this._zr,a.getWidth()/2,a.getHeight()/2)}return a.prototype.update=function(a){a.get("alwaysShowContent")&&this._moveIfResized()},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(b,c,a,d,f){var g=this;aq(b)&&oQ(""),this.el&&this._zr.remove(this.el);var e=a.getModel("textStyle");this.el=new bh({style:{rich:c.richTextStyles,text:b,lineHeight:22,borderWidth:1,borderColor:d,textShadowColor:e.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:pz(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(b){g.el.style[b]=a.get(b)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(a){g.el.style[a]=e.get(a)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var c=this.el,b=this.el.getBoundingRect(),a=Jm(c.style);return[b.width+a.left+a.right,b.height+a.top+a.bottom]},a.prototype.moveTo=function(b,c){var a=this.el;if(a){var d=this._styleCoord;Jn(d,this._zr,b,c),b=d[0],c=d[1];var e=a.style,f=Jl(e.borderWidth||0),g=Jm(e);a.x=b+f+g.left,a.y=c+f+g.top,a.markRedraw()}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(a){this._show&&!(this._inContent&&this._enterable)&&(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(cu(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function Jl(a){return Math.max(0,a)}function Jm(b){var a=Jl(b.shadowBlur||0),c=Jl(b.shadowOffsetX||0),d=Jl(b.shadowOffsetY||0);return{left:Jl(a-c),right:Jl(a+c),top:Jl(a-d),bottom:Jl(a+d)}}function Jn(a,b,c,d){a[0]=c,a[1]=d,a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var Jo=eD,Jp=new z({shape:{x:-1,y:-1,width:2,height:2}}),eE=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(d,a){if(!u.node&&a.getDom()){var b,c=d.getComponent("tooltip"),e=this._renderMode="auto"===(b=c.get("renderMode"))?u.domSupported?"html":"richText":b||"html";this._tooltipContent="richText"===e?new Jo(a):new Jk(a.getDom(),a,{appendToBody:c.get("appendToBody",!0)})}},a.prototype.render=function(a,d,b){if(!u.node&&b.getDom()){this.group.removeAll(),this._tooltipModel=a,this._ecModel=d,this._api=b,this._alwaysShowContent=a.get("alwaysShowContent");var c=this._tooltipContent;c.update(a),c.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&a.get("transitionDuration")?re(this,"_updatePosition",50,"fixRate"):rf(this,"_updatePosition")}},a.prototype._initGlobalListener=function(){var a=this._tooltipModel.get("triggerOn");GZ("itemTooltip",this._api,cu(function(b,d,c){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(d,c):"leave"===b&&this._hide(c))},this))},a.prototype._keepShow=function(){var b=this._tooltipModel,c=this._ecModel,d=this._api,a=b.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var e=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){d.isDisposed()||e.manuallyShowTip(b,c,d,{x:e._lastX,y:e._lastY,dataByCoordSys:e._lastDataByCoordSys})})}},a.prototype.manuallyShowTip=function(l,g,b,a){if(a.from!==this.uid&&!u.node&&b.getDom()){var c=Jr(a,b);this._ticket="";var i=a.dataByCoordSys,f=Jw(a,g,b);if(f){var d=f.el.getBoundingRect().clone();d.applyTransform(f.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:f.el,position:a.position,positionDefault:"bottom"},c)}else if(a.tooltip&&null!=a.x&&null!=a.y){var e=Jp;e.x=a.x,e.y=a.y,e.update(),lz(e).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:e},c)}else if(i)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:i,tooltipOption:a.tooltipOption},c);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(l,g,b,a))return;var h=G5(a,g),j=h.point[0],k=h.point[1];null!=j&&null!=k&&this._tryShow({offsetX:j,offsetY:k,target:h.el,position:a.position,positionDefault:"bottom"},c)}else null!=a.x&&null!=a.y&&(b.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:b.getZr().findHover(a.x,a.y).target},c))}},a.prototype.manuallyHideTip=function(d,e,b,a){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Jr(a,b))},a.prototype._manuallyAxisShowTip=function(h,e,f,b){var c=b.seriesIndex,d=b.dataIndex,g=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=c&&null!=d&&null!=g){var a=e.getSeriesByIndex(c);if(a){if("axis"===Jq([a.getData().getItemModel(d),a,(a.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return f.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:d,position:b.position}),!0}}},a.prototype._tryShow=function(a,b){var d,e,f=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var c=a.dataByCoordSys;c&&c.length?this._showAxisTooltip(c,a):f?(this._lastDataByCoordSys=null,rF(f,function(a){return null!=lz(a).dataIndex?(d=a,!0):null!=lz(a).tooltipConfig?(e=a,!0):void 0},!0),d?this._showSeriesItemTooltip(a,d,b):e?this._showComponentItemTooltip(a,e,b):this._hide(b)):(this._lastDataByCoordSys=null,this._hide(b))}},a.prototype._showOrMove=function(c,a){var b=c.get("showDelay");a=cu(a,this),clearTimeout(this._showTimout),b>0?this._showTimout=setTimeout(a,b):a()},a.prototype._showAxisTooltip=function(g,a){var h=this._ecModel,i=this._tooltipModel,l=[a.offsetX,a.offsetY],b=Jq([a.tooltipOption],i),d=this._renderMode,m=[],e=pl("section",{blocks:[],noHeader:!0}),c=[],k=new pA;j(g,function(a){j(a.dataByAxis,function(a){var b=h.getComponent(a.axisDim+"Axis",a.axisIndex),f=a.value;if(b&&null!=f){var g=GM(f,b.axis,h,a.seriesDataIndices,a.valueLabelOpt),l=pl("section",{header:g,noHeader:!f2(g),sortBlocks:!0,blocks:[]});e.blocks.push(l),j(a.seriesDataIndices,function(p){var j=h.getSeriesByIndex(p.seriesIndex),q=p.dataIndexInside,e=j.getDataParams(q);if(!(e.dataIndex<0)){e.axisDim=a.axisDim,e.axisIndex=a.axisIndex,e.axisType=a.axisType,e.axisId=a.axisId,e.axisValue=wW(b.axis,{value:f}),e.axisValueLabel=g,e.marker=k.makeTooltipMarker("item",np(e.color),d);var n=oJ(j.formatTooltip(q,!0,null)),o=n.frag;if(o){var r=Jq([j],i).get("valueFormatter");l.blocks.push(r?fP({valueFormatter:r},o):o)}n.text&&c.push(n.text),m.push(e)}})}})}),e.blocks.reverse(),c.reverse();var n=a.position,f=pr(e,k,d,b.get("order"),h.get("useUTC"),b.get("textStyle"));f&&c.unshift(f);var o=c.join("richText"===d?"\n\n":"<br/>");this._showOrMove(b,function(){this._updateContentNotChangedOnAxis(g,m)?this._updatePosition(b,n,l[0],l[1],this._tooltipContent,m):this._showTooltipContent(b,o,m,Math.random()+"",l[0],l[1],n,null,k)})},a.prototype._showSeriesItemTooltip=function(r,s,t){var h=this._ecModel,d=lz(s),i=d.seriesIndex,e=h.getSeriesByIndex(i),b=d.dataModel||e,a=d.dataIndex,f=d.dataType,j=b.getData(f),k=this._renderMode,l=r.positionDefault,c=Jq([j.getItemModel(a),b,e&&(e.coordinateSystem||{}).model],this._tooltipModel,l?{position:l}:null),m=c.get("trigger");if(null==m||"item"===m){var n=b.getDataParams(a,f),o=new pA;n.marker=o.makeTooltipMarker("item",np(n.color),k);var p=oJ(b.formatTooltip(a,!1,f)),u=c.get("order"),q=c.get("valueFormatter"),g=p.frag,v=g?pr(q?fP({valueFormatter:q},g):g,o,k,u,h.get("useUTC"),c.get("textStyle")):p.text,w="item_"+b.name+"_"+a;this._showOrMove(c,function(){this._showTooltipContent(c,v,n,w,r.offsetX,r.offsetY,r.position,r.target,o)}),t({type:"showTip",dataIndexInside:a,dataIndex:j.getRawIndex(a),seriesIndex:i,from:this.uid})}},a.prototype._showComponentItemTooltip=function(h,i,j){var b=lz(i),a=b.tooltipConfig.option||{};if(fT(a)){var d=a;a={content:d,formatter:d}}var c=[a],e=this._ecModel.getComponent(b.componentMainType,b.componentIndex);e&&c.push(e),c.push({formatter:a.content});var f=h.positionDefault,g=Jq(c,this._tooltipModel,f?{position:f}:null),k=g.get("content"),l=Math.random()+"",m=new pA;this._showOrMove(g,function(){var a=ct(g.get("formatterParams")||{});this._showTooltipContent(g,k,a,l,h.offsetX,h.offsetY,h.position,i,m)}),j({type:"showTip",from:this.uid})},a.prototype._showTooltipContent=function(a,l,c,h,i,j,e,m,n){if(this._ticket="",a.get("showContent")&&a.get("show")){var f=this._tooltipContent;f.setEnterable(a.get("enterable"));var d=a.get("formatter");e=e||a.get("position");var b=l,k=this._getNearestPoint([i,j],c,a.get("trigger"),a.get("borderColor")).color;if(d){if(fT(d)){var o=a.ecModel.get("useUTC"),g=cv(c)?c[0]:c,p=g&&g.axisType&&g.axisType.indexOf("time")>=0;b=d,p&&(b=m$(g.axisValue,b,o)),b=no(b,c,!0)}else if(cw(d)){var q=cu(function(b,d){b===this._ticket&&(f.setContent(d,n,a,k,e),this._updatePosition(a,e,i,j,f,c,m))},this);this._ticket=h,b=d(c,h,q)}else b=d}f.setContent(b,n,a,k,e),f.show(a,k),this._updatePosition(a,e,i,j,f,c,m)}},a.prototype._getNearestPoint=function(d,a,c,b){return"axis"===c||cv(a)?{color:b||("html"===this._renderMode?"#fff":"none")}:cv(a)?void 0:{color:b||a.color||a.borderColor}},a.prototype._updatePosition=function(f,a,b,c,g,p,h){var i=this._api.getWidth(),j=this._api.getHeight();a=a||f.get("position");var d=g.getSize(),k=f.get("align"),l=f.get("verticalAlign"),m=h&&h.getBoundingRect().clone();if(h&&m.applyTransform(h.transform),cw(a)&&(a=a([b,c],p,g.el,m,{viewSize:[i,j],contentSize:d.slice()})),cv(a))b=je(a[0],i),c=je(a[1],j);else if(aq(a)){var n=a;n.width=d[0],n.height=d[1];var o=nw(n,{width:i,height:j});b=o.x,c=o.y,k=null,l=null}else if(fT(a)&&h){var e=Ju(a,m,d,f.get("borderWidth"));b=e[0],c=e[1]}else{var e=Js(b,c,g,i,j,k?null:20,l?null:20);b=e[0],c=e[1]}if(k&&(b-=Jv(k)?d[0]/2:"right"===k?d[0]:0),l&&(c-=Jv(l)?d[1]/2:"bottom"===l?d[1]:0),Je(f)){var e=Jt(b,c,g,i,j);b=e[0],c=e[1]}g.moveTo(b,c)},a.prototype._updateContentNotChangedOnAxis=function(b,d){var a=this._lastDataByCoordSys,e=this._cbParamsList,c=!!a&&a.length===b.length;return c&&j(a,function(f,g){var a=f.dataByAxis||[],h=(b[g]||{}).dataByAxis||[];(c=c&&a.length===h.length)&&j(a,function(a,g){var b=h[g]||{},f=a.seriesDataIndices||[],i=b.seriesDataIndices||[];(c=c&&a.value===b.value&&a.axisType===b.axisType&&a.axisId===b.axisId&&f.length===i.length)&&j(f,function(a,d){var b=i[d];c=c&&a.seriesIndex===b.seriesIndex&&a.dataIndex===b.dataIndex}),e&&j(a.seriesDataIndices,function(g){var a=g.seriesIndex,b=d[a],f=e[a];b&&f&&f.data!==b.data&&(c=!1)})})}),this._lastDataByCoordSys=b,this._cbParamsList=d,!!c},a.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},a.prototype.dispose=function(b,a){!u.node&&a.getDom()&&(rf(this,"_updatePosition"),this._tooltipContent.dispose(),G3("itemTooltip",a))},a.type="tooltip",a}(g);function Jq(f,d,g){var b,c=d.ecModel;g?(b=new _(g,c,c),b=new _(d.option,b,c)):b=d;for(var e=f.length-1;e>=0;e--){var a=f[e];a&&(a instanceof _&&(a=a.get("tooltip",!0)),fT(a)&&(a={formatter:a}),a&&(b=new _(a,b,c)))}return b}function Jr(b,a){return b.dispatchAction||cu(a.dispatchAction,a)}function Js(a,b,h,i,j,c,d){var e=h.getSize(),f=e[0],g=e[1];return null!=c&&(a+f+c+2>i?a-=f+c:a+=c),null!=d&&(b+g+d>j?b-=g+d:b+=d),[a,b]}function Jt(a,b,f,g,h){var c=f.getSize(),d=c[0],e=c[1];return a=Math.min(a+d,g)-d,b=Math.min(b+e,h)-e,a=Math.max(a,0),b=Math.max(b,0),[a,b]}function Ju(j,a,i,k){var d=i[0],e=i[1],f=Math.ceil(Math.SQRT2*k)+8,b=0,c=0,g=a.width,h=a.height;switch(j){case"inside":b=a.x+g/2-d/2,c=a.y+h/2-e/2;break;case"top":b=a.x+g/2-d/2,c=a.y-e-f;break;case"bottom":b=a.x+g/2-d/2,c=a.y+h+f;break;case"left":b=a.x-d-f,c=a.y+h/2-e/2;break;case"right":b=a.x+g+f,c=a.y+h/2-e/2}return[b,c]}function Jv(a){return"center"===a||"middle"===a}function Jw(e,f,g){var c,d=jQ(e).queryOptionMap,a=d.keys()[0];if(a&&"series"!==a){var b=jT(f,a,d.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(b&&(g.getViewOfComponentModel(b).group.traverse(function(a){var b=lz(a).tooltipConfig;if(b&&b.name===e.name)return c=a,!0}),c))return{componentMainType:a,componentIndex:b.componentIndex,el:c}}}var Jx=eE,Jy=["rect","polygon","keep","clear"];function Jz(c,g){var d=jw(c?c.brush:[]);if(d.length){var h=[];j(d,function(a){var b=a.hasOwnProperty("toolbox")?a.toolbox:[];b instanceof Array&&(h=h.concat(b))});var a=c&&c.toolbox;cv(a)&&(a=a[0]),a||(a={feature:{}},c.toolbox=[a]);var e=a.feature||(a.feature={}),f=e.brush||(e.brush={}),b=f.type||(f.type=[]);b.push.apply(b,h),JA(b),g&&!b.length&&b.push.apply(b,Jy)}}function JA(a){var b={};j(a,function(a){b[a]=1}),a.length=0,j(b,function(c,b){a.push(b)})}var JB=j;function JC(a){if(a){for(var b in a)if(a.hasOwnProperty(b))return!0}}function JD(c,a,d){var b={};return JB(a,function(a){var f=b[a]=e();JB(c[a],function(e,c){if(b9.isValidType(c)){var b={type:c,visual:e};d&&d(b,a),f[c]=new b9(b),"opacity"===c&&((b=ct(b)).type="colorAlpha",f.__hidden.__alphaForOpacity=new b9(b))}})}),b;function e(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}}function JE(c,d,a){var b;j(a,function(a){d.hasOwnProperty(a)&&JC(d[a])&&(b=!0)}),b&&j(a,function(a){d.hasOwnProperty(a)&&JC(d[a])?c[a]=ct(d[a]):delete c[a]})}var JF={lineX:JG(0),lineY:JG(1),rect:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])},rect:function(a,c,b){return a&&b.boundingRect.intersect(a)}},polygon:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])&&yE(b.range,a[0],a[1])},rect:function(d,i,h){var c=h.range;if(!d||c.length<=1)return!1;var a=d.x,b=d.y,e=d.width,f=d.height,g=c[0];if(yE(c,a,b)||yE(c,a+e,b)||yE(c,a,b+f)||yE(c,a+e,b+f)||as.create(d).contain(g[0],g[1])||q$(a,b,a+e,b,c)||q$(a,b,a,b+f,c)||q$(a+e,b,a+e,b+f,c)||q$(a,b+f,a+e,b+f,c))return!0}}};function JG(a){var b=["x","y"],c=["width","height"];return{point:function(b,e,c){if(b){var d=c.range;return JH(b[a],d)}},rect:function(e,h,g){if(e){var f=g.range,d=[e[b[a]],e[b[a]]+e[c[a]]];return d[1]<d[0]&&d.reverse(),JH(d[0],f)||JH(d[1],f)||JH(f[0],d)||JH(f[1],d)}}}}function JH(a,b){return b[0]<=a&&a<=b[1]}var JI=["inBrush","outOfBrush"],JJ="__ecBrushSelect",JK="__ecInBrushSelectEvent";function JL(a){a.eachComponent({mainType:"brush"},function(b){(b.brushTargetManager=new I5(b.option,a)).setInputRanges(b.areas,a)})}function JM(a,b,c){var d,e,f=[];a.eachComponent({mainType:"brush"},function(a){c&&"takeGlobalCursor"===c.type&&a.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1})}),JL(a),a.eachComponent({mainType:"brush"},function(b,g){var i={brushId:b.id,brushIndex:g,brushName:b.name,areas:ct(b.areas),selected:[]};f.push(i);var c=b.option,h=c.brushLink,k=[],l=[],m=[],n=!1;g||(d=c.throttleType,e=c.throttleDelay);var o=Y(b.areas,function(a){var d,e,f,c=JR[a.brushType],b=x({boundingRect:c?c(a):void 0},a);return b.selectors=(e=(d=b).brushType,f={point:function(a){return JF[e].point(a,f,d)},rect:function(a){return JF[e].rect(a,f,d)}}),b}),p=JD(b.option,JI,function(a){a.mappingMethod="fixed"});function q(a){return"all"===h||!!k[a]}function r(a){return!!a.length}cv(h)&&j(h,function(a){k[a]=1}),a.eachSeries(function(c,d){var e,g,f,h=m[d]=[];"parallel"===c.subType?(e=c,g=d,f=e.coordinateSystem,n=n||f.hasAxisBrushed(),q(g)&&f.eachActiveState(e.getData(),function(a,b){"active"===a&&(l[b]=1)})):function g(c,d,e){if(!(!c.brushSelector||JQ(b,d))&&(j(o,function(d){b.brushTargetManager.controlSeries(d,c,a)&&e.push(d),n=n||r(e)}),q(d)&&r(e))){var f=c.getData();f.each(function(a){JP(c,e,f,a)&&(l[a]=1)})}}(c,d,h)}),a.eachSeries(function(b,a){var c={seriesId:b.id,seriesIndex:a,seriesName:b.name,dataIndex:[]};i.selected.push(c);var d=m[a],e=b.getData(),f=q(a)?function(a){return l[a]?(c.dataIndex.push(e.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return JP(b,d,e,a)?(c.dataIndex.push(e.getRawIndex(a)),"inBrush"):"outOfBrush"};(q(a)?n:r(d))&&function(d,e,a,f,g,b){var h,i={};function k(b){return rA(a,h,b)}function l(b,c){rC(a,h,b,c)}function c(c,p){h=null==b?c:p;var g=a.getRawDataItem(h);if(!g|| !1!==g.visualMap)for(var j=f.call(void 0,c),m=e[j],n=i[j],d=0,q=n.length;d<q;d++){var o=n[d];m[o]&&m[o].applyVisual(c,k,l)}}j(d,function(a){var b=b9.prepareVisualTypes(e[a]);i[a]=b}),null==b?a.each(c):a.each([b],c)}(JI,p,e,f)})}),JN(b,d,e,f,c)}function JN(b,c,d,e,f){if(f){var a=b.getZr();!a[JK]&&(a[JJ]||(a[JJ]=JO),re(a,JJ,d,c)(b,e))}}function JO(a,c){if(!a.isDisposed()){var b=a.getZr();b[JK]=!0,a.dispatchAction({type:"brushSelect",batch:c}),b[JK]=!1}}function JP(d,b,e,f){for(var a=0,g=b.length;a<g;a++){var c=b[a];if(d.brushSelector(f,e,c.selectors,c))return!0}}function JQ(c,b){var a=c.option.seriesIndex;return null!=a&&"all"!==a&&(cv(a)?0>fQ(a,b):b!==a)}var JR={rect:function(a){return JS(a.range)},polygon:function(e){for(var a,d=e.range,c=0,f=d.length;c<f;c++){a=a||[[1/0,-1/0],[1/0,-1/0]];var b=d[c];b[0]<a[0][0]&&(a[0][0]=b[0]),b[0]>a[0][1]&&(a[0][1]=b[0]),b[1]<a[1][0]&&(a[1][0]=b[1]),b[1]>a[1][1]&&(a[1][1]=b[1])}return a&&JS(a)}};function JS(a){return new as(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var JT=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(b,a){this.ecModel=b,this.api=a,this.model,(this._brushController=new Dk(a.getZr())).on("brush",cu(this._onBrush,this)).mount()},a.prototype.render=function(a,b,c,d){this.model=a,this._updateController(a,b,c,d)},a.prototype.updateTransform=function(b,a,c,d){JL(a),this._updateController(b,a,c,d)},a.prototype.updateVisual=function(a,b,c,d){this.updateTransform(a,b,c,d)},a.prototype.updateView=function(a,b,c,d){this._updateController(a,b,c,d)},a.prototype._updateController=function(a,d,c,b){b&&b.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},a.prototype.dispose=function(){this._brushController.dispose()},a.prototype._onBrush=function(a){var b=this.model.id,c=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:b,areas:ct(c),$from:b}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:b,areas:ct(c),$from:b})},a.type="brush",a}(g),eF=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.areas=[],c.brushOption={},c}return cp(a,b),a.prototype.optionUpdated=function(c,d){var a=this.option;d||JE(a,c,["inBrush","outOfBrush"]);var b=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:"#ddd"},b.hasOwnProperty("liftZ")||(b.liftZ=5)},a.prototype.setAreas=function(a){a&&(this.areas=Y(a,function(a){return JU(this.option,a)},this))},a.prototype.setBrushOption=function(a){this.brushOption=JU(this.option,a),this.brushType=this.brushOption.brushType},a.type="brush",a.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],a.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},a}(d);function JU(a,b){return an({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new _(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}var JV=eF,JW=["rect","polygon","lineX","lineY","keep","clear"],JX=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return cp(a,b),a.prototype.render=function(a,b,e){var c,d,f;b.eachComponent({mainType:"brush"},function(a){c=a.brushType,d=a.brushOption.brushMode||"single",f=f||!!a.areas.length}),this._brushType=c,this._brushMode=d,j(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===d:"clear"===b?f:b===c)?"emphasis":"normal")})},a.prototype.updateView=function(a,b,c){this.render(a,b,c)},a.prototype.getIcons=function(){var a=this.model,c=a.get("icon",!0),b={};return j(a.get("type",!0),function(a){c[a]&&(b[a]=c[a])}),b},a.prototype.onclick=function(e,b,a){var c=this._brushType,d=this._brushMode;"clear"===a?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===a?c:c!==a&&a,brushMode:"keep"===a?"multiple"===d?"single":"multiple":d}})},a.getDefaultOption=function(a){return{show:!0,type:JW.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])}},a}(N),JY=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.layoutMode={type:"box",ignoreSize:!0},c}return cp(a,b),a.type="title",a.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},a}(d),JZ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.render=function(a,v,l){if(this.group.removeAll(),a.get("show")){var c=this.group,m=a.getModel("textStyle"),n=a.getModel("subtextStyle"),f=a.get("textAlign"),d=f$(a.get("textBaseline"),a.get("textVerticalAlign")),g=new bh({style:mw(m,{text:a.get("text"),fill:m.getTextColor()},{disableBox:!0}),z2:10}),t=g.getBoundingRect(),o=a.get("subtext"),i=new bh({style:mw(n,{text:o,fill:n.getTextColor(),y:t.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=a.get("link"),q=a.get("sublink"),j=a.get("triggerEvent",!0);g.silent=!p&&!j,i.silent=!q&&!j,p&&g.on("click",function(){nq(p,"_"+a.get("target"))}),q&&i.on("click",function(){nq(q,"_"+a.get("subtarget"))}),lz(g).eventData=lz(i).eventData=j?{componentType:"title",componentIndex:a.componentIndex}:null,c.add(g),o&&c.add(i);var e=c.getBoundingRect(),k=a.getBoxLayoutParams();k.width=e.width,k.height=e.height;var b=nw(k,{width:l.getWidth(),height:l.getHeight()},a.get("padding"));f||("middle"===(f=a.get("left")||a.get("right"))&&(f="center"),"right"===f?b.x+=b.width:"center"!==f||(b.x+=b.width/2)),d||("center"===(d=a.get("top")||a.get("bottom"))&&(d="middle"),"bottom"===d?b.y+=b.height:"middle"===d&&(b.y+=b.height/2),d=d||"top"),c.x=b.x,c.y=b.y,c.markRedraw();var r={align:f,verticalAlign:d};g.setStyle(r),i.setStyle(r),e=c.getBoundingRect();var h=b.margin,s=a.getItemStyle(["color","opacity"]);s.fill=a.get("backgroundColor");var u=new z({shape:{x:e.x-h[3],y:e.y-h[0],width:e.width+h[1]+h[3],height:e.height+h[0]+h[2],r:a.get("borderRadius")},style:s,subPixelOptimize:!0,silent:!0});c.add(u)}},a.type="title",a}(g),eG=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.layoutMode="box",c}return cp(a,b),a.prototype.init=function(a,c,b){this.mergeDefaultAndTheme(a,b),this._initData()},a.prototype.mergeOption=function(a){b.prototype.mergeOption.apply(this,arguments),this._initData()},a.prototype.setCurrentIndex=function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0)),this.option.currentIndex=a},a.prototype.getCurrentIndex=function(){return this.option.currentIndex},a.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},a.prototype.setPlayState=function(a){this.option.autoPlay=!!a},a.prototype.getPlayState=function(){return!!this.option.autoPlay},a.prototype._initData=function(){var a,b=this.option,c=b.data||[],d=b.axisType,e=this._names=[];"category"===d?(a=[],j(c,function(b,d){var c,f=jK(jz(b),"");aq(b)?(c=ct(b)).value=d:c=d,a.push(c),e.push(f)})):a=c;var f={category:"ordinal",time:"time",value:"number"}[d]||"number";(this._data=new uv([{name:"value",type:f}],this)).initData(a,e)},a.prototype.getData=function(){return this._data},a.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},a.type="timeline",a.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},a}(d),ck=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="timeline.slider",a.defaultOption=mP(eG.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),a}(eG);h(ck,aK.prototype);var J$=ck,eH=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="timeline",a}(g),J_=function(b){function a(c,d,e,f){var a=b.call(this,c,d,e)||this;return a.type=f||"value",a}return cp(a,b),a.prototype.getLabelModel=function(){return this.model.getModel("label")},a.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},a}(o),J0=Math.PI,J1=a(),eI=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(b,a){this.api=a},a.prototype.render=function(a,d,c){if(this.model=a,this.api=c,this.ecModel=d,this.group.removeAll(),a.get("show",!0)){var b=this._layout(a,c),g=this._createGroup("_mainGroup"),e=this._createGroup("_labelGroup"),f=this._axis=this._createAxis(b,a);a.formatTooltip=function(a){return pl("nameValue",{noName:!0,value:f.scale.getLabel({value:a})})},j(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](b,g,f,a)},this),this._renderAxisLabel(b,e,f,a),this._position(b,a)}this._doPlayStop(),this._updateTicksStatus()},a.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},a.prototype.dispose=function(){this._clearTimer()},a.prototype._layout=function(a,l){var g,m,n,o,h=a.get(["label","position"]),b=a.get("orient"),c=J3(a,l),x={horizontal:"center",vertical:(g=null==h||"auto"===h?"horizontal"===b?c.y+c.height/2<l.getHeight()/2?"-":"+":c.x+c.width/2<l.getWidth()/2?"+":"-":fT(h)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[b][h]:h)>=0||"+"===g?"left":"right"},y={horizontal:g>=0||"+"===g?"top":"bottom",vertical:"middle"},q="vertical"===b?c.height:c.width,d=a.getModel("controlStyle"),i=d.get("show",!0),j=i?d.get("itemSize"):0,r=i?d.get("itemGap"):0,f=j+r,p=a.get(["label","rotate"])||0;p=p*J0/180;var s=d.get("position",!0),t=i&&d.get("showPlayBtn",!0),u=i&&d.get("showPrevBtn",!0),v=i&&d.get("showNextBtn",!0),k=0,e=q;"left"===s||"bottom"===s?(t&&(m=[0,0],k+=f),u&&(n=[k,0],k+=f),v&&(o=[e-j,0],e-=f)):(t&&(m=[e-j,0],e-=f),u&&(n=[0,0],k+=f),v&&(o=[e-j,0],e-=f));var w=[k,e];return a.get("inverse")&&w.reverse(),{viewRect:c,mainLength:q,orient:b,rotation:({horizontal:0,vertical:J0/2})[b],labelRotation:p,labelPosOpt:g,labelAlign:a.get(["label","align"])||x[b],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||y[b],playPosition:m,prevBtnPosition:n,nextBtnPosition:o,axisExtent:w,controlSize:j,controlGap:r}},a.prototype._position=function(g,p){var b=this._mainGroup,c=this._labelGroup,d=g.viewRect;if("vertical"===g.orient){var a=cJ(),k=d.x,l=d.y+d.height;iB(a,a,[-k,-l]),iC(a,a,-J0/2),iB(a,a,[k,l]),(d=d.clone()).applyTransform(a)}var h=q(d),m=q(b.getBoundingRect()),o=q(c.getBoundingRect()),e=[b.x,b.y],i=[c.x,c.y];i[0]=e[0]=h[0][0];var f=g.labelPosOpt;if(null==f||fT(f)){var j="+"===f?0:1;r(e,m,h,1,j),r(i,o,h,1,1-j)}else{var j=f>=0?0:1;r(e,m,h,1,j),i[1]=e[1]+f}function n(a){a.originX=h[0][0]-a.x,a.originY=h[1][0]-a.y}function q(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function r(c,d,e,a,b){c[a]+=e[a][b]-d[a][b]}b.setPosition(e),c.setPosition(i),b.rotation=c.rotation=g.rotation,n(b),n(c)},a.prototype._createAxis=function(f,a){var g=a.getData(),c=a.get("axisType"),b=J2(a,c);b.getTicks=function(){return g.mapArray(["value"],function(a){return{value:a}})};var d=g.getDataExtent("value");b.setExtent(d[0],d[1]),b.calcNiceTicks();var e=new J_("value",b,f.axisExtent,c);return e.model=a,e},a.prototype._createGroup=function(b){var a=this[b]=new t;return this.group.add(a),a},a.prototype._renderAxisLine=function(g,c,e,b){var a=e.getExtent();if(b.get(["lineStyle","show"])){var d=new aO({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:fP({lineCap:"round"},b.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});c.add(d);var f=this._progressLine=new aO({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:x({lineCap:"round",lineWidth:d.style.lineWidth},b.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});c.add(f)}},a.prototype._renderAxisTick=function(d,e,a,b){var f=this,g=b.getData(),c=a.scale.getTicks();this._tickSymbols=[],j(c,function(h){var j=a.dataToCoord(h.value),c=g.getItemModel(h.value),k=c.getModel("itemStyle"),l=c.getModel(["emphasis","itemStyle"]),m=c.getModel(["progress","itemStyle"]),n={x:j,y:0,onclick:cu(f._changeTimeline,f,h.value)},d=J5(c,k,e,n);d.ensureState("emphasis").style=l.getItemStyle(),d.ensureState("progress").style=m.getItemStyle(),l7(d);var i=lz(d);c.get("tooltip")?(i.dataIndex=h.value,i.dataModel=b):i.dataIndex=i.dataModel=null,f._tickSymbols.push(d)})},a.prototype._renderAxisLabel=function(d,e,a,b){var f=this;if(a.getLabelModel().get("show")){var g=b.getData(),c=a.getViewLabels();this._tickLabels=[],j(c,function(c){var h=c.tickValue,i=g.getItemModel(h),j=i.getModel("label"),k=i.getModel(["emphasis","label"]),l=i.getModel(["progress","label"]),m=a.dataToCoord(c.tickValue),b=new bh({x:m,y:0,rotation:d.labelRotation-d.rotation,onclick:cu(f._changeTimeline,f,h),silent:!1,style:mw(j,{text:c.formattedLabel,align:d.labelAlign,verticalAlign:d.labelBaseline})});b.ensureState("emphasis").style=mw(k),b.ensureState("progress").style=mw(l),e.add(b),l7(b),J1(b).dataIndex=h,f._tickLabels.push(b)})}},a.prototype._renderControl=function(a,f,g,b){var h=a.controlSize,i=a.rotation,j=b.getModel("controlStyle").getItemStyle(),k=b.getModel(["emphasis","controlStyle"]).getItemStyle(),d=b.getPlayState(),e=b.get("inverse",!0);function c(a,e,g,l){if(a){var c=i_(f$(b.get(["controlStyle",e+"BtnSize"]),h),h),d=J4(b,e+"Icon",[0,-c/2,c,c],{x:a[0],y:a[1],originX:h/2,originY:0,rotation:l?-i:0,rectHover:!0,style:j,onclick:g});d.ensureState("emphasis").style=k,f.add(d),l7(d)}}c(a.nextBtnPosition,"next",cu(this._changeTimeline,this,e?"-":"+")),c(a.prevBtnPosition,"prev",cu(this._changeTimeline,this,e?"+":"-")),c(a.playPosition,d?"stop":"play",cu(this._handlePlayClick,this,!d),!0)},a.prototype._renderCurrentPointer=function(e,f,g,a){var c=a.getData(),d=a.getCurrentIndex(),b=c.getItemModel(d).getModel("checkpointStyle"),h=this;this._currentPointer=J5(b,b,this._mainGroup,{},this._currentPointer,{onCreate:function(b){b.draggable=!0,b.drift=cu(h._handlePointerDrag,h),b.ondragend=cu(h._handlePointerDragend,h),J6(b,h._progressLine,d,g,a,!0)},onUpdate:function(b){J6(b,h._progressLine,d,g,a)}})},a.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},a.prototype._handlePointerDrag=function(b,c,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},a.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},a.prototype._pointerChangeTimeline=function(e,f){var a=this._toAxisCoord(e)[0],b=bc(this._axis.getExtent().slice());a>b[1]&&(a=b[1]),a<b[0]&&(a=b[0]),this._currentPointer.x=a,this._currentPointer.markRedraw(),this._progressLine.shape.x2=a,this._progressLine.dirty();var c=this._findNearestTick(a),d=this.model;(f||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},a.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var b=a.model;a._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},a.prototype._toAxisCoord=function(a){return qT(a,this._mainGroup.getLocalTransform(),!0)},a.prototype._findNearestTick=function(c){var a,b=this.model.getData(),d=1/0,e=this._axis;return b.each(["value"],function(f,g){var b=Math.abs(e.dataToCoord(f)-c);b<d&&(d=b,a=g)}),a},a.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},a.prototype._changeTimeline=function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},a.prototype._updateTicksStatus=function(){var d=this.model.getCurrentIndex(),c=this._tickSymbols,b=this._tickLabels;if(c)for(var a=0;a<c.length;a++)c&&c[a]&&c[a].toggleState("progress",a<d);if(b)for(var a=0;a<b.length;a++)b&&b[a]&&b[a].toggleState("progress",J1(b[a]).dataIndex<=d)},a.type="timeline.slider",a}(eH);function J2(a,b){if(b=b||a.get("type"))switch(b){case"category":return new ws({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new wD({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new b0}}function J3(a,b){return nw(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function J4(e,f,a,b){var c=b.style,d=qZ(e.get(["controlStyle",f]),b||{},new as(a[0],a[1],a[2],a[3]));return c&&d.setStyle(c),d}function J5(c,g,h,b,a,d){var i=g.get("color");a?(a.setColor(i),h.add(a),d&&d.onUpdate(a)):((a=rM(c.get("symbol"),-1,-1,2,2,i)).setStyle("strokeNoScale",!0),h.add(a),d&&d.onCreate(a));var j=g.getItemStyle(["color"]);a.setStyle(j),b=an({rectHover:!0,z2:100},b,!0);var e=rN(c.get("symbolSize"));b.scaleX=e[0]/2,b.scaleY=e[1]/2;var f=rO(c.get("symbolOffset"),e);f&&(b.x=(b.x||0)+f[0],b.y=(b.y||0)+f[1]);var k=c.get("symbolRotate");return b.rotation=(k||0)*Math.PI/180||0,a.attr(b),a.updateTransform(),a}function J6(a,b,g,h,e,i){if(!a.dragging){var d=e.getModel("checkpointStyle"),c=h.dataToCoord(e.getData().get("value",g));if(i||!d.get("animation",!0))a.attr({x:c,y:0}),b&&b.attr({shape:{x2:c}});else{var f={duration:d.get("animationDuration",!0),easing:d.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:c,y:0},f),b&&b.animateTo({shape:{x2:c}},f)}}}var J7=eI;function J8(b){var a=b&&b.timeline;cv(a)||(a=a?[a]:[]),j(a,function(a){a&&J9(a)})}function J9(a){var c=a.type,d={number:"value",time:"time"};if(d[c]&&(a.axisType=d[c],delete a.type),Ka(a),Kb(a,"controlPosition")){var b=a.controlStyle||(a.controlStyle={});Kb(b,"position")||(b.position=a.controlPosition),"none"!==b.position||Kb(b,"show")||(b.show=!1,delete b.position),delete a.controlPosition}j(a.data||[],function(a){aq(a)&&!cv(a)&&(!Kb(a,"value")&&Kb(a,"name")&&(a.value=a.name),Ka(a))})}function Ka(b){var d=b.itemStyle||(b.itemStyle={}),c=d.emphasis||(d.emphasis={}),a=b.label||b.label||{},e=a.normal||(a.normal={}),f={normal:1,emphasis:1};j(a,function(b,a){f[a]||Kb(e,a)||(e[a]=b)}),c.label&&!Kb(a,"emphasis")&&(a.emphasis=c.label,delete c.label)}function Kb(a,b){return a.hasOwnProperty(b)}function Kc(a,d){if(!a)return!1;for(var c=cv(a)?a:[a],b=0;b<c.length;b++)if(c[b]&&c[b][d])return!0;return!1}function Kd(a){jx(a,"label",["show"])}var Ke=a(),cl=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.createdBySelf=!1,c}return cp(a,b),a.prototype.init=function(a,c,b){this.mergeDefaultAndTheme(a,b),this._mergeOption(a,b,!1,!0)},a.prototype.isAnimationEnabled=function(){if(u.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},a.prototype.mergeOption=function(a,b){this._mergeOption(a,b,!1,!1)},a.prototype._mergeOption=function(c,a,b,d){var e=this.mainType;b||a.eachSeries(function(b){var c=b.get(this.mainType,!0),f=Ke(b)[e];if(!c||!c.data){Ke(b)[e]=null;return}f?f._mergeOption(c,a,!0):(d&&Kd(c),j(c.data,function(a){a instanceof Array?(Kd(a[0]),Kd(a[1])):Kd(a)}),f=this.createMarkerModelFromSeries(c,this,a),fP(f,{mainType:this.mainType,seriesIndex:b.seriesIndex,name:b.name,createdBySelf:!0}),f.__hostSeries=b),Ke(b)[e]=f},this)},a.prototype.formatTooltip=function(a,e,f){var d=this.getData(),b=this.getRawValue(a),c=d.getName(a);return pl("section",{header:this.name,blocks:[pl("nameValue",{name:c,value:b,noName:!c,noValue:null==b})]})},a.prototype.getData=function(){return this._data},a.prototype.setData=function(a){this._data=a},a.getMarkerModelFromSeries=function(a,b){return Ke(a)[b]},a.type="marker",a.dependencies=["series","grid","polar","geo"],a}(d);h(cl,aK.prototype);var a1=cl,Kf=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.createMarkerModelFromSeries=function(b,c,d){return new a(b,c,d)},a.type="markPoint",a.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},a}(a1);function Kg(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function ak(h,a,i,c,j,e){var b=[],f=uD(a,c)?a.getCalculationInfo("stackResultDimension"):c,k=Kn(a,f,h),d=a.indicesOfNearest(f,k)[0];b[j]=a.get(i,d),b[e]=a.get(f,d);var l=a.get(c,d),g=jf(a.get(c,d));return(g=Math.min(g,20))>=0&&(b[e]=+b[e].toFixed(g)),[b,l]}var Kh={min:m(ak,"min"),max:m(ak,"max"),average:m(ak,"average"),median:m(ak,"median")};function Ki(f,a){var i,d=f.getData(),g=f.coordinateSystem;if(a&&(isNaN(parseFloat((i=a).x))||isNaN(parseFloat(i.y)))&&!cv(a.coord)&&g){var h=g.dimensions,b=Kj(a,d,g,f);if((a=ct(a)).type&&Kh[a.type]&&b.baseAxis&&b.valueAxis){var k=fQ(h,b.baseAxis.dim),l=fQ(h,b.valueAxis.dim),j=Kh[a.type](d,b.baseDataDim,b.valueDataDim,k,l);a.coord=j[0],a.value=j[1]}else{for(var e=[null!=a.xAxis?a.xAxis:a.radiusAxis,null!=a.yAxis?a.yAxis:a.angleAxis],c=0;c<2;c++)Kh[e[c]]&&(e[c]=Kn(d,d.mapDimension(h[c]),e[c]));a.coord=e}}return a}function Kj(b,c,d,e){var a={};return null!=b.valueIndex||null!=b.valueDim?(a.valueDataDim=null!=b.valueIndex?c.getDimension(b.valueIndex):b.valueDim,a.valueAxis=d.getAxis(Kk(e,a.valueDataDim)),a.baseAxis=d.getOtherAxis(a.valueAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim)):(a.baseAxis=e.getBaseAxis(),a.valueAxis=d.getOtherAxis(a.baseAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim),a.valueDataDim=c.mapDimension(a.valueAxis.dim)),a}function Kk(b,c){var a=b.getData().getDimensionInfo(c);return a&&a.coordDim}function Kl(a,b){return!a||!a.containData||!b.coord||!!Kg(b)||a.containData(b.coord)}function Km(a,b){return a?function(a,d,e,c){return oR(c<2?a.coord&&a.coord[c]:a.value,b[c])}:function(a,d,e,c){return oR(a.value,b[c])}}function Kn(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){!isNaN(a)&&(d+=a,e++)}),d/e}return"median"===c?a.getMedian(b):(0,a.getDataExtent(b)["max"===c?1:0])}var Ko=a(),a2=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.init=function(){this.markerGroupMap=s()},a.prototype.render=function(c,b,d){var e=this,a=this.markerGroupMap;a.each(function(a){Ko(a).keep=!1}),b.eachSeries(function(a){var c=a1.getMarkerModelFromSeries(a,e.type);c&&e.renderSeries(a,c,b,d)}),a.each(function(a){Ko(a).keep||e.group.remove(a.group)})},a.prototype.markKeep=function(a){Ko(a).keep=!0},a.prototype.toggleBlurSeries=function(a,b){var c=this;j(a,function(d){var a=a1.getMarkerModelFromSeries(d,c.type);a&&a.getData().eachItemGraphicEl(function(a){a&&(b?lZ(a):l$(a))})})},a.type="marker",a}(g);function Kp(a,b,c){var d=b.coordinateSystem;a.each(function(f){var e,i=a.getItemModel(f),g=je(i.get("x"),c.getWidth()),h=je(i.get("y"),c.getHeight());if(isNaN(g)||isNaN(h)){if(b.getMarkerPosition)e=b.getMarkerPosition(a.getValues(a.dimensions,f));else if(d){var j=a.get(d.dimensions[0],f),k=a.get(d.dimensions[1],f);e=d.dataToPoint([j,k])}}else e=[g,h];isNaN(g)||(e[0]=g),isNaN(h)||(e[1]=h),a.setItemLayout(f,e)})}var eJ=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.updateTransform=function(b,a,c){a.eachSeries(function(a){var b=a1.getMarkerModelFromSeries(a,"markPoint");b&&(Kp(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout())},this)},a.prototype.renderSeries=function(a,b,i,g){var h=a.coordinateSystem,e=a.id,j=a.getData(),f=this.markerGroupMap,c=f.get(e)||f.set(e,new uP),d=Kq(h,a,b);b.setData(d),Kp(b.getData(),a,g),d.each(function(h){var a=d.getItemModel(h),c=a.getShallow("symbol"),e=a.getShallow("symbolSize"),f=a.getShallow("symbolRotate"),g=a.getShallow("symbolOffset"),m=a.getShallow("symbolKeepAspect");if(cw(c)||cw(e)||cw(f)||cw(g)){var i=b.getRawValue(h),k=b.getDataParams(h);cw(c)&&(c=c(i,k)),cw(e)&&(e=e(i,k)),cw(f)&&(f=f(i,k)),cw(g)&&(g=g(i,k))}var l=a.getModel("itemStyle").getItemStyle(),n=rB(j,"color");l.fill||(l.fill=n),d.setItemVisual(h,{symbol:c,symbolSize:e,symbolRotate:f,symbolOffset:g,symbolKeepAspect:m,style:l})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(a){a.traverse(function(a){lz(a).dataModel=b})}),this.markKeep(c),c.group.silent=b.get("silent")||a.get("silent")},a.type="markPoint",a}(a2);function Kq(a,f,c){d=a?Y(a&&a.dimensions,function(a){var b=f.getData().getDimensionInfo(f.getData().mapDimension(a))||{};return fP(fP({},b),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}];var d,e=new uv(d,c),b=Y(c.get("data"),m(Ki,f));a&&(b=fS(b,m(Kl,a)));var g=Km(!!a,d);return e.initData(b,null,g),e}var Kr=eJ,Ks=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.createMarkerModelFromSeries=function(b,c,d){return new a(b,c,d)},a.type="markLine",a.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},a}(a1),Kt=a(),Ku=function(g,l,p,a){var d,h=g.getData();if(cv(a))d=a;else{var e=a.type;if("min"===e||"max"===e||"average"===e||"median"===e||null!=a.xAxis||null!=a.yAxis){var i=void 0,b=void 0;if(null!=a.yAxis||null!=a.xAxis)i=l.getAxis(null!=a.yAxis?"y":"x"),b=cx(a.yAxis,a.xAxis);else{var m=Kj(a,h,l,g);i=m.valueAxis;var q=uE(h,m.valueDataDim);b=Kn(h,q,e)}var j="x"===i.dim?0:1,n=1-j,f=ct(a),k={coord:[]};f.type=null,f.coord=[],f.coord[n]=-1/0,k.coord[n]=1/0;var o=p.get("precision");o>=0&&fV(b)&&(b=+b.toFixed(Math.min(o,20))),f.coord[j]=k.coord[j]=b,d=[f,k,{type:e,valueIndex:a.valueIndex,value:b}]}else d=[]}var c=[Ki(g,d[0]),Ki(g,d[1]),fP({},d[2])];return c[2].type=c[2].type||null,an(c[2],c[0]),an(c[2],c[1]),c};function Kv(a){return!isNaN(a)&&!isFinite(a)}function Kw(a,b,c,d){var e=1-a,f=d.dimensions[a];return Kv(b[e])&&Kv(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function Kx(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(Kw(1,c,d,a)||Kw(0,c,d,a)))return!0}return Kl(a,b[0])&&Kl(a,b[1])}function Ky(a,c,i,h,j){var b,d=h.coordinateSystem,k=a.getItemModel(c),f=je(k.get("x"),j.getWidth()),g=je(k.get("y"),j.getHeight());if(isNaN(f)||isNaN(g)){if(h.getMarkerPosition)b=h.getMarkerPosition(a.getValues(a.dimensions,c));else{var e=d.dimensions,n=a.get(e[0],c),o=a.get(e[1],c);b=d.dataToPoint([n,o])}if(u4(d,"cartesian2d")){var l=d.getAxis("x"),m=d.getAxis("y"),e=d.dimensions;Kv(a.get(e[0],c))?b[0]=l.toGlobalCoord(l.getExtent()[i?0:1]):Kv(a.get(e[1],c))&&(b[1]=m.toGlobalCoord(m.getExtent()[i?0:1]))}isNaN(f)||(b[0]=f),isNaN(g)||(b[1]=g)}else b=[f,g];a.setItemLayout(c,b)}var eK=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.updateTransform=function(b,a,c){a.eachSeries(function(b){var a=a1.getMarkerModelFromSeries(b,"markLine");if(a){var d=a.getData(),e=Kt(a).from,f=Kt(a).to;e.each(function(a){Ky(e,a,!0,b,c),Ky(f,a,!1,b,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(b.id).updateLayout()}},this)},a.prototype.renderSeries=function(b,a,o,p){var l=b.coordinateSystem,j=b.id,q=b.getData(),k=this.markerGroupMap,d=k.get(j)||k.set(j,new BM);this.group.add(d.group);var c=Kz(l,b,a),m=c.from,n=c.to,i=c.line;Kt(a).from=m,Kt(a).to=n,a.setData(i);var e=a.get("symbol"),f=a.get("symbolSize"),g=a.get("symbolRotate"),h=a.get("symbolOffset");function r(d,i,c){var a=d.getItemModel(i);Ky(d,i,c,b,p);var j=a.getModel("itemStyle").getItemStyle();null==j.fill&&(j.fill=rB(q,"color")),d.setItemVisual(i,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:f$(a.get("symbolOffset",!0),h[c?0:1]),symbolRotate:f$(a.get("symbolRotate",!0),g[c?0:1]),symbolSize:f$(a.get("symbolSize"),f[c?0:1]),symbol:f$(a.get("symbol",!0),e[c?0:1]),style:j})}cv(e)||(e=[e,e]),cv(f)||(f=[f,f]),cv(g)||(g=[g,g]),cv(h)||(h=[h,h]),c.from.each(function(a){r(m,a,!0),r(n,a,!1)}),i.each(function(a){var b=i.getItemModel(a).getModel("lineStyle").getLineStyle();i.setItemLayout(a,[m.getItemLayout(a),n.getItemLayout(a)]),null==b.stroke&&(b.stroke=m.getItemVisual(a,"style").fill),i.setItemVisual(a,{fromSymbolKeepAspect:m.getItemVisual(a,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(a,"symbolOffset"),fromSymbolRotate:m.getItemVisual(a,"symbolRotate"),fromSymbolSize:m.getItemVisual(a,"symbolSize"),fromSymbol:m.getItemVisual(a,"symbol"),toSymbolKeepAspect:n.getItemVisual(a,"symbolKeepAspect"),toSymbolOffset:n.getItemVisual(a,"symbolOffset"),toSymbolRotate:n.getItemVisual(a,"symbolRotate"),toSymbolSize:n.getItemVisual(a,"symbolSize"),toSymbol:n.getItemVisual(a,"symbol"),style:b})}),d.updateData(i),c.line.eachItemGraphicEl(function(b){lz(b).dataModel=a,b.traverse(function(b){lz(b).dataModel=a})}),this.markKeep(d),d.group.silent=a.get("silent")||b.get("silent")},a.type="markLine",a}(a2);function Kz(a,i,b){d=a?Y(a&&a.dimensions,function(a){var b=i.getData().getDimensionInfo(i.getData().mapDimension(a))||{};return fP(fP({},b),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}];var d,f=new uv(d,b),g=new uv(d,b),e=new uv([],b),c=Y(b.get("data"),m(Ku,i,a,b));a&&(c=fS(c,m(Kx,a)));var h=Km(!!a,d);return f.initData(Y(c,function(a){return a[0]}),null,h),g.initData(Y(c,function(a){return a[1]}),null,h),e.initData(Y(c,function(a){return a[2]})),e.hasItemOption=!0,{from:f,to:g,line:e}}var KA=eK,KB=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.createMarkerModelFromSeries=function(b,c,d){return new a(b,c,d)},a.type="markArea",a.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},a}(a1),KC=a(),KD=function(f,h,i,g){var b=Ki(f,g[0]),c=Ki(f,g[1]),d=b.coord,e=c.coord;d[0]=cx(d[0],-1/0),d[1]=cx(d[1],-1/0),e[0]=cx(e[0],1/0),e[1]=cx(e[1],1/0);var a=fO([{},b,c]);return a.coord=[b.coord,c.coord],a.x0=b.x,a.y0=b.y,a.x1=c.x,a.y1=c.y,a};function KE(a){return!isNaN(a)&&!isFinite(a)}function KF(b,c,d,e){var a=1-b;return KE(c[a])&&KE(d[a])}function KG(a,b){var c,d,e,f=b.coord[0],g=b.coord[1],h={coord:f,x:b.x0,y:b.y0},i={coord:g,x:b.x1,y:b.y1};if(u4(a,"cartesian2d"))return!!(f&&g&&(KF(1,f,g,a)||KF(0,f,g,a)))||(c=a,d=h,e=i,!c||!c.containZone||!d.coord||!e.coord||!!Kg(d)||!!Kg(e)||c.containZone(d.coord,e.coord));return Kl(a,h)||Kl(a,i)}function KH(c,d,a,h,l){var b,e=h.coordinateSystem,m=c.getItemModel(d),f=je(m.get(a[0]),l.getWidth()),g=je(m.get(a[1]),l.getHeight());if(isNaN(f)||isNaN(g)){if(h.getMarkerPosition)b=h.getMarkerPosition(c.getValues(a,d));else{var i=c.get(a[0],d),j=c.get(a[1],d),k=[i,j];e.clampData&&e.clampData(k,k),b=e.dataToPoint(k,!0)}if(u4(e,"cartesian2d")){var n=e.getAxis("x"),o=e.getAxis("y"),i=c.get(a[0],d),j=c.get(a[1],d);KE(i)?b[0]=n.toGlobalCoord(n.getExtent()["x0"===a[0]?0:1]):KE(j)&&(b[1]=o.toGlobalCoord(o.getExtent()["y0"===a[1]?0:1]))}isNaN(f)||(b[0]=f),isNaN(g)||(b[1]=g)}else b=[f,g];return b}var KI=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],eL=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.updateTransform=function(b,a,c){a.eachSeries(function(b){var a=a1.getMarkerModelFromSeries(b,"markArea");if(a){var d=a.getData();d.each(function(a){var e=Y(KI,function(e){return KH(d,a,e,b,c)});d.setItemLayout(a,e),d.getItemGraphicEl(a).setShape("points",e)})}},this)},a.prototype.renderSeries=function(a,d,h,i){var g=a.coordinateSystem,e=a.id,j=a.getData(),f=this.markerGroupMap,b=f.get(e)||f.set(e,{group:new t});this.group.add(b.group),this.markKeep(b);var c=KJ(g,a,d);d.setData(c),c.each(function(d){var o=Y(KI,function(b){return KH(c,d,b,a,i)}),e=g.getAxis("x").scale,f=g.getAxis("y").scale,l=e.getExtent(),m=f.getExtent(),h=[e.parse(c.get("x0",d)),e.parse(c.get("x1",d))],k=[f.parse(c.get("y0",d)),f.parse(c.get("y1",d))];bc(h),bc(k);var p=!(l[0]>h[1]||l[1]<h[0]||m[0]>k[1]||m[1]<k[0]);c.setItemLayout(d,{points:o,allClipped:!p});var b=c.getItemModel(d).getModel("itemStyle").getItemStyle(),n=rB(j,"color");!b.fill&&(b.fill=n,fT(b.fill)&&(b.fill=hN(b.fill,.4))),b.stroke||(b.stroke=n),c.setItemVisual(d,"style",b)}),c.diff(KC(b).data).add(function(a){var d=c.getItemLayout(a);if(!d.allClipped){var e=new bA({shape:{points:d.points}});c.setItemGraphicEl(a,e),b.group.add(e)}}).update(function(e,g){var a=KC(b).data.getItemGraphicEl(g),f=c.getItemLayout(e);f.allClipped?a&&b.group.remove(a):(a?mk(a,{shape:{points:f.points}},d,e):a=new bA({shape:{points:f.points}}),c.setItemGraphicEl(e,a),b.group.add(a))}).remove(function(a){var c=KC(b).data.getItemGraphicEl(a);b.group.remove(c)}).execute(),c.eachItemGraphicEl(function(a,b){var e=c.getItemModel(b),f=c.getItemVisual(b,"style");a.useStyle(c.getItemVisual(b,"style")),mu(a,mv(e),{labelFetcher:d,labelDataIndex:b,defaultText:c.getName(b)||"",inheritColor:fT(f.fill)?hN(f.fill,1):"#000"}),mc(a,e),l8(a,null,null,e.get(["emphasis","disabled"])),lz(a).dataModel=d}),KC(b).data=c,b.group.silent=d.get("silent")||a.get("silent")},a.type="markArea",a}(a2);function KJ(a,f,c){if(a){var b,d,h=Y(a&&a.dimensions,function(a){var b=f.getData(),c=b.getDimensionInfo(b.mapDimension(a))||{};return fP(fP({},c),{name:a,ordinalMeta:null})});d=Y(["x0","y0","x1","y1"],function(a,b){return{name:a,type:h[b%2].type}}),b=new uv(d,c)}else d=[{name:"value",type:"float"}],b=new uv(d,c);var e=Y(c.get("data"),m(KD,f,a,c));a&&(e=fS(e,m(KG,a)));var g=a?function(b,c,e,a){return oR(b.coord[Math.floor(a/2)][a%2],d[a])}:function(a,c,e,b){return oR(a.value,d[b])};return b.initData(e,null,g),b.hasItemOption=!0,b}var KK=eL,eM=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.layoutMode={type:"box",ignoreSize:!0},c}return cp(a,b),a.prototype.init=function(a,c,b){this.mergeDefaultAndTheme(a,b),a.selected=a.selected||{},this._updateSelector(a)},a.prototype.mergeOption=function(a,c){b.prototype.mergeOption.call(this,a,c),this._updateSelector(a)},a.prototype._updateSelector=function(b){var a=b.selector,c=this.ecModel;!0===a&&(a=b.selector=["all","inverse"]),cv(a)&&j(a,function(b,f){var d,e;fT(b)&&(b={type:b}),a[f]=an(b,(d=c,"all"===(e=b.type)?{type:"all",title:d.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:d.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},a.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var c=!1,b=0;b<a.length;b++){var d=a[b].get("name");if(this.isSelected(d)){this.select(d),c=!0;break}}c||this.select(a[0].get("name"))}},a.prototype._updateData=function(a){var b=[],c=[];a.eachRawSeries(function(d){var e,g=d.name;if(c.push(g),d.legendVisualProvider){var f=d.legendVisualProvider.getAllNames();a.isSeriesFiltered(d)||(c=c.concat(f)),f.length?b=b.concat(f):e=!0}else e=!0;e&&jL(d)&&b.push(d.name)}),this._availableNames=c;var d=this.get("data")||b,e=Y(d,function(a){return(fT(a)||fV(a))&&(a={name:a}),new _(a,this,this.ecModel)},this);this._data=e},a.prototype.getData=function(){return this._data},a.prototype.select=function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&j(this._data,function(a){b[a.get("name")]=!1}),b[a]=!0},a.prototype.unSelect=function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},a.prototype.toggleSelected=function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},a.prototype.allSelect=function(){var a=this._data,b=this.option.selected;j(a,function(a){b[a.get("name",!0)]=!0})},a.prototype.inverseSelect=function(){var a=this._data,b=this.option.selected;j(a,function(c){var a=c.get("name",!0);b.hasOwnProperty(a)||(b[a]=!0),b[a]=!b[a]})},a.prototype.isSelected=function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&fQ(this._availableNames,a)>=0},a.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},a.type="legend.plain",a.dependencies=["series"],a.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},a}(d),KL=m,KM=j,KN=t,eN=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.newlineDisabled=!1,c}return cp(a,b),a.prototype.init=function(){this.group.add(this._contentGroup=new KN),this.group.add(this._selectorGroup=new KN),this._isFirstRender=!0},a.prototype.getContentGroup=function(){return this._contentGroup},a.prototype.getSelectorGroup=function(){return this._selectorGroup},a.prototype.render=function(a,l,e){var m=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),a.get("show",!0)){var b=a.get("align"),f=a.get("orient");b&&"auto"!==b||(b="right"===a.get("left")&&"vertical"===f?"right":"left");var g=a.get("selector",!0),c=a.get("selectorPosition",!0);g&&(!c||"auto"===c)&&(c="horizontal"===f?"end":"start"),this.renderInner(b,a,l,e,g,f,c);var h=a.getBoxLayoutParams(),i={width:e.getWidth(),height:e.getHeight()},j=a.get("padding"),n=nw(h,i,j),d=this.layoutInner(a,b,n,m,g,c),k=nw(x({width:d.width,height:d.height},h),i,j);this.group.x=k.x-d.x,this.group.y=k.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ID(d,a))}},a.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},a.prototype.renderInner=function(g,a,c,d,b,e,f){var h=this.getContentGroup(),i=s(),j=a.get("selectedMode"),k=[];c.eachRawSeries(function(a){a.get("legendHoverLink")||k.push(a.id)}),KM(a.getData(),function(l,n){var b=l.get("name");if(!this.newlineDisabled&&(""===b||"\n"===b)){var m=new KN;m.newline=!0,h.add(m);return}var e=c.getSeriesByName(b)[0];if(!i.get(b)){if(e){var f=e.getData(),o=f.getVisual("legendLineStyle")||{},p=f.getVisual("legendIcon"),q=f.getVisual("style"),r=this._createItem(e,b,n,l,a,g,o,q,p,j,d);r.on("click",KL(KQ,b,null,d,k)).on("mouseover",KL(KS,e.name,null,d,k)).on("mouseout",KL(KT,e.name,null,d,k)),i.set(b,!0)}else c.eachRawSeries(function(h){if(!i.get(b)&&h.legendVisualProvider){var c=h.legendVisualProvider;if(c.containName(b)){var m=c.indexOfName(b),e=c.getItemVisual(m,"style"),o=c.getItemVisual(m,"legendIcon"),f=hI(e.fill);f&&0===f[3]&&(f[3]=.2,e=fP(fP({},e),{fill:hO(f,"rgba")})),this._createItem(h,b,n,l,a,g,{},e,o,j,d).on("click",KL(KQ,null,b,d,k)).on("mouseover",KL(KS,null,b,d,k)).on("mouseout",KL(KT,null,b,d,k)),i.set(b,!0)}}},this)}},this),b&&this._createSelector(b,a,d,e,f)},a.prototype._createSelector=function(a,b,c,d,e){var f=this.getSelectorGroup();KM(a,function(d){var h=d.type,a=new bh({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){c.dispatchAction({type:"all"===h?"legendAllSelect":"legendInverseSelect"})}});f.add(a);var e=b.getModel("selectorLabel"),g=b.getModel(["emphasis","selectorLabel"]);mu(a,{normal:e,emphasis:g},{defaultText:d.title}),l7(a)})},a.prototype._createItem=function(d,c,t,b,e,o,u,v,f,w,x){var y=d.visualDrawType,j=e.get("itemWidth"),k=e.get("itemHeight"),p=e.isSelected(c),l=b.get("symbolRotate"),q=b.get("symbolKeepAspect"),h=b.get("icon");f=h||f||"roundRect";var i=KO(f,b,u,v,y,p,x),a=new KN,r=b.getModel("textStyle");if(cw(d.getLegendIcon)&&(!h||"inherit"===h))a.add(d.getLegendIcon({itemWidth:j,itemHeight:k,icon:f,iconRotate:l,itemStyle:i.itemStyle,lineStyle:i.lineStyle,symbolKeepAspect:q}));else{var A="inherit"===h&&d.getData().getVisual("symbol")?"inherit"===l?d.getData().getVisual("symbolRotate"):l:0;a.add(KP({itemWidth:j,itemHeight:k,icon:f,iconRotate:A,itemStyle:i.itemStyle,lineStyle:i.lineStyle,symbolKeepAspect:q}))}var g=e.get("formatter"),m=c;fT(g)&&g?m=g.replace("{name}",null!=c?c:""):cw(g)&&(m=g(c));var B=b.get("inactiveColor");a.add(new bh({style:mw(r,{text:m,x:"left"===o?j+5:-5,y:k/2,fill:p?r.getTextColor():B,align:o,verticalAlign:"middle"})}));var n=new z({shape:a.getBoundingRect(),invisible:!0}),s=b.getModel("tooltip");return s.get("show")&&q1({el:n,componentModel:e,itemName:c,itemTooltipOption:s.option}),a.add(n),a.eachChild(function(a){a.silent=!0}),n.silent=!w,this.getContentGroup().add(a),l7(a),a.__legendDataIndex=t,a},a.prototype.layoutInner=function(e,q,m,r,o,p){var a=this.getContentGroup(),f=this.getSelectorGroup();nu(e.get("orient"),a,e.get("itemGap"),m.width,m.height);var d=a.getBoundingRect(),g=[-d.x,-d.y];if(f.markRedraw(),a.markRedraw(),!o)return a.x=g[0],a.y=g[1],this.group.getBoundingRect();nu("horizontal",f,e.get("selectorItemGap",!0));var b=f.getBoundingRect(),h=[-b.x,-b.y],l=e.get("selectorButtonGap",!0),c=e.getOrient().index,i=0===c?"width":"height",j=0===c?"height":"width",n=0===c?"y":"x";"end"===p?h[c]+=d[i]+l:g[c]+=b[i]+l,h[1-c]+=d[j]/2-b[j]/2,f.x=h[0],f.y=h[1],a.x=g[0],a.y=g[1];var k={x:0,y:0};return k[i]=d[i]+l+b[i],k[j]=Math.max(d[j],b[j]),k[n]=Math.min(0,b[n]+h[1-c]),k},a.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},a.type="legend.plain",a}(g);function KO(l,d,g,b,h,m,n){function i(a,b){"auto"===a.lineWidth&&(a.lineWidth=b.lineWidth>0?2:0),KM(a,function(d,c){"inherit"===a[c]&&(a[c]=b[c])})}var j=d.getModel("itemStyle"),a=j.getItemStyle(),k=0===l.lastIndexOf("empty",0)?"fill":"stroke",e=j.getShallow("decal");a.decal=e&&"inherit"!==e?sc(e,n):b.decal,"inherit"===a.fill&&(a.fill=b[h]),"inherit"===a.stroke&&(a.stroke=b[k]),"inherit"===a.opacity&&(a.opacity=("fill"===h?b:g).opacity),i(a,b);var f=d.getModel("lineStyle"),c=f.getLineStyle();if(i(c,g),"auto"===a.fill&&(a.fill=b.fill),"auto"===a.stroke&&(a.stroke=b.fill),"auto"===c.stroke&&(c.stroke=b.fill),!m){var o=d.get("inactiveBorderWidth"),p=a[k];a.lineWidth="auto"===o?b.lineWidth>0&&p?2:0:a.lineWidth,a.fill=d.get("inactiveColor"),a.stroke=d.get("inactiveBorderColor"),c.stroke=f.get("inactiveColor"),c.lineWidth=f.get("inactiveWidth")}return{itemStyle:a,lineStyle:c}}function KP(a){var c=a.icon||"roundRect",b=rM(c,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return b.setStyle(a.itemStyle),b.rotation=(a.iconRotate||0)*Math.PI/180,b.setOrigin([a.itemWidth/2,a.itemHeight/2]),c.indexOf("empty")> -1&&(b.style.stroke=b.style.fill,b.style.fill="#fff",b.style.lineWidth=2),b}function KQ(a,b,c,d){KT(a,b,c,d),c.dispatchAction({type:"legendToggleSelect",name:null!=a?a:b}),KS(a,b,c,d)}function KR(d){for(var a,c=d.getZr().storage.getDisplayList(),b=0,e=c.length;b<e&&!(a=c[b].states.emphasis);)b++;return a&&a.hoverLayer}function KS(b,c,a,d){KR(a)||a.dispatchAction({type:"highlight",seriesName:b,name:c,excludeSeriesId:d})}function KT(b,c,a,d){KR(a)||a.dispatchAction({type:"downplay",seriesName:b,name:c,excludeSeriesId:d})}var eO=eN;function KU(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(c){for(var a=0;a<b.length;a++)if(!b[a].isSelected(c.name))return!1;return!0})}function KV(a,c,d){var e,b={},f="toggleSelected"===a;return d.eachComponent("legend",function(d){f&&null!=e?d[e?"select":"unSelect"](c.name):"allSelect"===a||"inverseSelect"===a?d[a]():(d[a](c.name),e=d.isSelected(c.name)),j(d.getData(),function(e){var a=e.get("name");if("\n"!==a&&""!==a){var c=d.isSelected(a);b.hasOwnProperty(a)?b[a]=b[a]&&c:b[a]=c}})}),"allSelect"===a||"inverseSelect"===a?{selected:b}:{name:c.name,selected:b}}function KW(a){var b;a.registerComponentModel(eM),a.registerComponentView(eO),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,KU),a.registerSubTypeDefaulter("legend",function(){return"plain"}),(b=a).registerAction("legendToggleSelect","legendselectchanged",m(KV,"toggleSelected")),b.registerAction("legendAllSelect","legendselectall",m(KV,"allSelect")),b.registerAction("legendInverseSelect","legendinverseselect",m(KV,"inverseSelect")),b.registerAction("legendSelect","legendselected",m(KV,"select")),b.registerAction("legendUnSelect","legendunselected",m(KV,"unSelect"))}var eP=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},a.prototype.init=function(a,c,d){var e=nA(a);b.prototype.init.call(this,a,c,d),KX(this,a,e)},a.prototype.mergeOption=function(a,c){b.prototype.mergeOption.call(this,a,c),KX(this,this.option,a)},a.type="legend.scroll",a.defaultOption=mP(eM.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),a}(eM);function KX(b,c,d){var e=b.getOrient(),a=[1,1];a[e.index]=0,nz(c,d,{type:"box",ignoreSize:!!a})}var KY=eP,KZ=t,K$=["width","height"],K_=["x","y"],K0=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.newlineDisabled=!0,c._currentIndex=0,c}return cp(a,b),a.prototype.init=function(){b.prototype.init.call(this),this.group.add(this._containerGroup=new KZ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new KZ)},a.prototype.resetInner=function(){b.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},a.prototype.renderInner=function(e,c,f,g,h,i,j){var m=this;b.prototype.renderInner.call(this,e,c,f,g,h,i,j);var k=this._controllerGroup,a=c.get("pageIconSize",!0),n=cv(a)?a:[a,a];l("pagePrev",0);var d=c.getModel("pageTextStyle");function l(a,d){var b=qZ(c.get("pageIcons",!0)[c.getOrient().name][d],{onclick:cu(m._pageGo,m,a+"DataIndex",c,g)},{x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1]});b.name=a,k.add(b)}k.add(new bh({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),l("pageNext",1)},a.prototype.layoutInner=function(i,r,l,p,k,q){var g=this.getSelectorGroup(),b=i.getOrient().index,c=K$[b],m=K_[b],e=K$[1-b],h=K_[1-b];k&&nu("horizontal",g,i.get("selectorItemGap",!0));var j=i.get("selectorButtonGap",!0),d=g.getBoundingRect(),f=[-d.x,-d.y],n=ct(l);k&&(n[c]=l[c]-d[c]-j);var a=this._layoutContentAndController(i,p,n,b,c,e,h,m);if(k){if("end"===q)f[b]+=a[c]+j;else{var o=d[c]+j;f[b]-=o,a[m]-=o}a[c]+=d[c]+j,f[1-b]+=a[h]+a[e]/2-d[e]/2,a[e]=Math.max(a[e],d[e]),a[h]=Math.min(a[h],d[h]+f[1-b]),g.x=f[0],g.y=f[1],g.markRedraw()}return a},a.prototype._layoutContentAndController=function(b,t,d,e,a,f,p,u){var h=this.getContentGroup(),j=this._containerGroup,k=this._controllerGroup;nu(b.get("orient"),h,b.get("itemGap"),e?d.width:null,e?null:d.height),nu("horizontal",k,b.get("pageButtonItemGap",!0));var g=h.getBoundingRect(),c=k.getBoundingRect(),l=this._showController=g[a]>d[a],q=[-g.x,-g.y];t||(q[e]=h[u]);var r=[0,0],m=[-c.x,-c.y],s=f$(b.get("pageButtonGap",!0),b.get("itemGap",!0));l&&("end"===b.get("pageButtonPosition",!0)?m[e]+=d[a]-c[a]:r[e]+=c[a]+s),m[1-e]+=g[f]/2-c[f]/2,h.setPosition(q),j.setPosition(r),k.setPosition(m);var i={x:0,y:0};if(i[a]=l?d[a]:g[a],i[f]=Math.max(g[f],c[f]),i[p]=Math.min(0,c[p]+m[1-e]),j.__rectSize=d[a],l){var n={x:0,y:0};n[a]=Math.max(d[a]-c[a]-s,0),n[f]=i[f],j.setClipPath(new z({shape:n})),j.__rectSize=n[a]}else k.eachChild(function(a){a.attr({invisible:!0,silent:!0})});var o=this._getPageInfo(b);return null!=o.pageIndex&&mk(h,{x:o.contentPosition[0],y:o.contentPosition[1]},l?b:null),this._updatePageInfoView(b,o),i},a.prototype._pageGo=function(c,a,d){var b=this._getPageInfo(a)[c];null!=b&&d.dispatchAction({type:"legendScroll",scrollDataIndex:b,legendId:a.id})},a.prototype._updatePageInfoView=function(g,d){var h=this._controllerGroup;j(["pagePrev","pageNext"],function(b){var c=null!=d[b+"DataIndex"],a=h.childOfName(b);a&&(a.setStyle("fill",c?g.get("pageIconColor",!0):g.get("pageIconInactiveColor",!0)),a.cursor=c?"pointer":"default")});var e=h.childOfName("pageText"),a=g.get("pageFormatter"),f=d.pageIndex,b=null!=f?f+1:0,c=d.pageCount;e&&a&&e.setStyle("text",fT(a)?a.replace("{current}",null==b?"":b+"").replace("{total}",null==c?"":c+""):a({current:b,total:c}))},a.prototype._getPageInfo=function(k){var o=k.get("scrollDataIndex",!0),h=this.getContentGroup(),p=this._containerGroup.__rectSize,i=k.getOrient().index,q=K$[i],r=K_[i],j=this._findTargetItemIndex(o),g=h.children(),l=g[j],m=g.length,n=m?1:0,a={contentPosition:[h.x,h.y],pageCount:n,pageIndex:n-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return a;var f=s(l);a.contentPosition[i]=-f.s;for(var e=j+1,b=f,d=f,c=null;e<=m;++e)(!(c=s(g[e]))&&d.e>b.s+p||c&&!t(c,b.s))&&(b=d.i>b.i?d:c)&&(null==a.pageNextDataIndex&&(a.pageNextDataIndex=b.i),++a.pageCount),d=c;for(var e=j-1,b=f,d=f,c=null;e>= -1;--e)(!(c=s(g[e]))||!t(d,c.s))&&b.i<d.i&&(d=b,null==a.pagePrevDataIndex&&(a.pagePrevDataIndex=b.i),++a.pageCount,++a.pageIndex),b=c;return a;function s(a){if(a){var b=a.getBoundingRect(),c=b[r]+a[r];return{s:c,e:c+b[q],i:a.__legendDataIndex}}}function t(a,b){return a.e>=b&&a.s<=b+p}},a.prototype._findTargetItemIndex=function(c){var a,b;return this._showController?(this.getContentGroup().eachChild(function(f,d){var e=f.__legendDataIndex;null==b&&null!=e&&(b=d),e===c&&(a=d)}),null!=a?a:b):0},a.type="legend.scroll",a}(eO);function K1(a){b(KW),a.registerComponentModel(KY),a.registerComponentView(K0),function(a){a.registerAction("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})})}(a)}var K2=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="dataZoom.inside",a.defaultOption=mP(a_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),a}(a_),K3=a();function K4(c,a){if(a){c.removeKey(a.model.uid);var b=a.controller;b&&b.dispose()}}function K5(a,b){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:b})}function K6(a,d,b,c){return a.coordinateSystem.containPoint([b,c])}var eQ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="dataZoom.inside",a}return cp(a,b),a.prototype.render=function(a,d,c){if(b.prototype.render.apply(this,arguments),a.noTarget()){this._clear();return}this.range=a.getPercentRange(),function(a,b,c){K3(a).coordSysRecordMap.each(function(d){var a=d.dataZoomInfoMap.get(b.uid);a&&(a.getRange=c)})}(c,a,{pan:cu(K7.pan,this),zoom:cu(K7.zoom,this),scrollMove:cu(K7.scrollMove,this)})},a.prototype.dispose=function(){this._clear(),b.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){(function(g,h){for(var b=K3(g).coordSysRecordMap,d=b.keys(),c=0;c<d.length;c++){var i=d[c],e=b.get(i),a=e.dataZoomInfoMap;if(a){var f=h.uid;a.get(f)&&(a.removeKey(f),a.keys().length||K4(b,e))}}})(this.api,this.dataZoomModel),this.range=null},a.type="dataZoom.inside",a}(a0),K7={zoom:function(f,j,k,d){var e=this.range,a=e.slice(),g=f.axisModels[0];if(g){var b=K9[j](null,[d.originX,d.originY],g,k,f),c=(b.signal>0?b.pixelStart+b.pixelLength-b.pixel:b.pixel-b.pixelStart)/b.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/d.scale,0);a[0]=(a[0]-c)*h+c,a[1]=(a[1]-c)*h+c;var i=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ct(0,a,[0,100],0,i.minSpan,i.maxSpan),this.range=a,e[0]!==a[0]||e[1]!==a[1])return a}},pan:K8(function(c,d,e,f,g,a){var b=K9[f]([a.oldX,a.oldY],[a.newX,a.newY],d,g,e);return b.signal*(c[1]-c[0])*b.pixel/b.pixelLength}),scrollMove:K8(function(b,c,d,e,f,a){return K9[e]([0,0],[a.scrollDelta,a.scrollDelta],c,f,d).signal*(b[1]-b[0])*a.scrollDelta})};function K8(a){return function(d,f,g,h){var c=this.range,b=c.slice(),e=d.axisModels[0];if(e&&(Ct(a(b,e,d,f,g,h),b,[0,100],"all"),this.range=b,c[0]!==b[0]||c[1]!==b[1]))return b}}var K9={grid:function(b,e,f,h,g){var d=f.axis,a={},c=g.model.coordinateSystem.getRect();return b=b||[0,0],"x"===d.dim?(a.pixel=e[0]-b[0],a.pixelLength=c.width,a.pixelStart=c.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-b[1],a.pixelLength=c.height,a.pixelStart=c.y,a.signal=d.inverse?-1:1),a},polar:function(b,c,g,j,i){var h=g.axis,a={},d=i.model.coordinateSystem,e=d.getRadiusAxis().getExtent(),f=d.getAngleAxis().getExtent();return b=b?d.pointToCoord(b):[0,0],c=d.pointToCoord(c),"radiusAxis"===g.mainType?(a.pixel=c[0]-b[0],a.pixelLength=e[1]-e[0],a.pixelStart=e[0],a.signal=h.inverse?1:-1):(a.pixel=c[1]-b[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=h.inverse?-1:1),a},singleAxis:function(b,e,f,h,g){var d=f.axis,c=g.model.coordinateSystem.getRect(),a={};return b=b||[0,0],"horizontal"===d.orient?(a.pixel=e[0]-b[0],a.pixelLength=c.width,a.pixelStart=c.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-b[1],a.pixelLength=c.height,a.pixelStart=c.y,a.signal=d.inverse?-1:1),a}},La=eQ;function eR(a){Ix(a),a.registerComponentModel(K2),a.registerComponentView(La),function(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(c,d){var a=K3(d),b=a.coordSysRecordMap||(a.coordSysRecordMap=s());b.each(function(a){a.dataZoomInfoMap=null}),c.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var c=Im(a);j(c.infoList,function(c){var e,f,g,k,h=c.model.uid,i=b.get(h)||b.set(h,(e=d,k=(g={model:f=c.model,containsPoint:m(K6,f),dispatchAction:m(K5,e),dataZoomInfoMap:null,controller:null}).controller=new yb(e.getZr()),j(["pan","zoom","scrollMove"],function(a){k.on(a,function(c){var b=[];g.dataZoomInfoMap.each(function(d){if(c.isAvailableBehavior(d.model.option)){var f=(d.getRange||{})[a],e=f&&f(d.dzReferCoordSysInfo,g.model.mainType,g.controller,c);!d.model.get("disabled",!0)&&e&&b.push({dataZoomId:d.model.id,start:e[0],end:e[1]})}}),b.length&&g.dispatchAction(b)})}),g));(i.dataZoomInfoMap||(i.dataZoomInfoMap=s())).set(a.uid,{dzReferCoordSysInfo:c,model:a,getRange:null})})}),b.each(function(a){var d,e=a.controller,c=a.dataZoomInfoMap;if(c){var f=c.keys()[0];null!=f&&(d=c.get(f))}if(!d){K4(b,a);return}var i,j,k,l,g,h=(k="type_",l={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0,(i=c).each(function(c){var a=c.model,b=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");l[k+b]>l[k+j]&&(j=b),g=g&&a.get("preventDefaultMouseMove",!0)}),{controlType:j,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}});e.enable(h.controlType,h.opt),e.setPointerChecker(a.containsPoint),re(a,"dispatchAction",d.model.get("throttle",!0),"fixRate")})})}(a)}var Lb=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.type="dataZoom.slider",a.layoutMode="box",a.defaultOption=mP(a_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),a}(a_),Lc=z,Ld="horizontal",Le="vertical",Lf=["line","bar","candlestick","scatter"],Lg={easing:"cubicOut",duration:100,delay:0},eS=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._displayables={},c}return cp(a,b),a.prototype.init=function(b,a){this.api=a,this._onBrush=cu(this._onBrush,this),this._onBrushEnd=cu(this._onBrushEnd,this)},a.prototype.render=function(a,d,e,c){if(b.prototype.render.apply(this,arguments),re(this,"_dispatchZoomAction",a.get("throttle"),"fixRate"),this._orient=a.getOrient(),!1===a.get("show")){this.group.removeAll();return}if(a.noTarget()){this._clear(),this.group.removeAll();return}c&&"dataZoom"===c.type&&c.from===this.uid||this._buildView(),this._updateView()},a.prototype.dispose=function(){this._clear(),b.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){rf(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},a.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var b=this._displayables.sliderGroup=new t;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},a.prototype._resetLocation=function(){var d=this.dataZoomModel,e=this.api,f=d.get("brushSelect"),a=this._findCoordRect(),c={width:e.getWidth(),height:e.getHeight()},h=this._orient===Ld?{right:c.width-a.x-a.width,top:c.height-30-7-(f?7:0),width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},g=nA(d.option);j(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=h[a])});var b=nw(g,c);this._location={x:b.x,y:b.y},this._size=[b.width,b.height],this._orient===Le&&this._size.reverse()},a.prototype._positionGroup=function(){var a=this.group,e=this._location,c=this._orient,f=this.dataZoomModel.getFirstTargetAxisModel(),d=f&&f.get("inverse"),g=this._displayables.sliderGroup,b=(this._dataShadowInfo||{}).otherAxisInverse;g.attr(c!==Ld||d?c===Ld&&d?{scaleY:b?1:-1,scaleX:-1}:c!==Le||d?{scaleY:b?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:b?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:b?1:-1,scaleX:1});var h=a.getBoundingRect([g]);a.x=e.x-h.x,a.y=e.y-h.y,a.markRedraw()},a.prototype._getViewExtent=function(){return[0,this._size[0]]},a.prototype._renderBackground=function(){var d=this.dataZoomModel,a=this._size,e=this._displayables.sliderGroup,f=d.get("brushSelect");e.add(new Lc({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:d.get("backgroundColor")},z2:-40}));var c=new Lc({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:cu(this._onClickPanel,this)}),b=this.api.getZr();f?(c.on("mousedown",this._onBrushStart,this),c.cursor="crosshair",b.on("mousemove",this._onBrush),b.on("mouseup",this._onBrushEnd)):(b.off("mousemove",this._onBrush),b.off("mouseup",this._onBrushEnd)),e.add(c)},a.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var a=this._size,h=this._shadowSize||[],f=e.series,b=f.getRawData(),c=f.getShadowDim?f.getShadowDim():e.otherDim;if(null!=c){var k=this._shadowPolygonPts,l=this._shadowPolylinePts;if(b!==this._shadowData||c!==this._shadowDim||a[0]!==h[0]||a[1]!==h[1]){var p,d=b.getDataExtent(c),i=(d[1]-d[0])*.3;d=[d[0]-i,d[1]+i];var q=[0,a[1]],m=[0,a[0]],n=[[a[0],0],[0,0]],o=[],r=m[1]/(b.count()-1),s=0,u=Math.round(b.count()/a[0]);b.each([c],function(a,c){if(u>0&&c%u){s+=r;return}var b=null==a||isNaN(a)||""===a,e=b?0:bb(a,d,q,!0);b&&!p&&c?(n.push([n[n.length-1][0],0]),o.push([o[o.length-1][0],0])):!b&&p&&(n.push([s,0]),o.push([s,0])),n.push([s,e]),o.push([s,e]),s+=r,p=b}),k=this._shadowPolygonPts=n,l=this._shadowPolylinePts=o}this._shadowData=b,this._shadowDim=c,this._shadowSize=[a[0],a[1]];for(var v=this.dataZoomModel,g=0;g<3;g++){var j=w(1===g);this._displayables.sliderGroup.add(j),this._displayables.dataShadowSegs.push(j)}}}function w(c){var b=v.getModel(c?"selectedDataBackground":"dataBackground"),a=new t,d=new bA({shape:{points:k},segmentIgnoreThreshold:1,style:b.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),e=new c8({shape:{points:l},segmentIgnoreThreshold:1,style:b.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return a.add(d),a.add(e),a}},a.prototype._prepareDataShadowInfo=function(){var b,a=this.dataZoomModel,c=a.get("showDataShadow");if(!1!==c){var d=this.ecModel;return a.eachTargetAxis(function(e,f){var g=a.getAxisProxy(e,f).getTargetSeriesModels();j(g,function(a){if(!(b|| !0!==c&&0>fQ(Lf,a.get("type")))){var k,h,i=d.getComponent((k=e)+"Axis",f).axis,g=Lh(e),j=a.coordinateSystem;null!=g&&j.getOtherAxis&&(h=j.getOtherAxis(i).inverse),g=a.getData().mapDimension(g),b={thisAxis:i,series:a,thisDim:e,otherDim:g,otherAxisInverse:h}}},this)},this),b}},a.prototype._renderHandle=function(){var o=this.group,c=this._displayables,p=c.handles=[null,null],q=c.handleLabels=[null,null],d=this._displayables.sliderGroup,b=this._size,a=this.dataZoomModel,r=this.api,n=a.get("borderRadius")||0,i=a.get("brushSelect"),k=c.filler=new Lc({silent:i,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});d.add(k),d.add(new Lc({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:b[0],height:b[1],r:n},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),j([0,1],function(e){var c=a.get("handleIcon");!rJ[c]&&0>c.indexOf("path://")&&0>c.indexOf("image://")&&(c="path://"+c);var b=rM(c,-1,0,2,2,null,!0);b.attr({cursor:Li(this._orient),draggable:!0,drift:cu(this._onDragMove,this,e),ondragend:cu(this._onDragEnd,this),onmouseover:cu(this._showDataInfo,this,!0),onmouseout:cu(this._showDataInfo,this,!1),z2:5});var g=b.getBoundingRect(),i=a.get("handleSize");this._handleHeight=je(i,this._size[1]),this._handleWidth=g.width/g.height*this._handleHeight,b.setStyle(a.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),l7(b);var h=a.get("handleColor");null!=h&&(b.style.fill=h),d.add(p[e]=b);var f=a.getModel("textStyle");o.add(q[e]=new bh({silent:!0,invisible:!0,style:mw(f,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:f.getTextColor(),font:f.getFont()}),z2:10}))},this);var g=k;if(i){var e=je(a.get("moveHandleSize"),b[1]),l=c.moveHandle=new z({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:b[1]-.5,height:e}}),f=.8*e,h=c.moveHandleIcon=rM(a.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);h.silent=!0,h.y=b[1]+e/2-.5,l.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(b[1]/2,Math.max(e,10));(g=c.moveZone=new z({invisible:!0,shape:{y:b[1]-m,height:e+m}})).on("mouseover",function(){r.enterEmphasis(l)}).on("mouseout",function(){r.leaveEmphasis(l)}),d.add(l),d.add(h),d.add(g)}g.attr({draggable:!0,cursor:Li(this._orient),drift:cu(this._onDragMove,this,"all"),ondragstart:cu(this._showDataInfo,this,!0),ondragend:cu(this._onDragEnd,this),onmouseover:cu(this._showDataInfo,this,!0),onmouseout:cu(this._showDataInfo,this,!1)})},a.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[bb(a[0],[0,100],b,!0),bb(a[1],[0,100],b,!0)]},a.prototype._updateInterval=function(h,i){var f=this.dataZoomModel,d=this._handleEnds,a=this._getViewExtent(),b=f.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];Ct(i,d,a,f.get("zoomLock")?"all":h,null!=b.minSpan?bb(b.minSpan,c,a,!0):null,null!=b.maxSpan?bb(b.maxSpan,c,a,!0):null);var e=this._range,g=this._range=bc([bb(d[0],a,c,!0),bb(d[1],a,c,!0)]);return!e||e[0]!==g[0]||e[1]!==g[1]},a.prototype._updateView=function(k){var a=this._displayables,l=this._handleEnds,b=bc(l.slice()),f=this._size;j([0,1],function(b){var d=a.handles[b],c=this._handleHeight;d.attr({scaleX:c/2,scaleY:c/2,x:l[b]+(b?-1:1),y:f[1]/2-c/2})},this),a.filler.setShape({x:b[0],y:0,width:b[1]-b[0],height:f[1]});var d={x:b[0],width:b[1]-b[0]};a.moveHandle&&(a.moveHandle.setShape(d),a.moveZone.setShape(d),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",d.x+d.width/2));for(var h=a.dataShadowSegs,g=[0,b[0],b[1],f[0]],c=0;c<h.length;c++){var i=h[c],e=i.getClipPath();e||(e=new z,i.setClipPath(e)),e.setShape({x:g[c],y:0,width:g[c+1]-g[c],height:f[1]})}this._updateDataInfo(k)},a.prototype._updateDataInfo=function(g){var b=this.dataZoomModel,h=this._displayables,j=h.handleLabels,k=this._orient,i=["",""];if(b.get("showDetail")){var a=b.findRepresentativeAxisProxy();if(a){var c=a.getAxisModel().axis,d=this._range,e=g?a.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:a.getDataValueWindow();i=[this._formatLabel(e[0],c),this._formatLabel(e[1],c)]}}var l=bc(this._handleEnds.slice());function f(a){var b=qS(h.handles[a].parent,this.group),c=qU(0===a?"right":"left",b),d=this._handleWidth/2+5,e=qT([l[a]+(0===a?-d:d),this._size[1]/2],b);j[a].setStyle({x:e[0],y:e[1],verticalAlign:k===Ld?"middle":c,align:k===Ld?c:"center",text:i[a]})}f.call(this,0),f.call(this,1)},a.prototype._formatLabel=function(a,b){var f=this.dataZoomModel,c=f.get("labelFormatter"),d=f.get("labelPrecision");(null==d||"auto"===d)&&(d=b.getPixelPrecision());var e=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(d,20));return cw(c)?c(a,e):fT(c)?c.replace("{value}",e):e},a.prototype._showDataInfo=function(a){a=this._dragging||a;var b=this._displayables,c=b.handleLabels;c[0].attr("invisible",!a),c[1].attr("invisible",!a),b.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](b.moveHandle,1)},a.prototype._onDragMove=function(b,c,d,e){this._dragging=!0,gK(e.event);var f=qT([c,d],this._displayables.sliderGroup.getLocalTransform(),!0),g=this._updateInterval(b,f[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),g&&a&&this._dispatchZoomAction(!0)},a.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},a.prototype._onClickPanel=function(b){var c=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(b.offsetX,b.offsetY);if(!(a[0]<0)&&!(a[0]>c[0])&&!(a[1]<0)&&!(a[1]>c[1])){var d=this._handleEnds,e=(d[0]+d[1])/2,f=this._updateInterval("all",a[0]-e);this._updateView(),f&&this._dispatchZoomAction(!1)}},a.prototype._onBrushStart=function(a){var b=a.offsetX,c=a.offsetY;this._brushStart=new k(b,c),this._brushing=!0,this._brushStartTime=+new Date},a.prototype._onBrushEnd=function(e){if(this._brushing){var b=this._displayables.brushRect;if(this._brushing=!1,b){b.attr("ignore",!0);var a=b.shape;if(!(+new Date-this._brushStartTime<200&&5>Math.abs(a.width))){var c=this._getViewExtent(),d=[0,100];this._range=bc([bb(a.x,c,d,!0),bb(a.x+a.width,c,d,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},a.prototype._onBrush=function(a){this._brushing&&(gK(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},a.prototype._updateBrushRect=function(h,i){var b=this._displayables,j=this.dataZoomModel,a=b.brushRect;a||(a=b.brushRect=new Lc({silent:!0,style:j.getModel("brushStyle").getItemStyle()}),b.sliderGroup.add(a)),a.attr("ignore",!1);var d=this._brushStart,e=this._displayables.sliderGroup,c=e.transformCoordToLocal(h,i),f=e.transformCoordToLocal(d.x,d.y),g=this._size;c[0]=Math.max(Math.min(g[0],c[0]),0),a.setShape({x:f[0],y:0,width:c[0]-f[0],height:g[1]})},a.prototype._dispatchZoomAction=function(b){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:b?Lg:null,start:a[0],end:a[1]})},a.prototype._findCoordRect=function(){var a,b=Im(this.dataZoomModel).infoList;if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}if(!a){var d=this.api.getWidth(),e=this.api.getHeight();a={x:.2*d,y:.2*e,width:.6*d,height:.6*e}}return a},a.type="dataZoom.slider",a}(a0);function Lh(a){return({x:"y",y:"x",radius:"angle",angle:"radius"})[a]}function Li(a){return"vertical"===a?"ns-resize":"ew-resize"}var Lj=eS;function eT(a){a.registerComponentModel(Lb),a.registerComponentView(Lj),Ix(a)}var Lk={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Ll={get:function(b,c,d){var a=ct((Lk[b]||{})[c]);return d&&cv(a)?a[a.length-1]:a}},Lm=b9.mapVisual,Ln=b9.eachVisual,Lo=cv,Lp=j,Lq=bc,Lr=bb,cm=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.stateList=["inRange","outOfRange"],c.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],c.layoutMode={type:"box",ignoreSize:!0},c.dataBound=[-1/0,1/0],c.targetVisuals={},c.controllerVisuals={},c}return cp(a,b),a.prototype.init=function(a,c,b){this.mergeDefaultAndTheme(a,b)},a.prototype.optionUpdated=function(a,b){var c=this.option;b||JE(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},a.prototype.resetVisual=function(a){var b=this.stateList;a=cu(a,this),this.controllerVisuals=JD(this.option.controller,b,a),this.targetVisuals=JD(this.option.target,b,a)},a.prototype.getItemSymbol=function(){return null},a.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(c,a){b.push(a)}):b=jw(a),b},a.prototype.eachTargetSeries=function(a,b){j(this.getTargetSeriesIndices(),function(d){var c=this.ecModel.getSeriesByIndex(d);c&&a.call(b,c)},this)},a.prototype.isTargetSeries=function(b){var a=!1;return this.eachTargetSeries(function(c){c===b&&(a=!0)}),a},a.prototype.formatValueText=function(a,h,e){var c,f=this.option,i=f.precision,g=this.dataBound,d=f.formatter;e=e||["<",">"],cv(a)&&(a=a.slice(),c=!0);var b=h?a:c?[j(a[0]),j(a[1])]:j(a);if(fT(d))return d.replace("{value}",c?b[0]:b).replace("{value2}",c?b[1]:b);if(cw(d))return c?d(a[0],a[1]):d(a);if(!c)return b;return a[0]===g[0]?e[0]+" "+b[1]:a[1]===g[1]?e[1]+" "+b[0]:b[0]+" - "+b[1];function j(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(i,20))}},a.prototype.resetExtent=function(){var a=this.option,b=Lq([a.min,a.max]);this._dataExtent=b},a.prototype.getDataDimensionIndex=function(a){var c=this.option.dimension;if(null!=c)return a.getDimensionIndex(c);for(var d=a.dimensions,b=d.length-1;b>=0;b--){var f=d[b],e=a.getDimensionInfo(f);if(!e.isCalculationCoord)return e.storeDimIndex}},a.prototype.getExtent=function(){return this._dataExtent.slice()},a.prototype.completeVisualOption=function(){var f=this.ecModel,a=this.option,d={inRange:a.inRange,outOfRange:a.outOfRange},b=a.target||(a.target={}),c=a.controller||(a.controller={});an(b,d),an(c,d);var g=this.isCategory();function e(b){Lo(a.color)&&!b.inRange&&(b.inRange={color:a.color.slice().reverse()}),b.inRange=b.inRange||{color:f.get("gradientColor")}}e.call(this,b),e.call(this,c),(function(a,e,b){var c=a[e],d=a[b];c&&!d&&(d=a[b]={},Lp(c,function(c,a){if(b9.isValidType(a)){var b=Ll.get(a,"inactive",g);null==b||(d[a]=b,"color"!==a||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,b,"inRange","outOfRange"),(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),e=this.getItemSymbol()||"roundRect";Lp(this.stateList,function(j){var h=this.itemSize,f=a[j];f||(f=a[j]={color:g?d:[d]}),null==f.symbol&&(f.symbol=b&&ct(b)||(g?e:[e])),null==f.symbolSize&&(f.symbolSize=c&&ct(c)||(g?h[0]:[h[0],h[0]])),f.symbol=Lm(f.symbol,function(a){return"none"===a?e:a});var i=f.symbolSize;if(null!=i){var k=-1/0;Ln(i,function(a){a>k&&(k=a)}),f.symbolSize=Lm(i,function(a){return Lr(a,[0,k],[0,h[0]],!0)})}},this)}).call(this,c)},a.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},a.prototype.isCategory=function(){return!!this.option.categories},a.prototype.setSelected=function(a){},a.prototype.getSelected=function(){return null},a.prototype.getValueState=function(a){return null},a.prototype.getVisualMeta=function(a){return null},a.type="visualMap",a.dependencies=["series"],a.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},a}(d),Ls=[20,140],eU=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.optionUpdated=function(a,c){b.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},a.prototype.resetItemSize=function(){b.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;(null==a[0]||isNaN(a[0]))&&(a[0]=Ls[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=Ls[1])},a.prototype._resetRange=function(){var b=this.getExtent(),a=this.option.range;!a||a.auto?(b.auto=1,this.option.range=b):cv(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],b[0]),a[1]=Math.min(a[1],b[1]))},a.prototype.completeVisualOption=function(){b.prototype.completeVisualOption.apply(this,arguments),j(this.stateList,function(b){var a=this.option.controller[b].symbolSize;a&&a[0]!==a[1]&&(a[0]=a[1]/3)},this)},a.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},a.prototype.getSelected=function(){var b=this.getExtent(),a=bc((this.get("range")||[]).slice());return a[0]>b[1]&&(a[0]=b[1]),a[1]>b[1]&&(a[1]=b[1]),a[0]<b[0]&&(a[0]=b[0]),a[1]<b[0]&&(a[1]=b[0]),a},a.prototype.getValueState=function(b){var a=this.option.range,c=this.getExtent();return(a[0]<=c[0]||a[0]<=b)&&(a[1]>=c[1]||b<=a[1])?"inRange":"outOfRange"},a.prototype.findTargetDataIndices=function(b){var a=[];return this.eachTargetSeries(function(c){var e=[],d=c.getData();d.each(this.getDataDimensionIndex(d),function(a,c){b[0]<=a&&a<=b[1]&&e.push(c)},this),a.push({seriesId:c.id,dataIndex:e})},this),a},a.prototype.getVisualMeta=function(k){var d=Lt(this,"outOfRange",this.getExtent()),a=Lt(this,"inRange",this.option.range.slice()),c=[];function e(a,b){c.push({value:a,color:k(a,b)})}for(var f=0,b=0,j=a.length,i=d.length;b<i&&(!a.length||d[b]<=a[0]);b++)d[b]<a[f]&&e(d[b],"outOfRange");for(var g=1;f<j;f++,g=0)g&&c.length&&e(a[f],"outOfRange"),e(a[f],"inRange");for(var g=1;b<i;b++)(!a.length||a[a.length-1]<d[b])&&(g&&(c.length&&e(c[c.length-1].value,"outOfRange"),g=0),e(d[b],"outOfRange"));var h=c.length;return{stops:c,outerColors:[h?c[0].color:"transparent",h?c[h-1].color:"transparent"]}},a.type="visualMap.continuous",a.defaultOption=mP(cm.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),a}(cm);function Lt(f,g,a){if(a[0]===a[1])return a.slice();for(var e=(a[1]-a[0])/200,b=a[0],c=[],d=0;d<=200&&b<a[1];d++)c.push(b),b+=e;return c.push(a[1]),c}var Lu=eU,cn=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c.autoPositionValues={left:1,right:1,top:1,bottom:1},c}return cp(a,b),a.prototype.init=function(a,b){this.ecModel=a,this.api=b},a.prototype.render=function(a,b,c,d){if(this.visualMapModel=a,!1===a.get("show")){this.group.removeAll();return}this.doRender(a,b,c,d)},a.prototype.renderBackground=function(d){var b=this.visualMapModel,a=nh(b.get("padding")||0),c=d.getBoundingRect();d.add(new z({z2:-1,silent:!0,shape:{x:c.x-a[3],y:c.y-a[0],width:c.width+a[3]+a[1],height:c.height+a[0]+a[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},a.prototype.getControllerVisual=function(e,b,c){var f=(c=c||{}).forceState,a=this.visualMapModel,d={};if("color"===b){var g=a.get("contentColor");d.color=g}function k(a){return d[a]}function l(a,b){d[a]=b}var h=a.controllerVisuals[f||a.getValueState(e)],i=b9.prepareVisualTypes(h);return j(i,function(a){var d=h[a];c.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",d=h.__alphaForOpacity),b9.dependsOn(a,b)&&d&&d.applyVisual(e,k,l)}),d[b]},a.prototype.positionGroup=function(b){var c=this.visualMapModel,a=this.api;nx(b,c.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},a.prototype.doRender=function(a,b,c,d){},a.type="visualMap",a}(g),Lv=[["left","right","width"],["top","bottom","height"]];function Lw(k,i,l){var b=k.option,d=b.align;if(null!=d&&"auto"!==d)return d;for(var j={width:i.getWidth(),height:i.getHeight()},e="horizontal"===b.orient?1:0,f=Lv[e],m=[0,null,10],g={},a=0;a<3;a++)g[Lv[1-e][a]]=m[a],g[f[a]]=2===a?l[0]:b[f[a]];var c=[["x","width",3],["y","height",0]][e],h=nw(g,j,b.padding);return f[(h.margin[c[2]]||0)+h[c[0]]+.5*h[c[1]]<.5*j[c[1]]?0:1]}function Lx(a,b){return j(a||[],function(a){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(b?b.componentIndex:"")}),a}var Ly=bb,Lz=j,LA=Math.min,LB=Math.max,eV=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._shapes={},c._dataInterval=[],c._handleEnds=[],c._hoverLinkDataIndices=[],c}return cp(a,b),a.prototype.doRender=function(c,d,b,a){this._api=b,a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},a.prototype._buildView=function(){this.group.removeAll();var b=this.visualMapModel,a=this.group;this._orient=b.get("orient"),this._useHandle=b.get("calculable"),this._resetInterval(),this._renderBar(a);var c=b.get("text");this._renderEndsText(a,c,0),this._renderEndsText(a,c,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},a.prototype._renderEndsText=function(l,c,b){if(c){var a=c[1-b];a=null!=a?a+"":"";var d=this.visualMapModel,e=d.get("textGap"),f=d.itemSize,g=this._shapes.mainGroup,h=this._applyTransform([f[0]/2,0===b?-e:f[1]+e],g),i=this._applyTransform(0===b?"bottom":"top",g),j=this._orient,k=this.visualMapModel.textStyleModel;this.group.add(new bh({style:mw(k,{x:h[0],y:h[1],verticalAlign:"horizontal"===j?"middle":i,align:"horizontal"===j?i:"center",text:a})}))}},a.prototype._renderBar=function(j){var a=this.visualMapModel,b=this._shapes,c=a.itemSize,f=this._orient,h=this._useHandle,k=Lw(a,this.api,c),d=b.mainGroup=this._createBarGroup(k),e=new t;d.add(e),e.add(b.outOfRange=LC()),e.add(b.inRange=LC(null,h?LF(this._orient):null,cu(this._dragHandle,this,"all",!1),cu(this._dragHandle,this,"all",!0))),e.setClipPath(new z({shape:{x:0,y:0,width:c[0],height:c[1],r:3}}));var i=a.textStyleModel.getTextRect("\u56FD"),g=LB(i.width,i.height);h&&(b.handleThumbs=[],b.handleLabels=[],b.handleLabelPoints=[],this._createHandle(a,d,0,c,g,f),this._createHandle(a,d,1,c,g,f)),this._createIndicator(a,d,c,g,f),j.add(d)},a.prototype._createHandle=function(d,k,b,g,m,n){var h=cu(this._dragHandle,this,b,!1),i=cu(this._dragHandle,this,b,!0),c=i_(d.get("handleSize"),g[0]),a=rM(d.get("handleIcon"),-c/2,-c/2,c,c,null,!0),j=LF(this._orient);a.attr({cursor:j,draggable:!0,drift:h,ondragend:i,onmousemove:function(a){gK(a.event)}}),a.x=g[0]/2,a.useStyle(d.getModel("handleStyle").getItemStyle()),a.setStyle({strokeNoScale:!0,strokeFirst:!0}),a.style.lineWidth*=2,a.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),md(a,!0),k.add(a);var l=this.visualMapModel.textStyleModel,e=new bh({cursor:j,draggable:!0,drift:h,onmousemove:function(a){gK(a.event)},ondragend:i,style:mw(l,{x:0,y:0,text:""})});e.ensureState("blur").style={opacity:.1},e.stateTransition={duration:200},this.group.add(e);var f=this._shapes;f.handleThumbs[b]=a,f.handleLabelPoints[b]=[c,0],f.handleLabels[b]=e},a.prototype._createIndicator=function(d,i,e,j,k){var c=i_(d.get("indicatorSize"),e[0]),a=rM(d.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:e[0]/2});var g=d.getModel("indicatorStyle").getItemStyle();if(a instanceof cU){var b=a.style;a.useStyle(fP({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},g))}else a.useStyle(g);i.add(a);var l=this.visualMapModel.textStyleModel,h=new bh({silent:!0,invisible:!0,style:mw(l,{x:0,y:0,text:""})});this.group.add(h);var m=[("horizontal"===k?j/2:6)+e[0]/2,0],f=this._shapes;f.indicator=a,f.indicatorLabel=h,f.indicatorLabelPoint=m,this._firstShowIndicator=!0},a.prototype._dragHandle=function(b,a,c,d){if(this._useHandle){if(this._dragging=!a,!a){var e=this._applyTransform([c,d],this._shapes.mainGroup,!0);this._updateInterval(b,e[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===a&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?this._hovering||this._clearHoverLinkToSeries():LE(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1)}},a.prototype._resetInterval=function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[Ly(b[0],c,d,!0),Ly(b[1],c,d,!0)]},a.prototype._updateInterval=function(f,a){a=a||0;var d=this.visualMapModel,b=this._handleEnds,c=[0,d.itemSize[1]];Ct(a,b,c,f,0);var e=d.getExtent();this._dataInterval=[Ly(b[0],c,e,!0),Ly(b[1],c,e,!0)]},a.prototype._updateView=function(h){var c=this.visualMapModel,a=c.getExtent(),d=this._shapes,e=[0,c.itemSize[1]],f=h?e:this._handleEnds,b=this._createBarVisual(this._dataInterval,a,f,"inRange"),g=this._createBarVisual(a,a,e,"outOfRange");d.inRange.setStyle({fill:b.barColor}).setShape("points",b.barPoints),d.outOfRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),this._updateHandle(f,b)},a.prototype._createBarVisual=function(b,h,d,e){var c={forceState:e,convertOpacityToAlpha:!0},a=this._makeColorGradient(b,c),f=[this.getControllerVisual(b[0],"symbolSize",c),this.getControllerVisual(b[1],"symbolSize",c)],g=this._createBarPoints(d,f);return{barColor:new qu(0,0,0,1,a),barPoints:g,handlesColor:[a[0].color,a[a.length-1].color]}},a.prototype._makeColorGradient=function(a,d){var b=[],f=(a[1]-a[0])/100;b.push({color:this.getControllerVisual(a[0],"color",d),offset:0});for(var c=1;c<100;c++){var e=a[0]+f*c;if(e>a[1])break;b.push({color:this.getControllerVisual(e,"color",d),offset:c/100})}return b.push({color:this.getControllerVisual(a[1],"color",d),offset:1}),b},a.prototype._createBarPoints=function(a,c){var b=this.visualMapModel.itemSize;return[[b[0]-c[0],a[0]],[b[0],a[0]],[b[0],a[1]],[b[0]-c[1],a[1]]]},a.prototype._createBarGroup=function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new t("horizontal"!==b||c?"horizontal"===b&&c?{scaleX:"bottom"===a?-1:1,rotation:-Math.PI/2}:"vertical"!==b||c?{scaleX:"left"===a?1:-1}:{scaleX:"left"===a?1:-1,scaleY:-1}:{scaleX:"bottom"===a?1:-1,rotation:Math.PI/2})},a.prototype._updateHandle=function(c,d){if(this._useHandle){var a=this._shapes,b=this.visualMapModel,e=a.handleThumbs,f=a.handleLabels,g=b.itemSize,h=b.getExtent();Lz([0,1],function(i){var j=e[i];j.setStyle("fill",d.handlesColor[i]),j.y=c[i];var m=Ly(c[i],[0,g[1]],h,!0),k=this.getControllerVisual(m,"symbolSize");j.scaleX=j.scaleY=k/g[0],j.x=g[0]-k/2;var l=qT(a.handleLabelPoints[i],qS(j,this.group));f[i].setStyle({x:l[0],y:l[1],text:b.formatValueText(this._dataInterval[i]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",a.mainGroup):"center"})},this)}},a.prototype._showIndicator=function(e,r,s,x){var b=this.visualMapModel,t=b.getExtent(),h=b.itemSize,u=[0,h[1]],c=this._shapes,a=c.indicator;if(a){a.attr("invisible",!1);var v=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),w=this.getControllerVisual(e,"symbolSize"),i=Ly(e,t,u,!0),j=h[0]-w/2,k={x:a.x,y:a.y};a.y=i,a.x=j;var l=qT(c.indicatorLabelPoint,qS(a,this.group)),d=c.indicatorLabel;d.attr("invisible",!1);var m=this._applyTransform("left",c.mainGroup),n="horizontal"===this._orient;d.setStyle({text:(s||"")+b.formatValueText(r),verticalAlign:n?m:"middle",align:n?"center":m});var o={x:j,y:i,style:{fill:v}},p={style:{x:l[0],y:l[1]}};if(b.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var q={duration:100,easing:"cubicInOut",additive:!0};a.x=k.x,a.y=k.y,a.animateTo(o,q),d.animateTo(p,q)}else a.attr(o),d.attr(p);this._firstShowIndicator=!1;var f=this._shapes.handleLabels;if(f)for(var g=0;g<f.length;g++)this._api.enterBlur(f[g])}},a.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(c){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,b=a._applyTransform([c.offsetX,c.offsetY],a._shapes.mainGroup,!0,!0);b[1]=LA(LB(0,b[1]),d[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=d[0])}}).on("mouseout",function(){a._hovering=!1,a._dragging||a._clearHoverLinkToSeries()})},a.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},a.prototype._doHoverLinkToSeries=function(d,i){var a=this.visualMapModel,l=a.itemSize;if(a.option.hoverLink){var b=[0,l[1]],f=a.getExtent();d=LA(LB(b[0],d),b[1]);var e=LD(a,f,b),g=[d-e,d+e],h=Ly(d,b,f,!0),c=[Ly(g[0],b,f,!0),Ly(g[1],b,f,!0)];g[0]<b[0]&&(c[0]=-1/0),g[1]>b[1]&&(c[1]=1/0),i&&(c[0]=== -1/0?this._showIndicator(h,c[1],"< ",e):c[1]===1/0?this._showIndicator(h,c[0],"> ",e):this._showIndicator(h,h,"\u2248 ",e));var m=this._hoverLinkDataIndices,j=[];(i||LE(a))&&(j=this._hoverLinkDataIndices=a.findTargetDataIndices(c));var k=function(c,d){var a={},b={};return e(c||[],a),e(d||[],b,a),[f(a),f(b)];function e(c,g,h){for(var a=0,j=c.length;a<j;a++){var b=jK(c[a].seriesId,null);if(null==b)return;for(var i=jw(c[a].dataIndex),d=h&&h[b],e=0,k=i.length;e<k;e++){var f=i[e];d&&d[f]?d[f]=null:(g[b]||(g[b]={}))[f]=1}}}function f(b,e){var c=[];for(var a in b)if(b.hasOwnProperty(a)&&null!=b[a])if(e)c.push(+a);else{var d=f(b[a],!0);d.length&&c.push({seriesId:a,dataIndex:d})}return c}}(m,j);this._dispatchHighDown("downplay",Lx(k[0],a)),this._dispatchHighDown("highlight",Lx(k[1],a))}},a.prototype._hoverLinkFromSeriesMouseOver=function(g){var a=g.target,d=this.visualMapModel;if(a&&null!=lz(a).dataIndex){var b=lz(a),e=this.ecModel.getSeriesByIndex(b.seriesIndex);if(d.isTargetSeries(e)){var f=e.getData(b.dataType),c=f.getStore().get(d.getDataDimensionIndex(f),b.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},a.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var b=this._shapes.handleLabels;if(b)for(var c=0;c<b.length;c++)this._api.leaveBlur(b[c])},a.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Lx(a,this.visualMapModel)),a.length=0},a.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},a.prototype._applyTransform=function(a,d,b,e){var c=qS(d,e?null:this.group);return cv(a)?qT(a,c,b):qU(a,c,b)},a.prototype._dispatchHighDown=function(b,a){a&&a.length&&this.api.dispatchAction({type:b,batch:a})},a.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},a.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},a.type="visualMap.continuous",a}(cn);function LC(b,c,a,d){return new bA({shape:{points:b},draggable:!!a,cursor:c,drift:a,onmousemove:function(a){gK(a.event)},ondragend:d})}function LD(c,d,e){var a=6,b=c.get("hoverLinkDataSize");return b&&(a=Ly(b,d,e,!0)/2),a}function LE(a){var b=a.get("hoverLinkOnHandle");return!!(null==b?a.get("realtime"):b)}function LF(a){return"vertical"===a?"ns-resize":"ew-resize"}var LG=eV,LH={type:"selectDataRange",event:"dataRangeSelected",update:"update"},LI=function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})},LJ=[{createOnAllSeries:!0,reset:function(c,a){var b=[];return a.eachComponent("visualMap",function(a){var d,f,g,h,i,e=c.pipelineContext;a.isTargetSeries(c)&&(!e||!e.large)&&b.push((d=a.stateList,f=a.targetVisuals,g=cu(a.getValueState,a),h=a.getDataDimensionIndex(c.getData()),i={},j(d,function(a){var b=b9.prepareVisualTypes(f[a]);i[a]=b}),{progress:function(n,b){function o(c){return rA(b,a,c)}function p(c,d){rC(b,a,c,d)}null!=h&&(q=b.getDimensionIndex(h));for(var q,a,r=b.getStore();null!=(a=n.next());){var d=b.getRawDataItem(a);if(!d|| !1!==d.visualMap)for(var e=null!=h?r.get(q,a):a,j=g(e),k=f[j],l=i[j],c=0,s=l.length;c<s;c++){var m=l[c];k[m]&&k[m].applyVisual(e,o,p)}}}}))}),b}},{createOnAllSeries:!0,reset:function(a,b){var d=a.getData(),c=[];b.eachComponent("visualMap",function(b){if(b.isTargetSeries(a)){var e=b.getVisualMeta(cu(LK,null,a,b))||{stops:[],outerColors:[]},f=b.getDataDimensionIndex(d);f>=0&&(e.dimension=f,c.push(e))}}),a.getData().setVisual("visualMeta",c)}}];function LK(f,g,h,i){for(var b=g.targetVisuals[i],c=b9.prepareVisualTypes(b),j={color:rB(f.getData(),"color")},a=0,k=c.length;a<k;a++){var d=c[a],e=b["opacity"===d?"__alphaForOpacity":d];e&&e.applyVisual(h,l,m)}return j.color;function l(a){return j[a]}function m(a,b){j[a]=b}}var LL=j;function LM(b){var a=b&&b.visualMap;cv(a)||(a=a?[a]:[]),LL(a,function(a){if(a){LN(a,"splitList")&&!LN(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var b=a.pieces;b&&cv(b)&&LL(b,function(a){aq(a)&&(LN(a,"start")&&!LN(a,"min")&&(a.min=a.start),LN(a,"end")&&!LN(a,"max")&&(a.max=a.end))})}})}function LN(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var LO=!1;function LP(a){!LO&&(LO=!0,a.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),a.registerAction(LH,LI),j(LJ,function(b){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,b)}),a.registerPreprocessor(LM))}function eW(a){a.registerComponentModel(Lu),a.registerComponentView(LG),LP(a)}var eX=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c._pieceList=[],c}return cp(a,b),a.prototype.optionUpdated=function(a,c){b.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var d=this._mode=this._determineMode();this._pieceList=[],LQ[this._mode].call(this,this._pieceList),this._resetSelected(a,c);var e=this.option.categories;this.resetVisual(function(a,b){"categories"===d?(a.mappingMethod="category",a.categories=ct(e)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=Y(this._pieceList,function(a){return a=ct(a),"inRange"!==b&&(a.visual=null),a}))})},a.prototype.completeVisualOption=function(){var a=this.option,c={},d=b9.listVisualTypes(),e=this.isCategory();function f(a,b,c){return a&&a[b]&&a[b].hasOwnProperty(c)}j(a.pieces,function(a){j(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})}),j(c,function(c,d){var b=!1;j(this.stateList,function(c){b=b||f(a,c,d)||f(a.target,c,d)},this),b||j(this.stateList,function(b){(a[b]||(a[b]={}))[d]=Ll.get(d,"inRange"===b?"active":"inactive",e)})},this),b.prototype.completeVisualOption.apply(this,arguments)},a.prototype._resetSelected=function(c,d){var a=this.option,b=this._pieceList,e=(d?a:c).selected||{};if(a.selected=e,j(b,function(b,c){var a=this.getSelectedMapKey(b);e.hasOwnProperty(a)||(e[a]=!0)},this),"single"===a.selectedMode){var f=!1;j(b,function(b,c){var a=this.getSelectedMapKey(b);e[a]&&(f?e[a]=!1:f=!0)},this)}},a.prototype.getItemSymbol=function(){return this.get("itemSymbol")},a.prototype.getSelectedMapKey=function(a){return"categories"===this._mode?a.value+"":a.index+""},a.prototype.getPieceList=function(){return this._pieceList},a.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},a.prototype.setSelected=function(a){this.option.selected=ct(a)},a.prototype.getValueState=function(b){var a=b9.findPieceIndex(b,this._pieceList);return null!=a&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},a.prototype.findTargetDataIndices=function(b){var a=[],c=this._pieceList;return this.eachTargetSeries(function(d){var f=[],e=d.getData();e.each(this.getDataDimensionIndex(e),function(a,d){b9.findPieceIndex(a,c)===b&&f.push(d)},this),a.push({seriesId:d.id,dataIndex:f})},this),a},a.prototype.getRepresentValue=function(a){var b;if(this.isCategory())b=a.value;else if(null!=a.value)b=a.value;else{var c=a.interval||[];b=c[0]=== -1/0&&c[1]===1/0?0:(c[0]+c[1])/2}return b},a.prototype.getVisualMeta=function(e){if(!this.isCategory()){var c=[],d=["",""],f=this,a=this._pieceList.slice();if(a.length){var b=a[0].interval[0];b!== -1/0&&a.unshift({interval:[-1/0,b]}),(b=a[a.length-1].interval[1])!==1/0&&a.push({interval:[b,1/0]})}else a.push({interval:[-1/0,1/0]});var g=-1/0;return j(a,function(b){var a=b.interval;a&&(a[0]>g&&h([g,a[0]],"outOfRange"),h(a.slice()),g=a[1])},this),{stops:c,outerColors:d}}function h(a,g){var h=f.getRepresentValue({interval:a});g||(g=f.getValueState(h));var b=e(h,g);a[0]=== -1/0?d[0]=b:a[1]===1/0?d[1]=b:c.push({value:a[0],color:b},{value:a[1],color:b})}},a.type="visualMap.piecewise",a.defaultOption=mP(cm.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),a}(cm),LQ={splitNumber:function(e){var a=this.option,f=Math.min(a.precision,20),b=this.getExtent(),c=a.splitNumber;c=Math.max(parseInt(c,10),1),a.splitNumber=c;for(var d=(b[1]-b[0])/c;+d.toFixed(f)!==d&&f<5;)f++;a.precision=f,d=+d.toFixed(f),a.minOpen&&e.push({interval:[-1/0,b[0]],close:[0,0]});for(var g=0,h=b[0];g<c;h+=d,g++){var i=g===c-1?b[1]:h+d;e.push({interval:[h,i],close:[1,1]})}a.maxOpen&&e.push({interval:[b[1],1/0],close:[0,0]}),jq(e),j(e,function(a,b){a.index=b,a.text=this.formatValueText(a.interval)},this)},categories:function(b){var a=this.option;j(a.categories,function(a){b.push({text:this.formatValueText(a,!0),value:a})},this),LR(a,b)},pieces:function(a){var b=this.option;j(b.pieces,function(c,j){aq(c)||(c={value:c});var d={text:"",index:j};if(null!=c.label&&(d.text=c.label),c.hasOwnProperty("value")){var i=d.value=c.value;d.interval=[i,i],d.close=[1,1]}else{for(var e=d.interval=[],f=d.close=[0,0],k=[1,0,1],l=[-1/0,1/0],h=[],b=0;b<2;b++){for(var m=[["gte","gt","min"],["lte","lt","max"]][b],g=0;g<3&&null==e[b];g++)e[b]=c[m[g]],f[b]=k[g],h[b]=2===g;null==e[b]&&(e[b]=l[b])}h[0]&&e[1]===1/0&&(f[0]=0),h[1]&&e[0]=== -1/0&&(f[1]=0),e[0]===e[1]&&f[0]&&f[1]&&(d.value=e[0])}d.visual=b9.retrieveVisuals(c),a.push(d)},this),LR(b,a),jq(a),j(a,function(a){var b=a.close,c=[["<","\u2264"][b[1]],[">","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};function LR(a,c){var b=a.inverse;("vertical"===a.orient?!b:b)&&c.reverse()}var LS=eX,LT=function(b){function a(){var c=null!==b&&b.apply(this,arguments)||this;return c.type=a.type,c}return cp(a,b),a.prototype.doRender=function(){var a=this.group;a.removeAll();var b=this.visualMapModel,i=b.get("textGap"),d=b.textStyleModel,k=d.getFont(),l=d.getTextColor(),e=this._getItemAlign(),f=b.itemSize,g=this._getViewData(),c=g.endsText,h=cx(b.get("showLabel",!0),!c);c&&this._renderEndsText(a,c[0],f,h,e),j(g.viewPieceList,function(g){var d=g.piece,c=new t;c.onclick=cu(this._onItemClick,this,d),this._enableHoverLink(c,g.indexInModelPieceList);var j=b.getRepresentValue(d);if(this._createItemSymbol(c,j,[0,0,f[0],f[1]]),h){var m=this.visualMapModel.getValueState(j);c.add(new bh({style:{x:"right"===e?-i:f[0]+i,y:f[1]/2,text:d.text,verticalAlign:"middle",align:e,font:k,fill:l,opacity:"outOfRange"===m?.5:1}}))}a.add(c)},this),c&&this._renderEndsText(a,c[1],f,h,e),nu(b.get("orient"),a,b.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},a.prototype._enableHoverLink=function(a,b){var c=this;a.on("mouseover",function(){return d("highlight")}).on("mouseout",function(){return d("downplay")});var d=function(d){var a=c.visualMapModel;a.option.hoverLink&&c.api.dispatchAction({type:d,batch:Lx(a.findTargetDataIndices(b),a)})}},a.prototype._getItemAlign=function(){var b=this.visualMapModel,c=b.option;if("vertical"===c.orient)return Lw(b,this.api,b.itemSize);var a=c.align;return a&&"auto"!==a||(a="left"),a},a.prototype._renderEndsText=function(f,b,a,c,d){if(b){var e=new t,g=this.visualMapModel.textStyleModel;e.add(new bh({style:mw(g,{x:c?"right"===d?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:c?d:"center",text:b})})),f.add(e)}},a.prototype._getViewData=function(){var a=this.visualMapModel,c=Y(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),b=a.get("text"),e=a.get("orient"),d=a.get("inverse");return("horizontal"===e?d:!d)?c.reverse():b&&(b=b.slice().reverse()),{viewPieceList:c,endsText:b}},a.prototype._createItemSymbol=function(c,b,a){c.add(rM(this.getControllerVisual(b,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(b,"color")))},a.prototype._onItemClick=function(f){var d=this.visualMapModel,e=d.option,b=e.selectedMode;if(b){var a=ct(e.selected),c=d.getSelectedMapKey(f);"single"===b|| !0===b?(a[c]=!0,j(a,function(d,b){a[b]=b===c})):a[c]=!a[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},a.type="visualMap.piecewise",a}(cn);function eY(a){a.registerComponentModel(LS),a.registerComponentView(LT),LP(a)}var LU={label:{enabled:!0},decal:{show:!1}},LV=a(),LW={};function LX(a,d){var b=a.getModel("aria");if(b.get("enabled")){var c=ct(LU);an(c.label,a.getLocaleModel().get("aria"),!1),an(b.option,c,!1),function(){if(b.getModel("decal").get("show")){var c=s();a.eachSeries(function(a){if(!a.isColorBySeries()){var b=c.get(a.type);b||(b={},c.set(a.type,b)),LV(a).scope=b}}),a.eachRawSeries(function(b){if(!a.isSeriesFiltered(b)){if(cw(b.enableAriaDecal)){b.enableAriaDecal();return}var c=b.getData();if(b.isColorBySeries()){var e=nQ(b.ecModel,b.name,LW,a.getSeriesCount()),f=c.getVisual("decal");c.setVisual("decal",j(f,e))}else{var d=b.getRawData(),g={},h=LV(b).scope;c.each(function(a){g[c.getRawIndex(a)]=a});var i=d.count();d.each(function(a){var e=g[a],f=d.getName(a)||a+"",k=nQ(b.ecModel,f,h,i),l=c.getItemVisual(e,"decal");c.setItemVisual(e,"decal",j(l,k))})}}function j(a,b){var c=a?fP(fP({},b),a):b;return c.dirty=!0,c}})}}(),function(){var h,m=a.getLocaleModel().get("aria"),c=b.getModel("label");if(c.option=x(c.option,m),c.get("enabled")){var j=d.getZr().dom;if(c.get("description")){j.setAttribute("aria-label",c.get("description"));return}var i=a.getSeriesCount(),q=c.get(["data","maxCount"])||10,r=Math.min(i,c.get(["series","maxCount"])||10);if(!(i<1)){var k=f();h=k?e(c.get(["general","withTitle"]),{title:k}):c.get(["general","withoutTitle"]);var n=[];h+=e(i>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]),{seriesCount:i}),a.eachSeries(function(b,m){if(m<r){var a=void 0,h=b.get("name")?"withName":"withoutName";a=i>1?c.get(["series","multiple",h]):c.get(["series","single",h]),a=e(a,{seriesId:b.seriesIndex,seriesName:b.get("name"),seriesType:g(b.subType)});var f=b.getData();f.count()>q?a+=e(c.get(["data","partialData"]),{displayCnt:q}):a+=c.get(["data","allData"]);for(var j=c.get(["data","separator","middle"]),o=c.get(["data","separator","end"]),k=[],d=0;d<f.count();d++)if(d<q){var l=f.getName(d),p=f.getValues(d),s=c.get(["data",l?"withName":"withoutName"]);k.push(e(s,{name:l,value:p.join(j)}))}a+=k.join(j)+o,n.push(a)}});var l=c.getModel(["series","multiple","separator"]),o=l.get("middle"),p=l.get("end");h+=n.join(o)+p,j.setAttribute("aria-label",h)}}}()}function e(a,b){if(!fT(a))return a;var c=a;return j(b,function(a,b){c=c.replace(RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}function f(){var b=a.get("title");return b&&b.length&&(b=b[0]),b&&b.text}function g(b){return a.getLocaleModel().get(["series","typeNames"])[b]||"\u81EA\u5B9A\u4E49\u56FE"}}function LY(b){if(b&&b.aria){var a=b.aria;null!=a.show&&(a.enabled=a.show),a.label=a.label||{},j(["description","general","series","data"],function(b){null!=a[b]&&(a.label[b]=a[b])})}}var LZ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},L$=function(){function a(a){var b,c;if(null==(this._condVal=fT(a)?RegExp(a):(b=a,"[object RegExp]"===fF.call(b))?a:null)){oQ("")}}return a.prototype.evaluate=function(a){var b=typeof a;return fT(b)?this._condVal.test(a):!!fV(b)&&this._condVal.test(a+"")},a}(),L_=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),L0=function(){function a(){}return a.prototype.evaluate=function(){for(var b=this.children,a=0;a<b.length;a++)if(!b[a].evaluate())return!1;return!0},a}(),L1=function(){function a(){}return a.prototype.evaluate=function(){for(var b=this.children,a=0;a<b.length;a++)if(b[a].evaluate())return!0;return!1},a}(),L2=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),L3=function(){function a(){}return a.prototype.evaluate=function(){for(var b=!!this.valueParser,c=(0,this.getValue)(this.valueGetterParam),d=b?this.valueParser(c):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(b?d:c))return!1;return!0},a}();function L4(a,b){if(!0===a|| !1===a){var c=new L_;return c.value=a,c}return(L8(a)||oQ(""),a.and)?L5("and",a,b):a.or?L5("or",a,b):a.not?L6(a,b):L7(a,b)}function L5(c,d,e){var a=d[c];cv(a)||oQ(""),a.length||oQ("");var b="and"===c?new L0:new L1;return b.children=Y(a,function(a){return L4(a,e)}),b.children.length||oQ(""),b}function L6(c,d){var b=c.not;L8(b)||oQ("");var a=new L2;return a.child=L4(b,d),a.child||oQ(""),a}function L7(c,d){for(var n=d.prepareGetValue(c),e=[],h=ap(c),i=c.parser,f=i?oT(i):null,g=0;g<h.length;g++){var a=h[g];if(!("parser"===a||d.valueGetterAttrMap.get(a))){var j=ga(LZ,a)?LZ[a]:a,k=c[a],l=f?f(k):k,m=oY(j,l)||"reg"===j&&new L$(l);m||oQ(""),e.push(m)}}e.length||oQ("");var b=new L3;return b.valueGetterParam=n,b.valueParser=f,b.getValue=d.getValue,b.subCondList=e,b}function L8(a){return aq(a)&&!fR(a)}var L9=function(){function a(a,b){this._cond=L4(a,b)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}(),Ma={type:"echarts:filter",transform:function(b){for(var c,d,e,f=b.upstream,h=(d=b.config,e={valueGetterAttrMap:s({dimension:!0}),prepareGetValue:function(a){var c=a.dimension;ga(a,"dimension")||oQ("");var b=f.getDimensionInfo(c);return b||oQ(""),{dimIdx:b.index}},getValue:function(a){return f.retrieveValueFromItem(c,a.dimIdx)}},new L9(d,e)),g=[],a=0,i=f.count();a<i;a++)c=f.getRawDataItem(a),h.evaluate()&&g.push(c);return{data:g}}},Mb={type:"echarts:sort",transform:function(d){var h,a=d.upstream,e=jw(d.config);e.length||oQ("");var i=[];j(e,function(c){var j,k,f=c.dimension,b=c.order,e=c.parser,d=c.incomparable;if(null==f&&oQ(""),"asc"!==b&&"desc"!==b&&oQ(""),d&&"min"!==d&&"max"!==d){oQ("")}if("asc"!==b&&"desc"!==b){oQ("")}var g=a.getDimensionInfo(f);g||oQ("");var h=e?oT(e):null;e&&!h&&oQ(""),i.push({dimIdx:g.index,parser:h,comparator:new oW(b,d)})});var f=a.sourceFormat;f!==S&&f!==aH&&oQ("");for(var b=[],c=0,g=a.count();c<g;c++)b.push(a.getRawDataItem(c));return b.sort(function(g,h){for(var c=0;c<i.length;c++){var b=i[c],d=a.retrieveValueFromItem(g,b.dimIdx),e=a.retrieveValueFromItem(h,b.dimIdx);b.parser&&(d=b.parser(d),e=b.parser(e));var f=b.comparator.evaluate(d,e);if(0!==f)return f}return 0}),{data:b}}},Mc=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="dataset",a}return cp(a,b),a.prototype.init=function(a,c,d){b.prototype.init.call(this,a,c,d),this._sourceManager=new pd(this),pe(this)},a.prototype.mergeOption=function(a,c){b.prototype.mergeOption.call(this,a,c),pe(this)},a.prototype.optionUpdated=function(){this._sourceManager.dirty()},a.prototype.getSourceManager=function(){return this._sourceManager},a.type="dataset",a.defaultOption={seriesLayoutBy:bp},a}(d),Md=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="dataset",a}return cp(a,b),a.type="dataset",a}(g),Me=Q.CMD;function Mf(a,b){return 1e-5>Math.abs(a-b)}function Mg(x){var i,c,d,m,n,b=x.data,A=x.len(),y=[],e=0,f=0,h=0,g=0;function q(a,b){i&&i.length>2&&y.push(i),i=[a,b]}function j(c,d,a,b){Mf(c,a)&&Mf(d,b)||i.push(c,d,a,b,a,b)}function B(a,b,e,f,c,d){var g=4*Math.tan(Math.abs(b-a)/4)/3,h=b<a?-1:1,j=Math.cos(a),k=Math.sin(a),l=Math.cos(b),m=Math.sin(b),n=l*c+e,o=m*d+f,p=c*g*h,q=d*g*h;i.push(j*c+e-p*k,k*d+f+q*j,n+p*m,o-q*l,n,o)}for(var a=0;a<A;){var o=b[a++],z=1===a;switch(z&&(e=b[a],f=b[a+1],h=e,g=f,(o===Me.L||o===Me.C||o===Me.Q)&&(i=[h,g])),o){case Me.M:e=h=b[a++],f=g=b[a++],q(h,g);break;case Me.L:c=b[a++],d=b[a++],j(e,f,c,d),e=c,f=d;break;case Me.C:i.push(b[a++],b[a++],b[a++],b[a++],e=b[a++],f=b[a++]);break;case Me.Q:c=b[a++],d=b[a++],m=b[a++],n=b[a++],i.push(e+2/3*(c-e),f+2/3*(d-f),m+2/3*(c-m),n+2/3*(d-n),m,n),e=m,f=n;break;case Me.A:var r=b[a++],s=b[a++],t=b[a++],u=b[a++],p=b[a++],k=b[a++]+p;a+=1;var v=!b[a++];c=Math.cos(p)*t+r,d=Math.sin(p)*u+s,z?q(h=c,g=d):j(e,f,c,d),e=Math.cos(k)*t+r,f=Math.sin(k)*u+s;for(var w=(v?-1:1)*Math.PI/2,l=p;v?l>k:l<k;l+=w){var C=v?Math.max(l+w,k):Math.min(l+w,k);B(l,C,r,s,t,u)}break;case Me.R:h=e=b[a++],g=f=b[a++],c=h+b[a++],d=g+b[a++],q(c,g),j(c,g,c,d),j(c,d,h,d),j(h,d,h,g),j(h,g,c,g);break;case Me.Z:i&&j(e,f,h,g),e=h,f=g}}return i&&i.length>2&&y.push(i),y}function Mh(h,i,k,l,m,n,c,d,e,o){if(Mf(h,k)&&Mf(i,l)&&Mf(m,c)&&Mf(n,d)){e.push(c,d);return}var v=2/o,j=v*v,f=c-h,g=d-i,w=Math.sqrt(f*f+g*g);f/=w,g/=w;var p=k-h,q=l-i,r=m-c,s=n-d,x=p*p+q*q,y=r*r+s*s;if(x<j&&y<j){e.push(c,d);return}var t=f*p+g*q,u=-f*r-g*s;if(x-t*t<j&&t>=0&&y-u*u<j&&u>=0){e.push(c,d);return}var a=[],b=[];hk(h,k,m,c,.5,a),hk(i,l,n,d,.5,b),Mh(a[0],b[0],a[1],b[1],a[2],b[2],a[3],b[3],e,o),Mh(a[4],b[4],a[5],b[5],a[6],b[6],a[7],b[7],e,o)}function Mi(l,c){var h=Mg(l),i=[];c=c||1;for(var d=0;d<h.length;d++){var a=h[d],e=[],f=a[0],g=a[1];e.push(f,g);for(var b=2;b<a.length;){var m=a[b++],n=a[b++],o=a[b++],p=a[b++],j=a[b++],k=a[b++];Mh(f,g,m,n,o,p,j,k,e,c),f=j,g=k}i.push(e)}return i}function Mj(f,g,c){var i=f[g],j=f[1-g],b=Math.ceil(Math.sqrt(Math.abs(i/j)*c)),d=Math.floor(c/b);0===d&&(d=1,b=c);for(var e=[],a=0;a<b;a++)e.push(d);var h=c-b*d;if(h>0)for(var a=0;a<h;a++)e[a%b]+=1;return e}function Mk(c,o,p){for(var e=c.r0,m=c.r,f=c.startAngle,l=Math.abs(c.endAngle-f),n=l*m,g=m-e,h=n>Math.abs(g),i=Mj([n,g],h?0:1,o),j=(h?l:g)/i.length,b=0;b<i.length;b++)for(var k=(h?g:l)/i[b],d=0;d<i[b];d++){var a={};h?(a.startAngle=f+j*b,a.endAngle=f+j*(b+1),a.r0=e+k*d,a.r=e+k*(d+1)):(a.startAngle=f+k*d,a.endAngle=f+k*(d+1),a.r0=e+j*b,a.r=e+j*(b+1)),a.clockwise=c.clockwise,a.cx=c.cx,a.cy=c.cy,p.push(a)}}function Ml(b,c,r,s,d,e,t,u){var f,g,h,v,i=r-b,j=s-c,l=t-d,m=u-e,n=(f=l,g=m,h=i,f*(v=j)-h*g);if(1e-6>Math.abs(n))return null;var o,p,q,w,a=(o=b-d,p=c-e,q=l,(o*(w=m)-q*p)/n);return a<0||a>1?null:new k(a*i+b,a*j+c)}function Mm(d,b,e){var a=new k;k.sub(a,e,b),a.normalize();var c=new k;return k.sub(c,d,b),c.dot(a)}function Mn(a,b){var c=a[a.length-1];(!c||c[0]!==b[0]||c[1]!==b[1])&&a.push(b)}function Mo(l){var j=l.points,a=[],e=[];kw(j,a,e);var d=new as(a[0],a[1],e[0]-a[0],e[1]-a[1]),f=d.width,g=d.height,h=d.x,i=d.y,b=new k,c=new k;return f>g?(b.x=c.x=h+f/2,b.y=i,c.y=i+g):(b.y=c.y=i+g/2,b.x=h,c.x=h+f),function(b,i,j){for(var f=b.length,e=[],a=0;a<f;a++){var n=b[a],o=b[(a+1)%f],k=Ml(n[0],n[1],o[0],o[1],i.x,i.y,j.x,j.y);k&&e.push({projPt:Mm(k,i,j),pt:k,idx:a})}if(e.length<2)return[{points:b},{points:b}];e.sort(function(a,b){return a.projPt-b.projPt});var c=e[0],d=e[e.length-1];if(d.idx<c.idx){var p=c;c=d,d=p}for(var l=[c.pt.x,c.pt.y],m=[d.pt.x,d.pt.y],g=[l],h=[m],a=c.idx+1;a<=d.idx;a++)Mn(g,b[a].slice());Mn(g,m),Mn(g,l);for(var a=d.idx+1;a<=c.idx+f;a++)Mn(h,b[a%f].slice());return Mn(h,l),Mn(h,m),[{points:g},{points:h}]}(j,b,c)}function Mp(b,d,c,a){if(1===c)a.push(d);else{var e=Math.floor(c/2),f=b(d);Mp(b,f[0],e,a),Mp(b,f[1],c-e,a)}return a}function Mq(a,b){b.setStyle(a.style),b.z=a.z,b.z2=a.z2,b.zlevel=a.zlevel}function Mr(a){for(var c=[],b=0;b<a.length;)c.push([a[b++],a[b++]]);return c}function Ms(e,f){var g=e.length,h=f.length;if(g===h)return[e,f];for(var c=[],d=[],a=g<h?e:f,s=Math.min(g,h),t=Math.abs(h-g)/6,x=Math.ceil(t/((s-2)/6))+1,i=[a[0],a[1]],j=t,b=2;b<s;){var k=a[b-2],l=a[b-1],m=a[b++],n=a[b++],o=a[b++],p=a[b++],u=a[b++],v=a[b++];if(j<=0){i.push(m,n,o,p,u,v);continue}for(var q=Math.min(j,x-1)+1,r=1;r<=q;r++){var w=r/q;hk(k,m,o,u,w,c),hk(l,n,p,v,w,d),k=c[3],l=d[3],i.push(c[1],d[1],c[2],d[2],k,l),m=c[5],n=d[5],o=c[6],p=d[6]}j-=q-1}return a===e?[i,f]:[e,i]}function Mt(a,e){for(var d=a.length,f=a[d-2],g=a[d-1],b=[],c=0;c<e.length;)b[c++]=f,b[c++]=g;return b}function Mu(a){for(var b=0,f=0,g=0,h=a.length,c=0,d=h-2;c<h;d=c,c+=2){var i=a[d],j=a[d+1],k=a[c],l=a[c+1],e=i*l-k*j;b+=e,f+=(i+k)*e,g+=(j+l)*e}return 0===b?[a[0]||0,a[1]||0]:[f/b/3,g/b/3,b]}function Mv(b,e,f,g){for(var o=(b.length-2)/6,h=1/0,i=0,j=b.length,p=j-2,c=0;c<o;c++){for(var k=6*c,d=0,a=0;a<j;a+=2){var l=0===a?k:(k+a-2)%p+2,q=b[l]-f[0],r=b[l+1]-f[1],s=e[a]-g[0],t=e[a+1]-g[1],m=s-q,n=t-r;d+=m*m+n*n}d<h&&(h=d,i=c)}return i}function Mw(b){for(var c=[],d=b.length,a=0;a<d;a+=2)c[a]=b[d-a-2],c[a+1]=b[d-a-1];return c}function Mx(a){return a.__isCombineMorphing}var My="__mOriginal_";function Mz(a,b,c){var d=My+b,e=a[d]||a[b];a[d]||(a[d]=a[b]);var f=c.replace,g=c.after,h=c.before;a[b]=function(){var b,a=arguments;return h&&h.apply(this,a),b=f?f.apply(this,a):e.apply(this,a),g&&g.apply(this,a),b}}function MA(a,c){var b=My+c;a[b]&&(a[c]=a[b],a[b]=null)}function MB(e,a){for(var d=0;d<e.length;d++)for(var b=e[d],c=0;c<b.length;){var f=b[c],g=b[c+1];b[c++]=a[0]*f+a[2]*g+a[4],b[c++]=a[1]*f+a[3]*g+a[5]}}function MC(b,a){var h=b.getUpdatedPathProxy(),i=a.getUpdatedPathProxy(),c=function(f,g){for(var h,i,j,k=[],l=[],e=0;e<Math.max(f.length,g.length);e++){var a=f[e],b=g[e],c=void 0,d=void 0;a?b?(c=(h=Ms(a,b))[0],d=h[1],i=c,j=d):(d=Mt(j||a,a),c=a):(c=Mt(i||b,b),d=b),k.push(c),l.push(d)}return[k,l]}(Mg(h),Mg(i)),d=c[0],e=c[1],f=b.getComputedTransform(),g=a.getComputedTransform();f&&MB(d,f),g&&MB(e,g),Mz(a,"updateTransform",{replace:function(){this.transform=null}}),a.transform=null;var j=function(q,G,r,m){for(var n,s=[],i=0;i<q.length;i++){var b=q[i],f=G[i],c=Mu(b),d=Mu(f);null==n&&(n=c[2]<0!=d[2]<0);var e=[],j=[],t=0,u=1/0,k=[],v=b.length;n&&(b=Mw(b));for(var o=6*Mv(b,f,c,d),w=v-2,a=0;a<w;a+=2){var x=(o+a)%w+2;e[a+2]=b[x]-c[0],e[a+3]=b[x+1]-c[1]}if(e[0]=b[o]-c[0],e[1]=b[o+1]-c[1],r>0)for(var H=m/r,h=-m/2;h<=m/2;h+=H){for(var y=Math.sin(h),z=Math.cos(h),p=0,a=0;a<b.length;a+=2){var I=e[a],J=e[a+1],A=f[a]-d[0],B=f[a+1]-d[1],C=A*z-B*y,D=A*y+B*z;k[a]=C,k[a+1]=D;var E=C-I,F=D-J;p+=E*E+F*F}if(p<u){u=p,t=h;for(var l=0;l<k.length;l++)j[l]=k[l]}}else for(var g=0;g<v;g+=2)j[g]=f[g]-d[0],j[g+1]=f[g+1]-d[1];s.push({from:e,to:j,fromCp:c,toCp:d,rotation:-t})}return s}(d,e,10,Math.PI),k=[];Mz(a,"buildPath",{replace:function(l){for(var c=a.__morphT,q=1-c,m=[],n=0;n<j.length;n++){var d=j[n],e=d.from,r=d.to,s=d.rotation*c,z=d.fromCp,A=d.toCp,t=Math.sin(s),u=Math.cos(s);gm(m,z,A,c);for(var b=0;b<e.length;b+=2){var B=e[b],C=e[b+1],f=r[b],g=r[b+1],v=B*q+f*c,w=C*q+g*c;k[b]=v*u-w*t+m[0],k[b+1]=v*t+w*u+m[1]}var o=k[0],p=k[1];l.moveTo(o,p);for(var b=2;b<e.length;){var f=k[b++],g=k[b++],x=k[b++],y=k[b++],h=k[b++],i=k[b++];o===f&&p===g&&x===h&&y===i?l.lineTo(h,i):l.bezierCurveTo(f,g,x,y,h,i),o=h,p=i}}}})}function MD(c,a,b){if(!c||!a)return a;var d=b.done,e=b.during;return MC(c,a),a.__morphT=0,a.animateTo({__morphT:1},x({during:function(b){a.dirtyShape(),e&&e(b)},done:function(){MA(a,"buildPath"),MA(a,"updateTransform"),a.__morphT=-1,a.createPathProxy(),a.dirtyShape(),d&&d()}},b)),a}function ME(a){var d=1/0,e=1/0,f=-1/0,g=-1/0,b=Y(a,function(i){var a=i.getBoundingRect(),b=i.getComputedTransform(),c=a.x+a.width/2+(b?b[4]:0),h=a.y+a.height/2+(b?b[5]:0);return d=Math.min(c,d),e=Math.min(h,e),f=Math.max(c,f),g=Math.max(h,g),[c,h]}),c=Y(b,function(b,c){return{cp:b,z:function(b,c,d,e,h,i){var j,l=16;b=h===d?0:Math.round(32767*(b-d)/(h-d)),c=i===e?0:Math.round(32767*(c-e)/(i-e));for(var k=0,a=(1<<l)/2;a>0;a/=2){var f=0,g=0;(b&a)>0&&(f=1),(c&a)>0&&(g=1),k+=a*a*(3*f^g),0===g&&(1===f&&(b=a-1-b,c=a-1-c),j=b,b=c,c=j)}return k}(b[0],b[1],d,e,f,g),path:a[c]}});return c.sort(function(a,b){return a.z-b.z}).map(function(a){return a.path})}function MF(a){return function(e,c){var f,d=[],g=e.shape;switch(e.type){case"rect":!function(b,m,n){for(var g=b.width,h=b.height,c=g>h,e=Mj([g,h],c?0:1,m),i=c?"width":"height",j=c?"height":"width",o=c?"x":"y",p=c?"y":"x",k=b[i]/e.length,d=0;d<e.length;d++)for(var l=b[j]/e[d],f=0;f<e[d];f++){var a={};a[o]=d*k,a[p]=f*l,a[i]=k,a[j]=l,a.x+=b.x,a.y+=b.y,n.push(a)}}(g,c,d),f=z;break;case"sector":Mk(g,c,d),f=aN;break;case"circle":Mk({r0:0,r:g.r,startAngle:0,endAngle:2*Math.PI,cx:g.cx,cy:g.cy},c,d),f=aN;break;default:var b=e.getComputedTransform(),p=b?Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1],b[2]*b[2]+b[3]*b[3])):1,i=Y(Mi(e.getUpdatedPathProxy(),p),function(a){return Mr(a)}),h=i.length;if(0===h)Mp(Mo,{points:i[0]},c,d);else if(h===c)for(var a=0;a<h;a++)d.push({points:i[a]});else{var q=0,m=Y(i,function(c){var a=[],b=[];kw(c,a,b);var d=(b[1]-a[1])*(b[0]-a[0]);return q+=d,{poly:c,area:d}});m.sort(function(a,b){return b.area-a.area});for(var j=c,a=0;a<h;a++){var n=m[a];if(j<=0)break;var k=a===h-1?j:Math.ceil(n.area/q*c);!(k<0)&&(Mp(Mo,{points:n.poly},k,d),j-=k)}}f=bA}if(!f)return function(c,d){for(var a=[],b=0;b<d;b++)a.push(p5(c));return a}(e,c);for(var o=[],a=0;a<d.length;a++){var l=new f;l.setShape(d[a]),Mq(e,l),o.push(l)}return o}(a.path,a.count)}function MG(){return{fromIndividuals:[],toIndividuals:[],count:0}}function MH(a){return cv(a[0])}function MI(i,g){for(var b=[],h=i.length,a=0;a<h;a++)b.push({one:i[a],many:[]});for(var a=0;a<g.length;a++){var e=g[a].length,c=void 0;for(c=0;c<e;c++)b[c%h].many.push(g[a][c])}for(var d=0,a=h-1;a>=0;a--)if(!b[a].many.length){var f=b[d].many;if(f.length<=1){if(!d)return b;d=0}var e=f.length,j=Math.ceil(e/2);b[a].many=f.slice(j,e),b[d].many=f.slice(0,j),d++}return b}var MJ={clone:function(a){for(var b=[],e=1-Math.pow(1-a.path.style.opacity,1/a.count),c=0;c<a.count;c++){var d=p5(a.path);d.setStyle("opacity",e),b.push(d)}return b},split:null};function MK(a,d,n,j,m,o){if(a.length&&d.length){var e,g,h=mi("update",j,m);if(h&&h.duration>0){var p=j.getModel("universalTransition").get("delay"),q=Object.assign({setToFinal:!0},h);MH(a)&&(e=a,g=d),MH(d)&&(e=d,g=a);for(var i=e?e===a:a.length>d.length,f=e?MI(g,e):MI(i?d:a,[i?a:d]),k=0,b=0;b<f.length;b++)k+=f[b].many.length;for(var l=0,b=0;b<f.length;b++)r(f[b],i,l,k),l+=f[b].many.length}}function r(f,d,j,k,u){var a=f.many,g=f.one;if(1!==a.length||u)for(var l=x({dividePath:MJ[n],individualDelay:p&&function(a,b,c,d){return p(a+j,k)}},q),m=d?function(k,b,d){var f=[];function l(d){for(var b=0;b<d.length;b++){var a=d[b];Mx(a)?l(a.childrenRef()):a instanceof c&&f.push(a)}}l(k);var g=f.length;if(!g)return MG();var e=(d.dividePath||MF)({path:b,count:g});if(e.length!==g)return console.error("Invalid morphing: unmatched splitted path"),MG();f=ME(f),e=ME(e);for(var r=d.done,s=d.during,h=d.individualDelay,m=new ar,a=0;a<g;a++){var n=f[a],j=e[a];j.parent=b,j.copyTransform(m),h||MC(n,j)}function o(b){for(var a=0;a<e.length;a++)e[a].addSelfToZr(b)}function t(){b.__isCombineMorphing=!1,b.__morphT=-1,b.childrenRef=null,MA(b,"addSelfToZr"),MA(b,"removeSelfFromZr")}b.__isCombineMorphing=!0,b.childrenRef=function(){return e},Mz(b,"addSelfToZr",{after:function(a){o(a)}}),Mz(b,"removeSelfFromZr",{after:function(b){for(var a=0;a<e.length;a++)e[a].removeSelfFromZr(b)}});var i=e.length;if(h)for(var u=i,p=function(){0== --u&&(t(),r&&r())},a=0;a<i;a++){var q=h?x({delay:(d.delay||0)+h(a,i,f[a],e[a]),done:p},d):d;MD(f[a],e[a],q)}else b.__morphT=0,b.animateTo({__morphT:1},x({during:function(d){for(var a=0;a<i;a++){var c=e[a];c.__morphT=b.__morphT,c.dirtyShape()}s&&s(d)},done:function(){t();for(var a=0;a<k.length;a++)MA(k[a],"updateTransform");r&&r()}},d));return b.__zr&&o(b.__zr),{fromIndividuals:f,toIndividuals:e,count:i}}(a,g,l):function(g,d,f){var e=d.length,b=[],j=f.dividePath||MF;function k(e){for(var d=0;d<e.length;d++){var a=e[d];Mx(a)?k(a.childrenRef()):a instanceof c&&b.push(a)}}if(Mx(g)){k(g.childrenRef());var h=b.length;if(h<e)for(var l=0,a=h;a<e;a++)b.push(p5(b[(l++)%h]));b.length=e}else{b=j({path:g,count:e});for(var m=g.getComputedTransform(),a=0;a<b.length;a++)b[a].setLocalTransform(m);if(b.length!==e)return console.error("Invalid morphing: unmatched splitted path"),MG()}b=ME(b),d=ME(d);for(var i=f.individualDelay,a=0;a<e;a++){var n=i?x({delay:(f.delay||0)+i(a,e,b[a],d[a])},f):f;MD(b[a],d[a],n)}return{fromIndividuals:b,toIndividuals:d,count:d.length}}(g,a,l),s=m.fromIndividuals,v=m.toIndividuals,t=s.length,b=0;b<t;b++){var h=p?x({delay:p(b,t)},q):q;o(s[b],v[b],d?a[b]:f.one,d?f.one:a[b],h)}else{var e=d?a[0]:g,i=d?g:a[0];if(Mx(e))r({many:[e],one:i},!0,j,k,!0);else{var h=p?x({delay:p(j,k)},q):q;MD(e,i,h),o(e,i,e,i,h)}}}}function ML(a){if(!a)return[];if(cv(a)){for(var d=[],b=0;b<a.length;b++)d.push(ML(a[b]));return d}var e=[];return a.traverse(function(a){a instanceof c&&!a.disableMorphing&&!a.invisible&&!a.ignore&&e.push(a)}),e}var MM=a();function MN(a){var b=[];return j(a,function(c){var a=c.data;if(!(a.count()>1e4))for(var e=a.getIndices(),f=function(c){for(var b=c.dimensions,a=0;a<b.length;a++){var d=c.getDimensionInfo(b[a]);if(d&&0===d.otherDims.itemGroupId)return b[a]}}(a),d=0;d<e.length;d++)b.push({data:a,dim:c.dim||f,divide:c.divide,dataIndex:d})}),b}function MO(a,b,d){a.traverse(function(a){a instanceof c&&ml(a,{style:{opacity:0}},b,{dataIndex:d,isFrom:!0})})}function MP(a){if(a.parent){var b=a.getComputedTransform();a.setLocalTransform(b),a.parent.remove(a)}}function MQ(a){a.stopAnimation(),a.isGroup&&a.traverse(function(a){a.stopAnimation()})}function MR(l,f,p){var b=MN(l),a=MN(f);function q(a,c,b,e,d){(b||a)&&c.animateFrom({style:b&&b!==a?fP(fP({},b.style),a.style):a.style},d)}function g(b){for(var a=0;a<b.length;a++)if(b[a].dim)return b[a].dim}var r=g(b),s=g(a),m=!1;function h(a,b){return function(g){var c=g.data,d=g.dataIndex;if(b)return c.getId(d);var k=c.hostModel&&c.hostModel.get("dataGroupId"),h=a?r||s:s||r,e=h&&c.getDimensionInfo(h),i=e&&e.ordinalMeta;if(e){var j=c.get(e.name,d);return i&&i.categories[j]||j+""}var f=c.getRawDataItem(d);return f&&f.groupId?f.groupId+"":k||c.getId(d)}}var d=function(b,c){var d=b.length;if(d!==c.length)return!1;for(var a=0;a<d;a++){var e=b[a],f=c[a];if(e.data.getId(e.dataIndex)!==f.data.getId(f.dataIndex))return!1}return!0}(b,a),n={};if(!d)for(var e=0;e<a.length;e++){var i=a[e],k=i.data.getItemGraphicEl(i.dataIndex);k&&(n[k.id]=!0)}function o(f,k){var h,i,l,o,j=b[k],e=a[f],g=e.data.hostModel,c=j.data.getItemGraphicEl(j.dataIndex),d=e.data.getItemGraphicEl(e.dataIndex);if(c===d){d&&(h=d,i=e.dataIndex,(o=mi("update",l=g,i))&&h.traverse(function(a){if(a instanceof P){var c,b=mh(c=a).oldStyle;b&&a.animateFrom({style:b},o)}}));return}(!c||!n[c.id])&&d&&(MQ(d),c?(MQ(c),MP(c),m=!0,MK(ML(c),ML(d),e.divide,g,f,q)):MO(d,g,f))}new uf(b,a,h(!0,d),h(!1,d),null,"multiple").update(o).updateManyToOne(function(f,i){var c=a[f],g=c.data,h=g.hostModel,d=g.getItemGraphicEl(c.dataIndex),e=fS(Y(i,function(a){return b[a].data.getItemGraphicEl(b[a].dataIndex)}),function(a){return a&&a!==d&&!n[a.id]});d&&(MQ(d),e.length?(j(e,function(a){MQ(a),MP(a)}),m=!0,MK(ML(e),ML(d),c.divide,h,f,q)):MO(d,h,c.dataIndex))}).updateOneToMany(function(e,g){var f=b[g],c=f.data.getItemGraphicEl(f.dataIndex);if(!c||!n[c.id]){var d=fS(Y(e,function(b){return a[b].data.getItemGraphicEl(a[b].dataIndex)}),function(a){return a&&a!==c}),h=a[e[0]].data.hostModel;d.length&&(j(d,function(a){return MQ(a)}),c?(MQ(c),MP(c),m=!0,MK(ML(c),ML(d),f.divide,h,e[0],q)):j(d,function(a){return MO(a,h,e[0])}))}}).updateManyToMany(function(c,d){new uf(d,c,function(a){return b[a].data.getId(b[a].dataIndex)},function(b){return a[b].data.getId(a[b].dataIndex)}).update(function(a,b){o(c[a],d[b])}).execute()}).execute(),m&&j(f,function(e){var a=e.data.hostModel,b=a&&p.getViewOfSeriesModel(a),d=mi("update",a,0);b&&a.isAnimationEnabled()&&d&&d.duration>0&&b.group.traverse(function(a){a instanceof c&&!a.animators.length&&a.animateFrom({style:{opacity:0}},d)})})}function MS(a){var b=a.getModel("universalTransition").get("seriesKey");return b||a.id}function MT(a){return cv(a)?a.sort().join(","):a}function MU(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function MV(c,b){for(var a=0;a<c.length;a++)if(null!=b.seriesIndex&&b.seriesIndex===c[a].seriesIndex||null!=b.seriesId&&b.seriesId===c[a].id)return a}b([function(a){a.registerPainter("canvas",tl)}]),b([function(a){a.registerPainter("svg",uc)}]),b([function(a){a.registerChartView(ve),a.registerSeriesModel(uH),a.registerLayout(vf("line",!0)),a.registerVisual({seriesType:"line",reset:function(b){var c=b.getData(),a=b.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=c.getVisual("style").fill),c.setVisual("legendLineStyle",a)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,vi("line"))},function(a){a.registerChartView(vU),a.registerSeriesModel(vu),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,m(vp,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,vq("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,vi("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){a.sortInfo&&b.axis.setCategorySortInfo(a.sortInfo)})})},function(a){var b;a.registerChartView(v5),a.registerSeriesModel(v8),rD("pie",a.registerAction),a.registerLayout(m(vZ,"pie")),a.registerProcessor(v$("pie")),a.registerProcessor({seriesType:"pie",reset:function(a,c){var b=a.getData();b.filterSelf(function(c){var d=b.mapDimension("value"),a=b.get(d,c);return!fV(a)||!!isNaN(a)||!(a<0)})}})},function(a){b(xS),a.registerSeriesModel(v9),a.registerChartView(wd),a.registerLayout(vf("scatter"))},function(a){b(x4),a.registerChartView(xX),a.registerSeriesModel(xY),a.registerLayout(xT),a.registerProcessor(v$("radar")),a.registerPreprocessor(xW)},function(a){b(dN),a.registerChartView(zb),a.registerSeriesModel(zc),a.registerLayout(ze),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,zd),rD("map",a.registerAction)},function(a){var b;a.registerChartView(zM),a.registerSeriesModel(z2),a.registerLayout(z4),a.registerVisual(z6),(b=a).registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(c){var d=a.dataIndex,b=c.getData().tree.getNodeByDataIndex(d);b.isExpand=!b.isExpand})}),b.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b,c){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var d=zp(b.coordinateSystem,a,void 0,c);b.setCenter&&b.setCenter(d.center),b.setZoom&&b.setZoom(d.zoom)})})},function(a){a.registerSeriesModel(Ab),a.registerChartView(As),a.registerVisual(AJ),a.registerLayout(A$),function(b){for(var a=0;a<z7.length;a++)b.registerAction({type:z7[a],update:"updateView"},y);b.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,e){var c=z$(a,["treemapZoomToNode","treemapRootToNode"],b);if(c){var d=b.getViewRoot();d&&(a.direction=z0(d,c.node)?"rollUp":"drillDown"),b.resetViewRoot(c.node)}})})}(a)},function(a){a.registerChartView(BW),a.registerSeriesModel(BZ),a.registerProcessor(Ba),a.registerVisual(Bb),a.registerVisual(Bd),a.registerLayout(Bo),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,Bv),a.registerLayout(Bx),a.registerCoordinateSystem("graphView",{dimensions:b7.dimensions,create:By}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},y),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},y),a.registerAction(B$,function(a,b,c){b.eachComponent({mainType:"series",query:a},function(b){var d=zp(b.coordinateSystem,a,void 0,c);b.setCenter&&b.setCenter(d.center),b.setZoom&&b.setZoom(d.zoom)})})},function(a){a.registerChartView(B2),a.registerSeriesModel(B3)},function(a){a.registerChartView(B6),a.registerSeriesModel(B7),a.registerLayout(B8),a.registerProcessor(v$("funnel"))},function(a){b(d3),a.registerChartView(Cf),a.registerSeriesModel(Ci),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,Ck)},function(a){a.registerChartView(Dz),a.registerSeriesModel(DA),a.registerLayout(DB),a.registerVisual(DY),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(b){b.setNodePosition(a.dataIndex,[a.localX,a.localY])})})},function(a){a.registerSeriesModel(DZ),a.registerChartView(D3),a.registerVisual(D4),a.registerLayout(D6),a.registerTransform(Ea)},function(a){a.registerChartView(Em),a.registerSeriesModel(En),a.registerPreprocessor(Eo),a.registerVisual(Et),a.registerLayout(Ew)},function(a){a.registerChartView(Ez),a.registerSeriesModel(EA),a.registerLayout(vf("effectScatter"))},function(a){a.registerChartView(EH),a.registerSeriesModel(EL),a.registerLayout(EG),a.registerVisual(EN)},function(a){a.registerChartView(EQ),a.registerSeriesModel(ER)},function(a){a.registerChartView(Ff),a.registerSeriesModel(Fg),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,m(vp,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,vq("pictorialBar"))},function(a){a.registerChartView(Fi),a.registerSeriesModel(Fj),a.registerLayout(Fk),a.registerProcessor(v$("themeRiver"))},function(a){var b;a.registerChartView(Fq),a.registerSeriesModel(Fs),a.registerLayout(m(Fu,"sunburst")),a.registerProcessor(m(v$,"sunburst")),a.registerVisual(Fx),(b=a).registerAction({type:Fo,update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b,e){var c=z$(a,[Fo],b);if(c){var d=b.getViewRoot();d&&(a.direction=z0(d,c.node)?"rollUp":"drillDown"),b.resetViewRoot(c.node)}})}),b.registerAction({type:Fp,update:"none"},function(a,b,c){a=fP({},a),b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(c){var b=z$(a,[Fp],c);b&&(a.dataIndex=b.node.dataIndex)}),c.dispatchAction(fP(a,{type:"highlight"}))}),b.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(a,c,b){a=fP({},a),b.dispatchAction(fP(a,{type:"downplay"}))})},function(a){a.registerChartView(Gf),a.registerSeriesModel(FB)}]),b(function(a){b(xS),b(eg)}),b(function(a){b(eg),aj.registerAxisPointerClass("PolarAxisPointer",Hk),a.registerCoordinateSystem("polar",Hv),a.registerComponentModel(Hl),a.registerComponentView(HM),wj(a,"angle",Hm,HK),wj(a,"radius",Hn,HL),a.registerComponentView(HB),a.registerComponentView(HG),a.registerLayout(m(HJ,"bar"))}),b(dN),b(function(a){b(eg),aj.registerAxisPointerClass("SingleAxisPointer",H0),a.registerComponentView(H1),a.registerComponentView(HR),a.registerComponentModel(HS),wj(a,"single",HS,HS.defaultOption),a.registerCoordinateSystem("single",HW)}),b(d3),b(function(a){a.registerComponentModel(H3),a.registerComponentView(H4),a.registerCoordinateSystem("calendar",H6)}),b(function(a){a.registerComponentModel(Ia),a.registerComponentView(Id),a.registerPreprocessor(function(b){var a=b.graphic;cv(a)?a[0]&&a[0].elements?b.graphic=[b.graphic[0]]:b.graphic=[{elements:a}]:a&&!a.elements&&(b.graphic=[{elements:[a]}])})}),b(function(a){a.registerComponentModel(IC),a.registerComponentView(IF),IA("saveAsImage",IG),IA("magicType",IK),IA("dataView",IO),IA("dataZoom",Jc),IA("restore",IS),b(Iy)}),b(function(a){b(eg),a.registerComponentModel(Jd),a.registerComponentView(Jx),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},y),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},y)}),b(eg),b(function(a){a.registerComponentView(JT),a.registerComponentModel(JV),a.registerPreprocessor(Jz),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,JM),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},y),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},y),IA("brush",JX)}),b(function(a){a.registerComponentModel(JY),a.registerComponentView(JZ)}),b(function(a){var b;a.registerComponentModel(J$),a.registerComponentView(J7),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),(b=a).registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(b,c,d){var a=c.getComponent("timeline");return a&&null!=b.currentIndex&&(a.setCurrentIndex(b.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),d.dispatchAction({type:"timelinePlayChange",playState:!1,from:b.from}))),c.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),x({currentIndex:a.option.currentIndex},b)}),b.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,c){var b=c.getComponent("timeline");b&&null!=a.playState&&b.setPlayState(a.playState)}),a.registerPreprocessor(J8)}),b(function(a){a.registerComponentModel(Kf),a.registerComponentView(Kr),a.registerPreprocessor(function(a){Kc(a.series,"markPoint")&&(a.markPoint=a.markPoint||{})})}),b(function(a){a.registerComponentModel(Ks),a.registerComponentView(KA),a.registerPreprocessor(function(a){Kc(a.series,"markLine")&&(a.markLine=a.markLine||{})})}),b(function(a){a.registerComponentModel(KB),a.registerComponentView(KK),a.registerPreprocessor(function(a){Kc(a.series,"markArea")&&(a.markArea=a.markArea||{})})}),b(function(a){b(KW),b(K1)}),b(function(a){b(eR),b(eT)}),b(eR),b(eT),b(function(a){b(eW),b(eY)}),b(eW),b(eY),b(function(a){a.registerPreprocessor(LY),a.registerVisual(a.PRIORITY.VISUAL.ARIA,LX)}),b(function(a){a.registerTransform(Ma),a.registerTransform(Mb)}),b(function(a){a.registerComponentModel(Mc),a.registerComponentView(Md)}),b(function(a){a.registerUpdateLifecycle("series:beforeupdate",function(b,c,a){j(jw(a.seriesTransition),function(b){j(jw(b.to),function(c){for(var d=a.updatedSeries,b=0;b<d.length;b++)(null!=c.seriesIndex&&c.seriesIndex===d[b].seriesIndex||null!=c.seriesId&&c.seriesId===d[b].id)&&(d[b][pF]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(k,l,a){var b=MM(l);if(b.oldSeries&&a.updatedSeries&&a.optionChanged){var e=a.seriesTransition;if(e)j(jw(e),function(g){var c,h,i,f,d,e;c=g,h=b,i=a,f=l,d=[],e=[],j(jw(c.from),function(b){var a=MV(h.oldSeries,b);a>=0&&d.push({data:h.oldData[a],divide:MU(h.oldData[a]),dim:b.dimension})}),j(jw(c.to),function(a){var b=MV(i.updatedSeries,a);if(b>=0){var c=i.updatedSeries[b].getData();e.push({data:c,divide:MU(c),dim:a.dimension})}}),d.length>0&&e.length>0&&MR(d,e,f)});else{var f,g,h,m,n,o=(f=b,g=a,h=s(),m=s(),n=s(),j(f.oldSeries,function(b,c){var d=f.oldData[c],a=MS(b),e=MT(a);m.set(e,d),cv(a)&&j(a,function(a){n.set(a,{data:d,key:e})})}),j(g.updatedSeries,function(c){if(c.isUniversalTransitionEnabled()&&c.isAnimationEnabled()){var a=c.getData(),d=MS(c),f=MT(d),g=m.get(f);if(g)h.set(f,{oldSeries:[{divide:MU(g),data:g}],newSeries:[{divide:MU(a),data:a}]});else if(cv(d)){var i=[];j(d,function(b){var a=m.get(b);a&&i.push({divide:MU(a),data:a})}),i.length&&h.set(f,{oldSeries:i,newSeries:[{data:a,divide:MU(a)}]})}else{var b=n.get(d);if(b){var e=h.get(b.key);e||(e={oldSeries:[{data:b.data,divide:MU(b.data)}],newSeries:[]},h.set(b.key,e)),e.newSeries.push({data:a,divide:MU(a)})}}}}),h);j(o.keys(),function(b){var a=o.get(b);MR(a.oldSeries,a.newSeries,l)})}j(a.updatedSeries,function(a){a[pF]&&(a[pF]=!1)})}for(var d=k.getSeries(),p=b.oldSeries=[],q=b.oldData=[],c=0;c<d.length;c++){var i=d[c].getData();1e4>i.count()&&(p.push(d[c]),q.push(i))}})}),b(bT)}}])