"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{34668:function(ai,j,a){a.r(j),a.d(j,{AElement:function(){return X},AnimateColorElement:function(){return R},AnimateElement:function(){return h},AnimateTransformElement:function(){return S},BoundingBox:function(){return aZ},CB1:function(){return aK},CB2:function(){return aL},CB3:function(){return aM},CB4:function(){return aN},Canvg:function(){return bd},CircleElement:function(){return G},ClipPathElement:function(){return ab},DefsElement:function(){return M},DescElement:function(){return ah},Document:function(){return i},Element:function(){return b},EllipseElement:function(){return H},FeColorMatrixElement:function(){return aa},FeCompositeElement:function(){return ae},FeDropShadowElement:function(){return ac},FeGaussianBlurElement:function(){return af},FeMorphologyElement:function(){return ad},FilterElement:function(){return r},Font:function(){return g},FontElement:function(){return T},FontFaceElement:function(){return U},GElement:function(){return N},GlyphElement:function(){return D},GradientElement:function(){return o},ImageElement:function(){return Z},LineElement:function(){return I},LinearGradientElement:function(){return O},MarkerElement:function(){return L},MaskElement:function(){return q},Matrix:function(){return k},MissingGlyphElement:function(){return V},Mouse:function(){return aT},PSEUDO_ZERO:function(){return aG},Parser:function(){return aW},PathElement:function(){return c},PathParser:function(){return a$},PatternElement:function(){return K},Point:function(){return aS},PolygonElement:function(){return J},PolylineElement:function(){return n},Property:function(){return u},QB1:function(){return aO},QB2:function(){return aP},QB3:function(){return aQ},RadialGradientElement:function(){return P},RectElement:function(){return F},RenderedElement:function(){return d},Rotate:function(){return y},SVGElement:function(){return E},SVGFontLoader:function(){return a3},Scale:function(){return z},Screen:function(){return f},Skew:function(){return l},SkewX:function(){return A},SkewY:function(){return B},StopElement:function(){return Q},StyleElement:function(){return p},SymbolElement:function(){return $},TRefElement:function(){return W},TSpanElement:function(){return m},TextElement:function(){return e},TextPathElement:function(){return Y},TitleElement:function(){return ag},Transform:function(){return C},Translate:function(){return x},UnknownElement:function(){return aX},UseElement:function(){return _},ViewPort:function(){return aR},compressSpaces:function(){return aq},default:function(){return bd},getSelectorSpecificity:function(){return aF},normalizeAttributeName:function(){return av},normalizeColor:function(){return aw},parseExternalUrl:function(){return t},presets:function(){return ap},toNumbers:function(){return at},trimLeft:function(){return ar},trimRight:function(){return as},vectorMagnitude:function(){return aH},vectorsAngle:function(){return aJ},vectorsRatio:function(){return aI}}),a(88674);var aj=a(15861);a(4723),a(15306),a(23157),a(66992),a(33948);var ak=a(4942);a(85827),a(27852),a(23123);var al=a(54087);a(73210);var am=a(26131);a(82772),a(32023),a(65069);var s=a(35851);a(39714);var an=a(62449),ao=a(83454),ap=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:a}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:a,createCanvas:(a,b)=>new OffscreenCanvas(a,b),createImage:a=>(0,aj.Z)(function*(){return yield createImageBitmap((yield(yield fetch(a)).blob()))})()};return("undefined"!=typeof DOMParser|| void 0===a)&&Reflect.deleteProperty(b,"DOMParser"),b},node:function(b){var{DOMParser:c,canvas:a,fetch:d}=b;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:c,fetch:d,createCanvas:a.createCanvas,createImage:a.loadImage}}});function aq(a){return a.replace(/(?!\u3000)\s+/gm," ")}function ar(a){return a.replace(/^[\n \t]+/,"")}function as(a){return a.replace(/[\n \t]+$/,"")}function at(a){return((a||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var au=/^[A-Z-]+$/;function av(a){return au.test(a)?a.toLowerCase():a}function t(b){var a=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(b)||[];return a[2]||a[3]||a[4]}function aw(a){if(!a.startsWith("rgb"))return a;var b=3;return a.replace(/\d+(\.\d+)?/g,(a,c)=>(b--)&&c?String(Math.round(parseFloat(a))):a)}var ax=/(\[[^\]]+\])/g,ay=/(#[^\s+>~.[:]+)/g,az=/(\.[^\s+>~.[:]+)/g,aA=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,aB=/(:[\w-]+\([^)]*\))/gi,aC=/(:[^\s+>~.[:]+)/g,aD=/([^\s+>~.[:]+)/g;function aE(a,b){var c=b.exec(a);return c?[a.replace(b," "),c.length]:[a,0]}function aF(d){var c=[0,0,0],a=d.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),b=0;return[a,b]=aE(a,ax),c[1]+=b,[a,b]=aE(a,ay),c[0]+=b,[a,b]=aE(a,az),c[1]+=b,[a,b]=aE(a,aA),c[2]+=b,[a,b]=aE(a,aB),c[1]+=b,[a,b]=aE(a,aC),c[1]+=b,a=a.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[a,b]=aE(a,aD),c[2]+=b,c.join("")}var aG=1e-8;function aH(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))}function aI(a,b){return(a[0]*b[0]+a[1]*b[1])/(aH(a)*aH(b))}function aJ(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(aI(a,b))}function aK(a){return a*a*a}function aL(a){return 3*a*a*(1-a)}function aM(a){return 3*a*(1-a)*(1-a)}function aN(a){return(1-a)*(1-a)*(1-a)}function aO(a){return a*a}function aP(a){return 2*a*(1-a)}function aQ(a){return(1-a)*(1-a)}class u{constructor(a,b,c){this.document=a,this.name=b,this.value=c,this.isNormalizedColor=!1}static empty(a){return new u(a,"EMPTY","")}split(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:" ",{document:b,name:c}=this;return aq(this.getString()).trim().split(a).map(a=>new u(b,c,a))}hasValue(b){var{value:a}=this;return null!==a&&""!==a&&(b||0!==a)&& void 0!==a}isString(a){var{value:b}=this,c="string"==typeof b;return c&&a?a.test(b):c}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var a=this.getString();switch(!0){case a.endsWith("px"):case/^[0-9]+$/.test(a):return!0;default:return!1}}setValue(a){return this.value=a,this}getValue(a){return void 0===a||this.hasValue()?this.value:a}getNumber(a){if(!this.hasValue())return void 0===a?0:parseFloat(a);var{value:c}=this,b=parseFloat(c);return this.isString(/%$/)&&(b/=100),b}getString(a){return void 0===a||this.hasValue()?void 0===this.value?"":String(this.value):String(a)}getColor(b){var a=this.getString(b);return this.isNormalizedColor||(this.isNormalizedColor=!0,a=aw(a),this.value=a),a}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(b){var e=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[d,f]="boolean"==typeof b?[void 0,b]:[b],{viewPort:a}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(a.computeSize("x"),a.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(a.computeSize("x"),a.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*a.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*a.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&f:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*a.computeSize(d);default:var c=this.getNumber();if(e&&c<1)return c*a.computeSize(d);return c}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var b=this.getString(),a=/#([^)'"]+)/.exec(b);return a&&(a=a[1]),a||(a=b),this.document.definitions[a]}getFillStyleDefinition(b,c){var a=this.getDefinition();if(!a)return null;if("function"==typeof a.createGradient)return a.createGradient(this.document.ctx,b,c);if("function"==typeof a.createPattern){if(a.getHrefAttribute().hasValue()){var d=a.getAttribute("patternTransform");a=a.getHrefAttribute().getDefinition(),d.hasValue()&&a.getAttribute("patternTransform",!0).setValue(d.value)}return a.createPattern(this.document.ctx,b,c)}return null}getTextBaseline(){return this.hasValue()?u.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var a=this.getColor(),f=a.length,b=0,c=0;c<f&&(","===a[c]&&b++,3!==b);c++);if(e.hasValue()&&this.isString()&&3!==b){var d=new am(a);d.ok&&(d.alpha=e.getNumber(),a=d.toRGBA())}return new u(this.document,this.name,a)}}u.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class aR{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(a,b){this.viewPorts.push({width:a,height:b})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:a}=this;return a[a.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(a){return"number"==typeof a?a:"x"===a?this.width:"y"===a?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class aS{constructor(a,b){this.x=a,this.y=b}static parse(b){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0,[c=a,d=a]=at(b);return new aS(c,d)}static parseScale(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,[a=c,d=a]=at(b);return new aS(a,d)}static parsePath(d){for(var b=at(d),e=b.length,c=[],a=0;a<e;a+=2)c.push(new aS(b[a],b[a+1]));return c}angleTo(a){return Math.atan2(a.y-this.y,a.x-this.x)}applyTransform(a){var{x:b,y:c}=this,d=b*a[0]+c*a[2]+a[4],e=b*a[1]+c*a[3]+a[5];this.x=d,this.y=e}}class aT{constructor(a){this.screen=a,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:b,onClick:c,onMouseMove:d}=this,a=b.ctx.canvas;a.onclick=c,a.onmousemove=d,this.working=!0}}stop(){if(this.working){var a=this.screen.ctx.canvas;this.working=!1,a.onclick=null,a.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:b,events:c,eventElements:d}=this,{style:a}=b.ctx.canvas;a&&(a.cursor=""),c.forEach((b,c)=>{for(var{run:e}=b,a=d[c];a;)e(a),a=a.parent}),this.events=[],this.eventElements=[]}}checkPath(c,a){if(this.working&&a){var{events:b,eventElements:d}=this;b.forEach((e,b)=>{var{x:f,y:g}=e;!d[b]&&a.isPointInPath&&a.isPointInPath(f,g)&&(d[b]=c)})}}checkBoundingBox(c,a){if(this.working&&a){var{events:b,eventElements:d}=this;b.forEach((e,b)=>{var{x:f,y:g}=e;!d[b]&&a.isPointInBox(f,g)&&(d[b]=c)})}}mapXY(d,e){for(var{window:c,ctx:f}=this.screen,a=new aS(d,e),b=f.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;return c.scrollX&&(a.x+=c.scrollX),c.scrollY&&(a.y+=c.scrollY),a}onClick(a){var{x:b,y:c}=this.mapXY(a.clientX,a.clientY);this.events.push({type:"onclick",x:b,y:c,run(a){a.onClick&&a.onClick()}})}onMouseMove(a){var{x:b,y:c}=this.mapXY(a.clientX,a.clientY);this.events.push({type:"onmousemove",x:b,y:c,run(a){a.onMouseMove&&a.onMouseMove()}})}}var v="undefined"!=typeof window?window:null,w="undefined"!=typeof fetch?fetch.bind(void 0):null;class f{constructor(a){var{fetch:b=w,window:c=v}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};this.ctx=a,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new aR,this.mouse=new aT(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=c,this.fetch=b}wait(a){this.waits.push(a)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var a=this.waits.every(a=>a());return a&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=a,a}setDefaults(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4}setViewBox(y){var{document:l,ctx:a,aspectRatio:z,width:e,desiredWidth:m,height:f,desiredHeight:n,minX:A=0,minY:B=0,refX:C,refY:D,clip:E=!1,clipX:F=0,clipY:G=0}=y,[H,I]=aq(z).replace(/^defer\s/,"").split(" "),g=H||"xMidYMid",c=I||"meet",h=e/m,i=f/n,b=Math.min(h,i),d=Math.max(h,i),j=m,k=n;"meet"===c&&(j*=b,k*=b),"slice"===c&&(j*=d,k*=d);var o=new u(l,"refX",C),p=new u(l,"refY",D),q=o.hasValue()&&p.hasValue();if(q&&a.translate(-b*o.getPixels("x"),-b*p.getPixels("y")),E){var r=b*F,s=b*G;a.beginPath(),a.moveTo(r,s),a.lineTo(e,s),a.lineTo(e,f),a.lineTo(r,f),a.closePath(),a.clip()}if(!q){var t="meet"===c&&b===i,v="slice"===c&&d===i,w="meet"===c&&b===h,x="slice"===c&&d===h;g.startsWith("xMid")&&(t||v)&&a.translate(e/2-j/2,0),g.endsWith("YMid")&&(w||x)&&a.translate(0,f/2-k/2),g.startsWith("xMax")&&(t||v)&&a.translate(e-j,0),g.endsWith("YMax")&&(w||x)&&a.translate(0,f-k)}switch(!0){case"none"===g:a.scale(h,i);break;case"meet"===c:a.scale(b,b);break;case"slice"===c:a.scale(d,d)}a.translate(-A,-B)}start(a){var{enableRedraw:b=!1,ignoreMouse:c=!1,ignoreAnimation:o=!1,ignoreDimensions:d=!1,ignoreClear:e=!1,forceRedraw:p,scaleWidth:f,scaleHeight:g,offsetX:h,offsetY:i}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:j,mouse:k}=this,l=1e3/j;if(this.frameDuration=l,this.readyPromise=new Promise(a=>{this.resolveReady=a}),this.isReady()&&this.render(a,d,e,f,g,h,i),b){var m=Date.now(),q=m,r=0,n=()=>{(r=(m=Date.now())-q)>=l&&(q=m-r%l,this.shouldUpdate(o,p)&&(this.render(a,d,e,f,g,h,i),k.runEvents())),this.intervalId=al(n)};c||k.start(),this.intervalId=al(n)}}stop(){this.intervalId&&(al.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(b,a){if(!b){var{frameDuration:c}=this;if(this.animations.reduce((a,b)=>b.update(c)||a,!1))return!0}return!!("function"==typeof a&&a()|| !this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(b,n,u,c,d,o,p){var{CLIENT_WIDTH:v,CLIENT_HEIGHT:w,viewPort:g,ctx:k,isFirstRender:q}=this,a=k.canvas;g.clear(),a.width&&a.height?g.setCurrent(a.width,a.height):g.setCurrent(v,w);var h=b.getStyle("width"),i=b.getStyle("height");!n&&(q||"number"!=typeof c&&"number"!=typeof d)&&(h.hasValue()&&(a.width=h.getPixels("x"),a.style&&(a.style.width="".concat(a.width,"px"))),i.hasValue()&&(a.height=i.getPixels("y"),a.style&&(a.style.height="".concat(a.height,"px"))));var l=a.clientWidth||a.width,m=a.clientHeight||a.height;if(n&&h.hasValue()&&i.hasValue()&&(l=h.getPixels("x"),m=i.getPixels("y")),g.setCurrent(l,m),"number"==typeof o&&b.getAttribute("x",!0).setValue(o),"number"==typeof p&&b.getAttribute("y",!0).setValue(p),"number"==typeof c||"number"==typeof d){var j=at(b.getAttribute("viewBox").getString()),e=0,f=0;if("number"==typeof c){var r=b.getStyle("width");r.hasValue()?e=r.getPixels("x")/c:isNaN(j[2])||(e=j[2]/c)}if("number"==typeof d){var s=b.getStyle("height");s.hasValue()?f=s.getPixels("y")/d:isNaN(j[3])||(f=j[3]/d)}e||(e=f),f||(f=e),b.getAttribute("width",!0).setValue(c),b.getAttribute("height",!0).setValue(d);var t=b.getStyle("transform",!0,!0);t.setValue("".concat(t.getString()," scale(").concat(1/e,", ").concat(1/f,")"))}u||k.clearRect(0,0,l,m),b.render(k),q&&(this.isFirstRender=!1)}}f.defaultWindow=v,f.defaultFetch=w;var{defaultFetch:aU}=f,aV="undefined"!=typeof DOMParser?DOMParser:null;class aW{constructor(){var{fetch:a=aU,DOMParser:b=aV}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};this.fetch=a,this.DOMParser=b}parse(a){var b=this;return(0,aj.Z)(function*(){return a.startsWith("<")?b.parseFromString(a):b.load(a)})()}parseFromString(a){var b=new this.DOMParser;try{return this.checkDocument(b.parseFromString(a,"image/svg+xml"))}catch(c){return this.checkDocument(b.parseFromString(a,"text/xml"))}}checkDocument(a){var b=a.getElementsByTagName("parsererror")[0];if(b)throw Error(b.textContent);return a}load(a){var b=this;return(0,aj.Z)(function*(){var c=yield(yield b.fetch(a)).text();return b.parseFromString(c)})()}}class x{constructor(b,a){this.type="translate",this.point=null,this.point=aS.parse(a)}apply(a){var{x:b,y:c}=this.point;a.translate(b||0,c||0)}unapply(a){var{x:b,y:c}=this.point;a.translate(-1*b||0,-1*c||0)}applyToPoint(a){var{x:b,y:c}=this.point;a.applyTransform([1,0,0,1,b||0,c||0])}}class y{constructor(c,d,b){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var a=at(d);this.angle=new u(c,"angle",a[0]),this.originX=b[0],this.originY=b[1],this.cx=a[1]||0,this.cy=a[2]||0}apply(a){var{cx:d,cy:e,originX:f,originY:g,angle:h}=this,b=d+f.getPixels("x"),c=e+g.getPixels("y");a.translate(b,c),a.rotate(h.getRadians()),a.translate(-b,-c)}unapply(a){var{cx:d,cy:e,originX:f,originY:g,angle:h}=this,b=d+f.getPixels("x"),c=e+g.getPixels("y");a.translate(b,c),a.rotate(-1*h.getRadians()),a.translate(-b,-c)}applyToPoint(b){var{cx:c,cy:d,angle:e}=this,a=e.getRadians();b.applyTransform([1,0,0,1,c||0,d||0]),b.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]),b.applyTransform([1,0,0,1,-c||0,-d||0])}}class z{constructor(d,c,b){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var a=aS.parseScale(c);(0===a.x||0===a.y)&&(a.x=aG,a.y=aG),this.scale=a,this.originX=b[0],this.originY=b[1]}apply(a){var{scale:{x:b,y:e},originX:f,originY:g}=this,c=f.getPixels("x"),d=g.getPixels("y");a.translate(c,d),a.scale(b,e||b),a.translate(-c,-d)}unapply(a){var{scale:{x:b,y:e},originX:f,originY:g}=this,c=f.getPixels("x"),d=g.getPixels("y");a.translate(c,d),a.scale(1/b,1/e||b),a.translate(-c,-d)}applyToPoint(a){var{x:b,y:c}=this.scale;a.applyTransform([b||0,0,0,c||0,0,0])}}class k{constructor(c,b,a){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=at(b),this.originX=a[0],this.originY=a[1]}apply(b){var{originX:e,originY:f,matrix:a}=this,c=e.getPixels("x"),d=f.getPixels("y");b.translate(c,d),b.transform(a[0],a[1],a[2],a[3],a[4],a[5]),b.translate(-c,-d)}unapply(g){var{originX:l,originY:m,matrix:a}=this,h=a[0],i=a[2],d=a[4],e=a[1],f=a[3],b=a[5],c=1/(h*(1*f-0*b)-i*(1*e-0*b)+d*(0*e-0*f)),j=l.getPixels("x"),k=m.getPixels("y");g.translate(j,k),g.transform(c*(1*f-0*b),c*(0*b-1*e),c*(0*d-1*i),c*(1*h-0*d),c*(i*b-d*f),c*(d*e-h*b)),g.translate(-j,-k)}applyToPoint(a){a.applyTransform(this.matrix)}}class l extends k{constructor(a,b,c){super(a,b,c),this.type="skew",this.angle=null,this.angle=new u(a,"angle",b)}}class A extends l{constructor(a,b,c){super(a,b,c),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class B extends l{constructor(a,b,c){super(a,b,c),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class C{constructor(a,b,d){var c;this.document=a,this.transforms=[],aq(c=b).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/).forEach(a=>{if("none"!==a){var[c,e]=function(a){var[b,c]=a.split("(");return[b.trim(),c.trim().replace(")","")]}(a),b=C.transformTypes[c];void 0!==b&&this.transforms.push(new b(this.document,e,d))}})}static fromElement(d,a){var b=a.getStyle("transform",!1,!0),[c,e=c]=a.getStyle("transform-origin",!1,!0).split();return b.hasValue()?new C(d,b.getString(),[c,e]):null}apply(c){for(var{transforms:b}=this,d=b.length,a=0;a<d;a++)b[a].apply(c)}unapply(c){for(var{transforms:b}=this,d=b.length,a=d-1;a>=0;a--)b[a].unapply(c)}applyToPoint(c){for(var{transforms:b}=this,d=b.length,a=0;a<d;a++)b[a].applyToPoint(c)}}C.transformTypes={translate:x,rotate:y,scale:z,matrix:k,skewX:A,skewY:B};class b{constructor(c,a){var e=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(this.document=c,this.node=a,this.captureTextNodes=e,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!a||1!==a.nodeType)return;Array.from(a.attributes).forEach(a=>{var b=av(a.nodeName);this.attributes[b]=new u(c,b,a.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(a=>a.trim()).forEach(a=>{if(a){var[b,d]=a.split(":").map(a=>a.trim());this.styles[b]=new u(c,b,d)}});var{definitions:d}=c,b=this.getAttribute("id");b.hasValue()&&!d[b.getString()]&&(d[b.getString()]=this),Array.from(a.childNodes).forEach(a=>{if(1===a.nodeType)this.addChild(a);else if(e&&(3===a.nodeType||4===a.nodeType)){var b=c.createTextNode(a);b.getText().length>0&&this.addChild(b)}})}getAttribute(a){var d=arguments.length>1&& void 0!==arguments[1]&&arguments[1],b=this.attributes[a];if(!b&&d){var c=new u(this.document,a,"");return this.attributes[a]=c,c}return b||u.empty(this.document)}getHrefAttribute(){for(var a in this.attributes)if("href"===a||a.endsWith(":href"))return this.attributes[a];return u.empty(this.document)}getStyle(a){var g=arguments.length>1&& void 0!==arguments[1]&&arguments[1],h=arguments.length>2&& void 0!==arguments[2]&&arguments[2],c=this.styles[a];if(c)return c;var b=this.getAttribute(a);if(null!=b&&b.hasValue())return this.styles[a]=b,b;if(!h){var{parent:e}=this;if(e){var d=e.getStyle(a);if(null!=d&&d.hasValue())return d}}if(g){var f=new u(this.document,a,"");return this.styles[a]=f,f}return c||u.empty(this.document)}render(a){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(a.save(),this.getStyle("mask").hasValue()){var b=this.getStyle("mask").getDefinition();b&&(this.applyEffects(a),b.apply(a,this))}else if("none"!==this.getStyle("filter").getValue("none")){var c=this.getStyle("filter").getDefinition();c&&(this.applyEffects(a),c.apply(a,this))}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}}setContext(a){}applyEffects(a){var b=C.fromElement(this.document,this);b&&b.apply(a);var c=this.getStyle("clip-path",!1,!0);if(c.hasValue()){var d=c.getDefinition();d&&d.apply(a)}}clearContext(a){}renderChildren(a){this.children.forEach(b=>{b.render(a)})}addChild(a){var c=a instanceof b?a:this.document.createElement(a);c.parent=this,b.ignoreChildTypes.includes(c.type)||this.children.push(c)}matchesSelector(d){var b,{node:a}=this;if("function"==typeof a.matches)return a.matches(d);var c=null===(b=a.getAttribute)|| void 0===b?void 0:b.call(a,"class");return!!c&&""!==c&&c.split(" ").some(a=>".".concat(a)===d)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:g}=this.document;for(var a in e)if(!a.startsWith("@")&&this.matchesSelector(a)){var c=e[a],f=g[a];if(c)for(var b in c){var d=this.stylesSpecificity[b];void 0===d&&(d="000"),f>=d&&(this.styles[b]=c[b],this.stylesSpecificity[b]=f)}}}removeStyles(b,a){return a.reduce((c,d)=>{var a=b.getStyle(d);if(!a.hasValue())return c;var e=a.getString();return a.setValue(""),[...c,[d,e]]},[])}restoreStyles(b,a){a.forEach(a=>{var[c,d]=a;b.getStyle(c,!0).setValue(d)})}isFirstChild(){var a;return(null===(a=this.parent)|| void 0===a?void 0:a.children.indexOf(this))===0}}b.ignoreChildTypes=["title"];class aX extends b{constructor(a,b,c){super(a,b,c)}}function aY(b){var a=b.trim();return/^('|")/.test(a)?a:'"'.concat(a,'"')}class g{constructor(c,d,e,f,h,b){var a=b?"string"==typeof b?g.parse(b):b:{};this.fontFamily=h||a.fontFamily,this.fontSize=f||a.fontSize,this.fontStyle=c||a.fontStyle,this.fontWeight=e||a.fontWeight,this.fontVariant=d||a.fontVariant}static parse(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1?arguments[1]:void 0,c="",d="",e="",f="",h="",i=aq(a).trim().split(" "),j={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return i.forEach(a=>{switch(!0){case!j.fontStyle&&g.styles.includes(a):"inherit"!==a&&(c=a),j.fontStyle=!0;break;case!j.fontVariant&&g.variants.includes(a):"inherit"!==a&&(d=a),j.fontStyle=!0,j.fontVariant=!0;break;case!j.fontWeight&&g.weights.includes(a):"inherit"!==a&&(e=a),j.fontStyle=!0,j.fontVariant=!0,j.fontWeight=!0;break;case!j.fontSize:"inherit"!==a&&([f]=a.split("/")),j.fontStyle=!0,j.fontVariant=!0,j.fontWeight=!0,j.fontSize=!0;break;default:"inherit"!==a&&(h+=a)}}),new g(c,d,e,f,h,b)}toString(){var a;return[function(b){if(!b)return"";var a=b.trim().toLowerCase();switch(a){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return a;default:if(/^oblique\s+(-|)\d+deg$/.test(a))return a;return""}}(this.fontStyle),this.fontVariant,function(b){if(!b)return"";var a=b.trim().toLowerCase();switch(a){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return a;default:if(/^[\d.]+$/.test(a))return a;return""}}(this.fontWeight),this.fontSize,(a=this.fontFamily,void 0===ao?a:a.trim().split(",").map(aY).join(","))].join(" ").trim()}}g.styles="normal|italic|oblique|inherit",g.variants="normal|small-caps|inherit",g.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class aZ{constructor(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:Number.NaN,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:Number.NaN,c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:Number.NaN,d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=a,this.y1=b,this.x2=c,this.y2=d,this.addPoint(a,b),this.addPoint(c,d)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(a,b){void 0!==a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),void 0!==b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))}addX(a){this.addPoint(a,null)}addY(a){this.addPoint(null,a)}addBoundingBox(a){if(a){var{x1:b,y1:c,x2:d,y2:e}=a;this.addPoint(b,c),this.addPoint(d,e)}}sumCubic(a,b,c,d,e){return Math.pow(1-a,3)*b+3*Math.pow(1-a,2)*a*c+3*(1-a)*Math.pow(a,2)*d+Math.pow(a,3)*e}bezierCurveAdd(j,a,b,c,d){var e=6*a-12*b+6*c,f=-3*a+9*b-9*c+3*d,l=3*b-3*a;if(0===f){if(0===e)return;var g=-l/e;0<g&&g<1&&(j?this.addX(this.sumCubic(g,a,b,c,d)):this.addY(this.sumCubic(g,a,b,c,d)));return}var k=Math.pow(e,2)-4*l*f;if(!(k<0)){var h=(-e+Math.sqrt(k))/(2*f);0<h&&h<1&&(j?this.addX(this.sumCubic(h,a,b,c,d)):this.addY(this.sumCubic(h,a,b,c,d)));var i=(-e-Math.sqrt(k))/(2*f);0<i&&i<1&&(j?this.addX(this.sumCubic(i,a,b,c,d)):this.addY(this.sumCubic(i,a,b,c,d)))}}addBezierCurve(a,b,e,f,g,h,c,d){this.addPoint(a,b),this.addPoint(c,d),this.bezierCurveAdd(!0,a,e,g,c),this.bezierCurveAdd(!1,b,f,h,d)}addQuadraticCurve(a,b,g,h,c,d){var e=a+2/3*(g-a),f=b+2/3*(h-b);this.addBezierCurve(a,b,e,e+1/3*(c-a),f,f+1/3*(d-b),c,d)}isPointInBox(a,b){var{x1:c,y1:d,x2:e,y2:f}=this;return c<=a&&a<=e&&d<=b&&b<=f}}class a$ extends s.OU{constructor(a){super(a.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new aS(0,0),this.control=new aS(0,0),this.current=new aS(0,0),this.points=[],this.angles=[]}isEnd(){var{i:a,commands:b}=this;return a>=b.length-1}next(){var a=this.commands[++this.i];return this.previousCommand=this.command,this.command=a,a}getPoint(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"x",b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"y",c=new aS(this.command[a],this.command[b]);return this.makeAbsolute(c)}getAsControlPoint(b,c){var a=this.getPoint(b,c);return this.control=a,a}getAsCurrentPoint(b,c){var a=this.getPoint(b,c);return this.current=a,a}getReflectedControlPoint(){var a=this.previousCommand.type;if(a!==s.OU.CURVE_TO&&a!==s.OU.SMOOTH_CURVE_TO&&a!==s.OU.QUAD_TO&&a!==s.OU.SMOOTH_QUAD_TO)return this.current;var{current:{x:b,y:c},control:{x:d,y:e}}=this;return new aS(2*b-d,2*c-e)}makeAbsolute(a){if(this.command.relative){var{x:b,y:c}=this.current;a.x+=b,a.y+=c}return a}addMarker(b,c,d){var{points:e,angles:a}=this;d&&a.length>0&&!a[a.length-1]&&(a[a.length-1]=e[e.length-1].angleTo(d)),this.addMarkerAngle(b,c?c.angleTo(b):null)}addMarkerAngle(a,b){this.points.push(a),this.angles.push(b)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:a}=this,d=a.length,b=0;b<d;b++)if(!a[b]){for(var c=b+1;c<d;c++)if(a[c]){a[b]=a[c];break}}return a}}class d extends b{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var b=1,a=this;a;){var c=a.getStyle("opacity",!1,!0);c.hasValue(!0)&&(b*=c.getNumber()),a=a.parent}return b}setContext(a){var n=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(!n){var b=this.getStyle("fill"),h=this.getStyle("fill-opacity"),c=this.getStyle("stroke"),i=this.getStyle("stroke-opacity");if(b.isUrlDefinition()){var o=b.getFillStyleDefinition(this,h);o&&(a.fillStyle=o)}else if(b.hasValue()){"currentColor"===b.getString()&&b.setValue(this.getStyle("color").getColor());var j=b.getColor();"inherit"!==j&&(a.fillStyle="none"===j?"rgba(0,0,0,0)":j)}if(h.hasValue()){var z=new u(this.document,"fill",a.fillStyle).addOpacity(h).getColor();a.fillStyle=z}if(c.isUrlDefinition()){var p=c.getFillStyleDefinition(this,i);p&&(a.strokeStyle=p)}else if(c.hasValue()){"currentColor"===c.getString()&&c.setValue(this.getStyle("color").getColor());var k=c.getString();"inherit"!==k&&(a.strokeStyle="none"===k?"rgba(0,0,0,0)":k)}if(i.hasValue()){var A=new u(this.document,"stroke",a.strokeStyle).addOpacity(i).getString();a.strokeStyle=A}var q=this.getStyle("stroke-width");if(q.hasValue()){var B=q.getPixels();a.lineWidth=B||aG}var r=this.getStyle("stroke-linecap"),s=this.getStyle("stroke-linejoin"),t=this.getStyle("stroke-miterlimit"),l=this.getStyle("stroke-dasharray"),C=this.getStyle("stroke-dashoffset");if(r.hasValue()&&(a.lineCap=r.getString()),s.hasValue()&&(a.lineJoin=s.getString()),t.hasValue()&&(a.miterLimit=t.getNumber()),l.hasValue()&&"none"!==l.getString()){var e=at(l.getString());void 0!==a.setLineDash?a.setLineDash(e):void 0!==a.webkitLineDash?a.webkitLineDash=e:void 0===a.mozDash||1===e.length&&0===e[0]||(a.mozDash=e);var m=C.getPixels();void 0!==a.lineDashOffset?a.lineDashOffset=m:void 0!==a.webkitLineDashOffset?a.webkitLineDashOffset=m:void 0!==a.mozDashOffset&&(a.mozDashOffset=m)}}if(this.modifiedEmSizeStack=!1,void 0!==a.font){var D=this.getStyle("font"),v=this.getStyle("font-style"),w=this.getStyle("font-variant"),x=this.getStyle("font-weight"),f=this.getStyle("font-size"),y=this.getStyle("font-family"),d=new g(v.getString(),w.getString(),x.getString(),f.hasValue()?"".concat(f.getPixels(!0),"px"):"",y.getString(),g.parse(D.getString(),a.font));v.setValue(d.fontStyle),w.setValue(d.fontVariant),x.setValue(d.fontWeight),f.setValue(d.fontSize),y.setValue(d.fontFamily),a.font=d.toString(),f.isPixels()&&(this.document.emSize=f.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(a),a.globalAlpha=this.calculateOpacity())}clearContext(a){super.clearContext(a),this.modifiedEmSizeStack&&this.document.popEmSize()}}class c extends d{constructor(a,b,c){super(a,b,c),this.type="path",this.pathParser=null,this.pathParser=new a$(this.getAttribute("d").getString())}path(a){var{pathParser:c}=this,b=new aZ;for(c.reset(),a&&a.beginPath();!c.isEnd();)switch(c.next().type){case a$.MOVE_TO:this.pathM(a,b);break;case a$.LINE_TO:this.pathL(a,b);break;case a$.HORIZ_LINE_TO:this.pathH(a,b);break;case a$.VERT_LINE_TO:this.pathV(a,b);break;case a$.CURVE_TO:this.pathC(a,b);break;case a$.SMOOTH_CURVE_TO:this.pathS(a,b);break;case a$.QUAD_TO:this.pathQ(a,b);break;case a$.SMOOTH_QUAD_TO:this.pathT(a,b);break;case a$.ARC:this.pathA(a,b);break;case a$.CLOSE_PATH:this.pathZ(a,b)}return b}getBoundingBox(a){return this.path()}getMarkers(){var{pathParser:a}=this,b=a.getMarkerPoints(),d=a.getMarkerAngles(),c=b.map((a,b)=>[a,d[b]]);return c}renderChildren(a){this.path(a),this.document.screen.mouse.checkPath(this,a);var d=this.getStyle("fill-rule");""!==a.fillStyle&&("inherit"!==d.getString("inherit")?a.fill(d.getString()):a.fill()),""!==a.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(a.save(),a.setTransform(1,0,0,1,0,0),a.stroke(),a.restore()):a.stroke());var b=this.getMarkers();if(b){var e=b.length-1,f=this.getStyle("marker-start"),g=this.getStyle("marker-mid"),h=this.getStyle("marker-end");if(f.isUrlDefinition()){var i=f.getDefinition(),[j,k]=b[0];i.render(a,j,k)}if(g.isUrlDefinition())for(var l=g.getDefinition(),c=1;c<e;c++){var[m,n]=b[c];l.render(a,m,n)}if(h.isUrlDefinition()){var o=h.getDefinition(),[p,q]=b[e];o.render(a,p,q)}}}static pathM(a){var b=a.getAsCurrentPoint();return a.start=a.current,{point:b}}pathM(a,g){var{pathParser:b}=this,{point:d}=c.pathM(b),{x:e,y:f}=d;b.addMarker(d),g.addPoint(e,f),a&&a.moveTo(e,f)}static pathL(a){var{current:b}=a,c=a.getAsCurrentPoint();return{current:b,point:c}}pathL(a,g){var{pathParser:b}=this,{current:h,point:d}=c.pathL(b),{x:e,y:f}=d;b.addMarker(d,h),g.addPoint(e,f),a&&a.lineTo(e,f)}static pathH(b){var{current:a,command:c}=b,d=new aS((c.relative?a.x:0)+c.x,a.y);return b.current=d,{current:a,point:d}}pathH(a,g){var{pathParser:b}=this,{current:h,point:d}=c.pathH(b),{x:e,y:f}=d;b.addMarker(d,h),g.addPoint(e,f),a&&a.lineTo(e,f)}static pathV(b){var{current:a,command:c}=b,d=new aS(a.x,(c.relative?a.y:0)+c.y);return b.current=d,{current:a,point:d}}pathV(a,g){var{pathParser:b}=this,{current:h,point:d}=c.pathV(b),{x:e,y:f}=d;b.addMarker(d,h),g.addPoint(e,f),a&&a.lineTo(e,f)}static pathC(a){var{current:b}=a,c=a.getPoint("x1","y1"),d=a.getAsControlPoint("x2","y2"),e=a.getAsCurrentPoint();return{current:b,point:c,controlPoint:d,currentPoint:e}}pathC(e,h){var{pathParser:f}=this,{current:g,point:a,controlPoint:b,currentPoint:d}=c.pathC(f);f.addMarker(d,b,a),h.addBezierCurve(g.x,g.y,a.x,a.y,b.x,b.y,d.x,d.y),e&&e.bezierCurveTo(a.x,a.y,b.x,b.y,d.x,d.y)}static pathS(a){var{current:b}=a,c=a.getReflectedControlPoint(),d=a.getAsControlPoint("x2","y2"),e=a.getAsCurrentPoint();return{current:b,point:c,controlPoint:d,currentPoint:e}}pathS(e,h){var{pathParser:f}=this,{current:g,point:a,controlPoint:b,currentPoint:d}=c.pathS(f);f.addMarker(d,b,a),h.addBezierCurve(g.x,g.y,a.x,a.y,b.x,b.y,d.x,d.y),e&&e.bezierCurveTo(a.x,a.y,b.x,b.y,d.x,d.y)}static pathQ(a){var{current:b}=a,c=a.getAsControlPoint("x1","y1"),d=a.getAsCurrentPoint();return{current:b,controlPoint:c,currentPoint:d}}pathQ(d,g){var{pathParser:e}=this,{current:f,controlPoint:a,currentPoint:b}=c.pathQ(e);e.addMarker(b,a,a),g.addQuadraticCurve(f.x,f.y,a.x,a.y,b.x,b.y),d&&d.quadraticCurveTo(a.x,a.y,b.x,b.y)}static pathT(a){var{current:c}=a,b=a.getReflectedControlPoint();a.control=b;var d=a.getAsCurrentPoint();return{current:c,controlPoint:b,currentPoint:d}}pathT(d,g){var{pathParser:e}=this,{current:f,controlPoint:a,currentPoint:b}=c.pathT(e);e.addMarker(b,a,a),g.addQuadraticCurve(f.x,f.y,a.x,a.y,b.x,b.y),d&&d.quadraticCurveTo(a.x,a.y,b.x,b.y)}static pathA(m){var{current:g,command:o}=m,{rX:b,rY:c,xRot:p,lArcFlag:q,sweepFlag:n}=o,e=p*(Math.PI/180),f=m.getAsCurrentPoint(),a=new aS(Math.cos(e)*(g.x-f.x)/2+Math.sin(e)*(g.y-f.y)/2,-Math.sin(e)*(g.x-f.x)/2+Math.cos(e)*(g.y-f.y)/2),i=Math.pow(a.x,2)/Math.pow(b,2)+Math.pow(a.y,2)/Math.pow(c,2);i>1&&(b*=Math.sqrt(i),c*=Math.sqrt(i));var h=(q===n?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(c,2)-Math.pow(b,2)*Math.pow(a.y,2)-Math.pow(c,2)*Math.pow(a.x,2))/(Math.pow(b,2)*Math.pow(a.y,2)+Math.pow(c,2)*Math.pow(a.x,2)));isNaN(h)&&(h=0);var d=new aS(h*b*a.y/c,-(h*c)*a.x/b),r=new aS((g.x+f.x)/2+Math.cos(e)*d.x-Math.sin(e)*d.y,(g.y+f.y)/2+Math.sin(e)*d.x+Math.cos(e)*d.y),s=aJ([1,0],[(a.x-d.x)/b,(a.y-d.y)/c]),j=[(a.x-d.x)/b,(a.y-d.y)/c],k=[(-a.x-d.x)/b,(-a.y-d.y)/c],l=aJ(j,k);return -1>=aI(j,k)&&(l=Math.PI),aI(j,k)>=1&&(l=0),{currentPoint:f,rX:b,rY:c,sweepFlag:n,xAxisRotation:e,centp:r,a1:s,ad:l}}pathA(a,p){var{pathParser:h}=this,{currentPoint:i,rX:b,rY:d,sweepFlag:l,xAxisRotation:m,centp:e,a1:f,ad:j}=c.pathA(h),k=1-l?1:-1,g=f+k*(j/2),q=new aS(e.x+b*Math.cos(g),e.y+d*Math.sin(g));if(h.addMarkerAngle(q,g-k*Math.PI/2),h.addMarkerAngle(i,g-k*Math.PI),p.addPoint(i.x,i.y),a&&!isNaN(f)&&!isNaN(j)){var r=b>d?b:d,n=b>d?1:b/d,o=b>d?d/b:1;a.translate(e.x,e.y),a.rotate(m),a.scale(n,o),a.arc(0,0,r,f,f+j,Boolean(1-l)),a.scale(1/n,1/o),a.rotate(-m),a.translate(-e.x,-e.y)}}static pathZ(a){a.current=a.start}pathZ(b,a){c.pathZ(this.pathParser),b&&a.x1!==a.x2&&a.y1!==a.y2&&b.closePath()}}class D extends c{constructor(a,b,c){super(a,b,c),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class e extends d{constructor(a,b,c){super(a,b,new.target===e||c),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(a){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1];super.setContext(a,c);var b=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();b&&(a.textBaseline=b)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(a){if("text"!==this.type)return this.getTElementBoundingBox(a);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(a);var b=null;return this.children.forEach((e,d)=>{var c=this.getChildBoundingBox(a,this,this,d);b?b.addBoundingBox(c):b=c}),b}getFontSize(){var{document:a,parent:b}=this,c=g.parse(a.ctx.font).fontSize;return b.getStyle("font-size").getNumber(c)}getTElementBoundingBox(a){var b=this.getFontSize();return new aZ(this.x,this.y-b,this.x+this.measureText(a),this.y)}getGlyph(b,d,a){var f=d[a],c=null;if(b.isArabic){var g=d.length,h=d[a-1],i=d[a+1],e="isolated";if((0===a||" "===h)&&a<g-1&&" "!==i&&(e="terminal"),a>0&&" "!==h&&a<g-1&&" "!==i&&(e="medial"),a>0&&" "!==h&&(a===g-1||" "===i)&&(e="initial"),void 0!==b.glyphs[f]){var j=b.glyphs[f];c=j instanceof D?j:j[e]}}else c=b.glyphs[f];return c||(c=b.missingGlyph),c}getText(){return""}getTextFromNode(e){var b=e||this.node,c=Array.from(b.parentNode.childNodes),d=c.indexOf(b),f=c.length-1,a=aq(b.textContent||"");return 0===d&&(a=ar(a)),d===f&&(a=as(a)),a}renderChildren(a){if("text"!==this.type){this.renderTElementChildren(a);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(a),this.children.forEach((c,b)=>{this.renderChild(a,this,this,b)});var{mouse:b}=this.document.screen;b.isWorking()&&b.checkBoundingBox(this,this.getBoundingBox(a))}renderTElementChildren(a){var{document:q,parent:d}=this,e=this.getText(),c=d.getStyle("font-family").getDefinition();if(c){for(var{unitsPerEm:h}=c.fontFace,k=g.parse(q.ctx.font),i=d.getStyle("font-size").getNumber(k.fontSize),l=d.getStyle("font-style").getString(k.fontStyle),f=i/h,m=c.isRTL?e.split("").reverse().join(""):e,j=at(d.getAttribute("dx").getString()),r=m.length,b=0;b<r;b++){var n=this.getGlyph(c,m,b);a.translate(this.x,this.y),a.scale(f,-f);var s=a.lineWidth;a.lineWidth=a.lineWidth*h/i,"italic"===l&&a.transform(1,0,.4,1,0,0),n.render(a),"italic"===l&&a.transform(1,0,-0.4,1,0,0),a.lineWidth=s,a.scale(1/f,-1/f),a.translate(-this.x,-this.y),this.x+=i*(n.horizAdvX||c.horizAdvX)/h,void 0===j[b]||isNaN(j[b])||(this.x+=j[b])}return}var{x:o,y:p}=this;a.fillStyle&&a.fillText(e,o,p),a.strokeStyle&&a.strokeText(e,o,p)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var a=this.leafTexts[this.textChunkStart],b=a.getStyle("text-anchor").getString("start"),d=0;d="start"===b||"end"===b?a.x-this.minX:"end"===b||"start"===b?a.x-this.maxX:a.x-(this.minX+this.maxX)/2;for(var c=this.textChunkStart;c<this.leafTexts.length;c++)this.leafTexts[c].x+=d;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(a){this.children.forEach((c,b)=>{this.adjustChildCoordinatesRecursiveCore(a,this,this,b)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(d,e,a,b){var c=a.children[b];c.children.length>0?c.children.forEach((b,a)=>{e.adjustChildCoordinatesRecursiveCore(d,e,c,a)}):this.adjustChildCoordinates(d,e,a,b)}adjustChildCoordinates(e,b,l,i){var a=l.children[i];if("function"!=typeof a.measureText)return a;e.save(),a.setContext(e,!0);var f=a.getAttribute("x"),g=a.getAttribute("y"),c=a.getAttribute("dx"),d=a.getAttribute("dy"),j=a.getStyle("font-family").getDefinition(),k=Boolean(j)&&j.isRTL;0!==i||(f.hasValue()||f.setValue(a.getInheritedAttribute("x")),g.hasValue()||g.setValue(a.getInheritedAttribute("y")),c.hasValue()||c.setValue(a.getInheritedAttribute("dx")),d.hasValue()||d.setValue(a.getInheritedAttribute("dy")));var h=a.measureText(e);return k&&(b.x-=h),f.hasValue()?(b.applyAnchoring(),a.x=f.getPixels("x"),c.hasValue()&&(a.x+=c.getPixels("x"))):(c.hasValue()&&(b.x+=c.getPixels("x")),a.x=b.x),b.x=a.x,k||(b.x+=h),g.hasValue()?(a.y=g.getPixels("y"),d.hasValue()&&(a.y+=d.getPixels("y"))):(d.hasValue()&&(b.y+=d.getPixels("y")),a.y=b.y),b.y=a.y,b.leafTexts.push(a),b.minX=Math.min(b.minX,a.x,a.x+h),b.maxX=Math.max(b.maxX,a.x,a.x+h),a.clearContext(e),e.restore(),a}getChildBoundingBox(c,f,d,e){var a=d.children[e];if("function"!=typeof a.getBoundingBox)return null;var b=a.getBoundingBox(c);return b?(a.children.forEach((g,d)=>{var e=f.getChildBoundingBox(c,f,a,d);b.addBoundingBox(e)}),b):null}renderChild(b,e,c,d){var a=c.children[d];a.render(b),a.children.forEach((d,c)=>{e.renderChild(b,e,a,c)})}measureText(c){var{measureCache:a}=this;if(~a)return a;var d=this.getText(),b=this.measureTargetText(c,d);return this.measureCache=b,b}measureTargetText(a,c){if(!c.length)return 0;var{parent:g}=this,d=g.getStyle("font-family").getDefinition();if(d){for(var i=this.getFontSize(),h=d.isRTL?c.split("").reverse().join(""):c,e=at(g.getAttribute("dx").getString()),j=h.length,f=0,b=0;b<j;b++){var k=this.getGlyph(d,h,b);f+=(k.horizAdvX||d.horizAdvX)*i/d.fontFace.unitsPerEm,void 0===e[b]||isNaN(e[b])||(f+=e[b])}return f}if(!a.measureText)return 10*c.length;a.save(),this.setContext(a,!0);var{width:l}=a.measureText(c);return this.clearContext(a),a.restore(),l}getInheritedAttribute(c){for(var a=this;a instanceof e&&a.isFirstChild();){var b=a.parent.getAttribute(c);if(b.hasValue(!0))return b.getValue("0");a=a.parent}return null}}class m extends e{constructor(a,b,c){super(a,b,new.target===m||c),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class a_ extends m{constructor(){super(...arguments),this.type="textNode"}}class E extends d{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(a){var j,{document:d}=this,{screen:b,window:k}=d,l=a.canvas;if(b.setDefaults(a),l.style&& void 0!==a.font&&k&& void 0!==k.getComputedStyle){a.font=k.getComputedStyle(l).getPropertyValue("font");var m=new u(d,"fontSize",g.parse(a.font).fontSize);m.hasValue()&&(d.rootEmSize=m.getPixels("y"),d.emSize=d.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:e,height:f}=b.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var q=this.getAttribute("refX"),r=this.getAttribute("refY"),n=this.getAttribute("viewBox"),c=n.hasValue()?at(n.getString()):null,s=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),h=0,i=0,o=0,p=0;c&&(h=c[0],i=c[1]),this.root||(e=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y"),"marker"!==this.type||(o=h,p=i,h=0,i=0)),b.viewPort.setCurrent(e,f),this.node&&(!this.parent||(null===(j=this.node.parentNode)|| void 0===j?void 0:j.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(a),a.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),c&&(e=c[2],f=c[3]),d.setViewBox({ctx:a,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:b.viewPort.width,desiredWidth:e,height:b.viewPort.height,desiredHeight:f,minX:h,minY:i,refX:q.getValue(),refY:r.getValue(),clip:s,clipX:o,clipY:p}),c&&(b.viewPort.removeCurrent(),b.viewPort.setCurrent(e,f))}clearContext(a){super.clearContext(a),this.document.screen.viewPort.removeCurrent()}resize(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:a,c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=this.getAttribute("width",!0),f=this.getAttribute("height",!0),g=this.getAttribute("viewBox"),j=this.getAttribute("style"),k=e.getNumber(0),l=f.getNumber(0);if(c){if("string"==typeof c)this.getAttribute("preserveAspectRatio",!0).setValue(c);else{var d=this.getAttribute("preserveAspectRatio");d.hasValue()&&d.setValue(d.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}if(e.setValue(a),f.setValue(b),g.hasValue()||g.setValue("0 0 ".concat(k||a," ").concat(l||b)),j.hasValue()){var h=this.getStyle("width"),i=this.getStyle("height");h.hasValue()&&h.setValue("".concat(a,"px")),i.hasValue()&&i.setValue("".concat(b,"px"))}}}class F extends c{constructor(){super(...arguments),this.type="rect"}path(e){var a=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),f=this.getStyle("width",!1,!0).getPixels("x"),g=this.getStyle("height",!1,!0).getPixels("y"),i=this.getAttribute("rx"),j=this.getAttribute("ry"),c=i.getPixels("x"),d=j.getPixels("y");if(i.hasValue()&&!j.hasValue()&&(d=c),j.hasValue()&&!i.hasValue()&&(c=d),c=Math.min(c,f/2),d=Math.min(d,g/2),e){var h=4*((Math.sqrt(2)-1)/3);e.beginPath(),g>0&&f>0&&(e.moveTo(a+c,b),e.lineTo(a+f-c,b),e.bezierCurveTo(a+f-c+h*c,b,a+f,b+d-h*d,a+f,b+d),e.lineTo(a+f,b+g-d),e.bezierCurveTo(a+f,b+g-d+h*d,a+f-c+h*c,b+g,a+f-c,b+g),e.lineTo(a+c,b+g),e.bezierCurveTo(a+c-h*c,b+g,a,b+g-d+h*d,a,b+g-d),e.lineTo(a,b+d),e.bezierCurveTo(a,b+d-h*d,a+c-h*c,b,a+c,b),e.closePath())}return new aZ(a,b,a+f,b+g)}getMarkers(){return null}}class G extends c{constructor(){super(...arguments),this.type="circle"}path(b){var c=this.getAttribute("cx").getPixels("x"),d=this.getAttribute("cy").getPixels("y"),a=this.getAttribute("r").getPixels();return b&&a>0&&(b.beginPath(),b.arc(c,d,a,0,2*Math.PI,!1),b.closePath()),new aZ(c-a,d-a,c+a,d+a)}getMarkers(){return null}}class H extends c{constructor(){super(...arguments),this.type="ellipse"}path(e){var f=4*((Math.sqrt(2)-1)/3),c=this.getAttribute("rx").getPixels("x"),d=this.getAttribute("ry").getPixels("y"),a=this.getAttribute("cx").getPixels("x"),b=this.getAttribute("cy").getPixels("y");return e&&c>0&&d>0&&(e.beginPath(),e.moveTo(a+c,b),e.bezierCurveTo(a+c,b+f*d,a+f*c,b+d,a,b+d),e.bezierCurveTo(a-f*c,b+d,a-c,b+f*d,a-c,b),e.bezierCurveTo(a-c,b-f*d,a-f*c,b-d,a,b-d),e.bezierCurveTo(a+f*c,b-d,a+c,b-f*d,a+c,b),e.closePath()),new aZ(a-c,b-d,a+c,b+d)}getMarkers(){return null}}class I extends c{constructor(){super(...arguments),this.type="line"}getPoints(){return[new aS(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new aS(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(a){var[{x:b,y:c},{x:d,y:e}]=this.getPoints();return a&&(a.beginPath(),a.moveTo(b,c),a.lineTo(d,e)),new aZ(b,c,d,e)}getMarkers(){var[a,b]=this.getPoints(),c=a.angleTo(b);return[[a,c],[b,c]]}}class n extends c{constructor(a,b,c){super(a,b,c),this.type="polyline",this.points=[],this.points=aS.parsePath(this.getAttribute("points").getString())}path(a){var{points:b}=this,[{x:c,y:d}]=b,e=new aZ(c,d);return a&&(a.beginPath(),a.moveTo(c,d)),b.forEach(d=>{var{x:b,y:c}=d;e.addPoint(b,c),a&&a.lineTo(b,c)}),e}getMarkers(){var{points:b}=this,c=b.length-1,a=[];return b.forEach((d,e)=>{e!==c&&a.push([d,d.angleTo(b[e+1])])}),a.length>0&&a.push([b[b.length-1],a[a.length-1][1]]),a}}class J extends n{constructor(){super(...arguments),this.type="polygon"}path(a){var b=super.path(a),[{x:c,y:d}]=this.points;return a&&(a.lineTo(c,d),a.closePath()),b}}class K extends b{constructor(){super(...arguments),this.type="pattern"}createPattern(k,l,f){var g=this.getStyle("width").getPixels("x",!0),h=this.getStyle("height").getPixels("y",!0),a=new E(this.document,null);a.attributes.viewBox=new u(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new u(this.document,"width","".concat(g,"px")),a.attributes.height=new u(this.document,"height","".concat(h,"px")),a.attributes.transform=new u(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var b=this.document.createCanvas(g,h),c=b.getContext("2d"),i=this.getAttribute("x"),j=this.getAttribute("y");i.hasValue()&&j.hasValue()&&c.translate(i.getPixels("x",!0),j.getPixels("y",!0)),f.hasValue()?this.styles["fill-opacity"]=f:Reflect.deleteProperty(this.styles,"fill-opacity");for(var d=-1;d<=1;d++)for(var e=-1;e<=1;e++)c.save(),a.attributes.x=new u(this.document,"x",d*b.width),a.attributes.y=new u(this.document,"y",e*b.height),a.render(c),c.restore();return k.createPattern(b,"repeat")}}class L extends b{constructor(){super(...arguments),this.type="marker"}render(a,c,d){if(c){var{x:e,y:f}=c,g=this.getAttribute("orient").getString("auto"),h=this.getAttribute("markerUnits").getString("strokeWidth");a.translate(e,f),"auto"===g&&a.rotate(d),"strokeWidth"===h&&a.scale(a.lineWidth,a.lineWidth),a.save();var b=new E(this.document,null);b.type=this.type,b.attributes.viewBox=new u(this.document,"viewBox",this.getAttribute("viewBox").getValue()),b.attributes.refX=new u(this.document,"refX",this.getAttribute("refX").getValue()),b.attributes.refY=new u(this.document,"refY",this.getAttribute("refY").getValue()),b.attributes.width=new u(this.document,"width",this.getAttribute("markerWidth").getValue()),b.attributes.height=new u(this.document,"height",this.getAttribute("markerHeight").getValue()),b.attributes.overflow=new u(this.document,"overflow",this.getAttribute("overflow").getValue()),b.attributes.fill=new u(this.document,"fill",this.getAttribute("fill").getColor("black")),b.attributes.stroke=new u(this.document,"stroke",this.getAttribute("stroke").getValue("none")),b.children=this.children,b.render(a),a.restore(),"strokeWidth"===h&&a.scale(1/a.lineWidth,1/a.lineWidth),"auto"===g&&a.rotate(-d),a.translate(-e,-f)}}}class M extends b{constructor(){super(...arguments),this.type="defs"}render(){}}class N extends d{constructor(){super(...arguments),this.type="g"}getBoundingBox(b){var a=new aZ;return this.children.forEach(c=>{a.addBoundingBox(c.getBoundingBox(b))}),a}}class o extends b{constructor(a,b,c){super(a,b,c),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:e,children:d}=this;d.forEach(a=>{"stop"===a.type&&e.push(a)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(l,m,n){var f=this;this.getHrefAttribute().hasValue()&&(f=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(f));var{stops:g}=f,h=this.getGradient(l,m);if(!h)return this.addParentOpacity(n,g[g.length-1].color);if(g.forEach(a=>{h.addColorStop(a.offset,this.addParentOpacity(n,a.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:a}=this,{MAX_VIRTUAL_PIXELS:d,viewPort:o}=a.screen,[e]=o.viewPorts,c=new F(a,null);c.attributes.x=new u(a,"x",-d/3),c.attributes.y=new u(a,"y",-d/3),c.attributes.width=new u(a,"width",d),c.attributes.height=new u(a,"height",d);var i=new N(a,null);i.attributes.transform=new u(a,"transform",this.getAttribute("gradientTransform").getValue()),i.children=[c];var b=new E(a,null);b.attributes.x=new u(a,"x",0),b.attributes.y=new u(a,"y",0),b.attributes.width=new u(a,"width",e.width),b.attributes.height=new u(a,"height",e.height),b.children=[i];var k=a.createCanvas(e.width,e.height),j=k.getContext("2d");return j.fillStyle=h,b.render(j),j.createPattern(k,"no-repeat")}return h}inheritStopContainer(a){this.attributesToInherit.forEach(b=>{!this.getAttribute(b).hasValue()&&a.getAttribute(b).hasValue()&&this.getAttribute(b,!0).setValue(a.getAttribute(b).getValue())})}addParentOpacity(a,b){return a.hasValue()?new u(this.document,"color",b).addOpacity(a).getColor():b}}class O extends o{constructor(a,b,c){super(a,b,c),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(c,h){var b="objectBoundingBox"===this.getGradientUnits(),a=b?h.getBoundingBox(c):null;if(b&&!a)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var d=b?a.x+a.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),e=b?a.y+a.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),f=b?a.x+a.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),g=b?a.y+a.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return d===f&&e===g?null:c.createLinearGradient(d,e,f,g)}}class P extends o{constructor(a,b,c){super(a,b,c),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(c,h){var b="objectBoundingBox"===this.getGradientUnits(),a=h.getBoundingBox(c);if(b&&!a)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var d=b?a.x+a.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),e=b?a.y+a.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),f=d,g=e;this.getAttribute("fx").hasValue()&&(f=b?a.x+a.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(g=b?a.y+a.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var i=b?(a.width+a.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),j=this.getAttribute("fr").getPixels();return c.createRadialGradient(f,g,j,d,e,i)}}class Q extends b{constructor(c,d,e){super(c,d,e),this.type="stop";var f=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),b=this.getStyle("stop-opacity"),a=this.getStyle("stop-color",!0);""===a.getString()&&a.setValue("#000"),b.hasValue()&&(a=a.addOpacity(b)),this.offset=f,this.color=a.getColor()}}class h extends b{constructor(a,c,d){super(a,c,d),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,a.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new u(a,"values",null);var b=this.getAttribute("values");b.hasValue()&&this.values.setValue(b.getString().split(";"))}getProperty(){var b=this.getAttribute("attributeType").getString(),a=this.getAttribute("attributeName").getString();return"CSS"===b?this.parent.getStyle(a,!0):this.parent.getAttribute(a,!0)}calcValue(){var{initialUnits:a}=this,{progress:d,from:b,to:e}=this.getProgress(),c=b.getNumber()+(e.getNumber()-b.getNumber())*d;return"%"===a&&(c*=100),"".concat(c).concat(a)}update(g){var{parent:b}=this,a=this.getProperty();if(this.initialValue||(this.initialValue=a.getString(),this.initialUnits=a.getUnits()),this.duration>this.maxDuration){var d=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==d||this.frozen){if("remove"===d&&!this.removed)return this.removed=!0,a.setValue(b.animationFrozen?b.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,b.animationFrozen=!0,b.animationFrozenValue=a.getString();return!1}this.duration+=g;var e=!1;if(this.begin<this.duration){var c=this.calcValue(),f=this.getAttribute("type");if(f.hasValue()){var h=f.getString();c="".concat(h,"(").concat(c,")")}a.setValue(c),e=!0}return e}getProgress(){var{document:e,values:b}=this,a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(b.hasValue()){var c=a.progress*(b.getValue().length-1),d=Math.floor(c),f=Math.ceil(c);a.from=new u(e,"from",parseFloat(b.getValue()[d])),a.to=new u(e,"to",parseFloat(b.getValue()[f])),a.progress=(c-d)/(f-d)}else a.from=this.from,a.to=this.to;return a}}class R extends h{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:c,from:d,to:e}=this.getProgress(),a=new am(d.getColor()),b=new am(e.getColor());if(a.ok&&b.ok){var f=a.r+(b.r-a.r)*c,g=a.g+(b.g-a.g)*c,h=a.b+(b.b-a.b)*c;return"rgb(".concat(Math.floor(f),", ").concat(Math.floor(g),", ").concat(Math.floor(h),")")}return this.getAttribute("from").getColor()}}class S extends h{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:a,to:b}=this.getProgress(),c=at(a.getString()),f=at(b.getString()),d=c.map((a,b)=>a+(f[b]-a)*e).join(" ");return d}}class T extends b{constructor(c,e,f){super(c,e,f),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:g}=c,{children:h}=this;for(var b of h)switch(b.type){case"font-face":this.fontFace=b;var d=b.getStyle("font-family");d.hasValue()&&(g[d.getString()]=this);break;case"missing-glyph":this.missingGlyph=b;break;case"glyph":var a=b;a.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[a.unicode]&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a}}render(){}}class U extends b{constructor(a,b,c){super(a,b,c),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class V extends c{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class W extends e{constructor(){super(...arguments),this.type="tref"}getText(){var a=this.getHrefAttribute().getDefinition();if(a){var b=a.children[0];if(b)return b.getText()}return""}}class X extends e{constructor(d,b,e){super(d,b,e),this.type="a";var{childNodes:a}=b,f=a[0],c=a.length>0&&Array.from(a).every(a=>3===a.nodeType);this.hasText=c,this.text=c?this.getTextFromNode(f):""}getText(){return this.text}renderChildren(a){if(this.hasText){super.renderChildren(a);var{document:b,x:d,y:e}=this,{mouse:f}=b.screen,h=new u(b,"fontSize",g.parse(b.ctx.font).fontSize);f.isWorking()&&f.checkBoundingBox(this,new aZ(d,e-h.getPixels("y"),d+this.measureText(a),e))}else if(this.children.length>0){var c=new N(this.document,null);c.children=this.children,c.parent=this,c.render(a)}}onClick(){var{window:a}=this.document;a&&a.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function a0(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function a1(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?a0(Object(b),!0).forEach(function(a){(0,ak.Z)(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):a0(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}class Y extends e{constructor(a,b,c){super(a,b,c),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var d=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(d)}getText(){return this.text}path(a){var{dataArray:b}=this;a&&a.beginPath(),b.forEach(k=>{var{type:l,points:b}=k;switch(l){case a$.LINE_TO:a&&a.lineTo(b[0],b[1]);break;case a$.MOVE_TO:a&&a.moveTo(b[0],b[1]);break;case a$.CURVE_TO:a&&a.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case a$.QUAD_TO:a&&a.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case a$.ARC:var[e,f,c,d,g,m,h,n]=b,o=c>d?c:d,i=c>d?1:c/d,j=c>d?d/c:1;a&&(a.translate(e,f),a.rotate(h),a.scale(i,j),a.arc(0,0,o,g,g+m,Boolean(1-n)),a.scale(1/i,1/j),a.rotate(-h),a.translate(-e,-f));break;case a$.CLOSE_PATH:a&&a.closePath()}})}renderChildren(a){this.setTextData(a),a.save();var b=this.parent.getStyle("text-decoration").getString(),c=this.getFontSize(),{glyphInfo:d}=this,e=a.fillStyle;"underline"===b&&a.beginPath(),d.forEach((g,h)=>{var{p0:d,p1:e,rotation:i,text:f}=g;a.save(),a.translate(d.x,d.y),a.rotate(i),a.fillStyle&&a.fillText(f,0,0),a.strokeStyle&&a.strokeText(f,0,0),a.restore(),"underline"===b&&(0===h&&a.moveTo(d.x,d.y+c/8),a.lineTo(e.x,e.y+c/5))}),"underline"===b&&(a.lineWidth=c/20,a.strokeStyle=e,a.stroke(),a.closePath()),a.restore()}getLetterSpacingAt(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[a]||0}findSegmentToFitChar(o,p,h,i,q,r,d,j,k){var c=r,e=this.measureText(o,j);" "===j&&"justify"===p&&h<i&&(e+=(i-h)/q),k> -1&&(c+=this.getLetterSpacingAt(k));var l=this.textHeight/20,a=this.getEquidistantPointOnPath(c,l,0),b=this.getEquidistantPointOnPath(c+e,l,0),f={p0:a,p1:b},g=a&&b?Math.atan2(b.y-a.y,b.x-a.x):0;if(d){var m=Math.cos(Math.PI/2+g)*d,n=Math.cos(-g)*d;f.p0=a1(a1({},a),{},{x:a.x+m,y:a.y+n}),f.p1=a1(a1({},b),{},{x:b.x+m,y:b.y+n})}return c+=e,{offset:c,segment:f,rotation:g}}measureText(d,e){var{measuresCache:b}=this,a=e||this.getText();if(b.has(a))return b.get(a);var c=this.measureTargetText(d,a);return b.set(a,c),c}setTextData(k){if(!this.glyphInfo){var d=this.getText(),l=d.split(""),r=d.split(" ").length-1,h=this.parent.getAttribute("dx").split().map(a=>a.getPixels("x")),s=this.parent.getAttribute("dy").getPixels("y"),b=this.parent.getStyle("text-anchor").getString("start"),a=this.getStyle("letter-spacing"),m=this.parent.getStyle("letter-spacing"),e=0;a.hasValue()&&"inherit"!==a.getValue()?a.hasValue()&&"initial"!==a.getValue()&&"unset"!==a.getValue()&&(e=a.getPixels()):e=m.getPixels();var f=[],n=d.length;this.letterSpacingCache=f;for(var c=0;c<n;c++)f.push(void 0!==h[c]?h[c]:e);var o=f.reduce((a,b,c)=>0===c?0:a+b||0,0),i=this.measureText(k),j=Math.max(i+o,0);this.textWidth=i,this.textHeight=this.getFontSize(),this.glyphInfo=[];var p=this.getPathLength(),q=this.getStyle("startOffset").getNumber(0)*p,g=0;("middle"===b||"center"===b)&&(g=-j/2),("end"===b||"right"===b)&&(g=-j),g+=q,l.forEach((d,c)=>{var{offset:e,segment:a,rotation:f}=this.findSegmentToFitChar(k,b,j,p,r,g,s,d,c);g=e,a.p0&&a.p1&&this.glyphInfo.push({text:l[c],p0:a.p0,p1:a.p1,rotation:f})})}}parsePathData(h){if(this.pathLength=-1,!h)return[];var f=[],{pathParser:a}=h;for(a.reset();!a.isEnd();){var{current:e}=a,i=e?e.x:0,j=e?e.y:0,g=a.next(),d=g.type,b=[];switch(g.type){case a$.MOVE_TO:this.pathM(a,b);break;case a$.LINE_TO:d=this.pathL(a,b);break;case a$.HORIZ_LINE_TO:d=this.pathH(a,b);break;case a$.VERT_LINE_TO:d=this.pathV(a,b);break;case a$.CURVE_TO:this.pathC(a,b);break;case a$.SMOOTH_CURVE_TO:d=this.pathS(a,b);break;case a$.QUAD_TO:this.pathQ(a,b);break;case a$.SMOOTH_QUAD_TO:d=this.pathT(a,b);break;case a$.ARC:b=this.pathA(a);break;case a$.CLOSE_PATH:c.pathZ(a)}g.type!==a$.CLOSE_PATH?f.push({type:d,points:b,start:{x:i,y:j},pathLength:this.calcLength(i,j,d,b)}):f.push({type:a$.CLOSE_PATH,points:[],pathLength:0})}return f}pathM(a,b){var{x:d,y:e}=c.pathM(a).point;b.push(d,e)}pathL(a,b){var{x:d,y:e}=c.pathL(a).point;return b.push(d,e),a$.LINE_TO}pathH(a,b){var{x:d,y:e}=c.pathH(a).point;return b.push(d,e),a$.LINE_TO}pathV(a,b){var{x:d,y:e}=c.pathV(a).point;return b.push(d,e),a$.LINE_TO}pathC(e,f){var{point:a,controlPoint:b,currentPoint:d}=c.pathC(e);f.push(a.x,a.y,b.x,b.y,d.x,d.y)}pathS(e,f){var{point:a,controlPoint:b,currentPoint:d}=c.pathS(e);return f.push(a.x,a.y,b.x,b.y,d.x,d.y),a$.CURVE_TO}pathQ(d,e){var{controlPoint:a,currentPoint:b}=c.pathQ(d);e.push(a.x,a.y,b.x,b.y)}pathT(d,e){var{controlPoint:a,currentPoint:b}=c.pathT(d);return e.push(a.x,a.y,b.x,b.y),a$.QUAD_TO}pathA(e){var{rX:f,rY:g,sweepFlag:b,xAxisRotation:h,centp:d,a1:i,ad:a}=c.pathA(e);return 0===b&&a>0&&(a-=2*Math.PI),1===b&&a<0&&(a+=2*Math.PI),[d.x,d.y,f,g,i,a,h,b]}calcLength(g,h,l,a){var e=0,c=null,b=null,d=0;switch(l){case a$.LINE_TO:return this.getLineLength(g,h,a[0],a[1]);case a$.CURVE_TO:for(d=.01,e=0,c=this.getPointOnCubicBezier(0,g,h,a[0],a[1],a[2],a[3],a[4],a[5]);d<=1;d+=.01)b=this.getPointOnCubicBezier(d,g,h,a[0],a[1],a[2],a[3],a[4],a[5]),e+=this.getLineLength(c.x,c.y,b.x,b.y),c=b;return e;case a$.QUAD_TO:for(d=.01,e=0,c=this.getPointOnQuadraticBezier(0,g,h,a[0],a[1],a[2],a[3]);d<=1;d+=.01)b=this.getPointOnQuadraticBezier(d,g,h,a[0],a[1],a[2],a[3]),e+=this.getLineLength(c.x,c.y,b.x,b.y),c=b;return e;case a$.ARC:e=0;var i=a[4],k=a[5],j=a[4]+k,f=Math.PI/180;if(Math.abs(i-j)<f&&(f=Math.abs(i-j)),c=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],i,0),k<0)for(d=i-f;d>j;d-=f)b=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),e+=this.getLineLength(c.x,c.y,b.x,b.y),c=b;else for(d=i+f;d<j;d+=f)b=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),e+=this.getLineLength(c.x,c.y,b.x,b.y),c=b;return b=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],j,0),e+=this.getLineLength(c.x,c.y,b.x,b.y)}return 0}getPointOnLine(h,a,b,c,i){var f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:a,g=arguments.length>6&& void 0!==arguments[6]?arguments[6]:b,d=(i-b)/(c-a+aG),e=Math.sqrt(h*h/(1+d*d));c<a&&(e*=-1);var j=d*e,k=null;if(c===a)k={x:f,y:g+j};else if((g-b)/(f-a+aG)===d)k={x:f+e,y:g+j};else{var l=0,m=0,n=this.getLineLength(a,b,c,i);if(n<aG)return null;var o=(f-a)*(c-a)+(g-b)*(i-b);o/=n*n,l=a+o*(c-a),m=b+o*(i-b);var p=this.getLineLength(f,g,l,m),q=Math.sqrt(h*h-p*p);e=Math.sqrt(q*q/(1+d*d)),c<a&&(e*=-1),j=d*e,k={x:l+e,y:m+j}}return k}getPointOnPath(d){var i=this.getPathLength(),g=0,c=null;if(d< -0.00005||d-5e-5>i)return null;var{dataArray:j}=this;for(var a of j){if(a&&(a.pathLength<5e-5||g+a.pathLength+5e-5<d)){g+=a.pathLength;continue}var e=d-g,b=0;switch(a.type){case a$.LINE_TO:c=this.getPointOnLine(e,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case a$.ARC:var k=a.points[4],f=a.points[5],h=a.points[4]+f;if(b=k+e/a.pathLength*f,f<0&&b<h||f>=0&&b>h)break;c=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],b,a.points[6]);break;case a$.CURVE_TO:(b=e/a.pathLength)>1&&(b=1),c=this.getPointOnCubicBezier(b,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case a$.QUAD_TO:(b=e/a.pathLength)>1&&(b=1),c=this.getPointOnQuadraticBezier(b,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(c)return c;break}return null}getLineLength(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))}getPathLength(){return -1===this.pathLength&&(this.pathLength=this.dataArray.reduce((a,b)=>b.pathLength>0?a+b.pathLength:a,0)),this.pathLength}getPointOnCubicBezier(a,b,c,d,e,f,g,h,i){var j=h*aK(a)+f*aL(a)+d*aM(a)+b*aN(a),k=i*aK(a)+g*aL(a)+e*aM(a)+c*aN(a);return{x:j,y:k}}getPointOnQuadraticBezier(a,d,e,f,g,h,i){var b,c,j=h*((b=a)*b)+f*aP(a)+d*aQ(a),k=i*((c=a)*c)+g*aP(a)+e*aQ(a);return{x:j,y:k}}getPointOnEllipticalArc(f,g,h,i,b,c){var d=Math.cos(c),e=Math.sin(c),a={x:h*Math.cos(b),y:i*Math.sin(b)};return{x:f+(a.x*d-a.y*e),y:g+(a.x*e+a.y*d)}}buildEquidistantCache(h,i){var f=this.getPathLength(),c=i||.25,d=h||f/100;if(!this.equidistantCache||this.equidistantCache.step!==d||this.equidistantCache.precision!==c){this.equidistantCache={step:d,precision:c,points:[]};for(var g=0,a=0;a<=f;a+=c){var b=this.getPointOnPath(a),e=this.getPointOnPath(a+c);b&&e&&(g+=this.getLineLength(b.x,b.y,e.x,e.y))>=d&&(this.equidistantCache.points.push({x:b.x,y:b.y,distance:a}),g-=d)}}}getEquidistantPointOnPath(a,b,c){if(this.buildEquidistantCache(b,c),a<0||a-this.getPathLength()>5e-5)return null;var d=Math.round(a/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[d]||null}}var a2=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Z extends d{constructor(b,d,e){super(b,d,e),this.type="image",this.loaded=!1;var a=this.getHrefAttribute().getString();if(!a)return;var c=a.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(a);b.images.push(this),c?this.loadSvg(a):this.loadImage(a),this.isSvg=c}loadImage(a){var b=this;return(0,aj.Z)(function*(){try{var c=yield b.document.createImage(a);b.image=c}catch(d){console.error('Error while loading image "'.concat(a,'":'),d)}b.loaded=!0})()}loadSvg(a){var b=this;return(0,aj.Z)(function*(){var c=a2.exec(a);if(c){var d=c[5];"base64"===c[4]?b.image=atob(d):b.image=decodeURIComponent(d)}else try{var e=yield(yield b.document.fetch(a)).text();b.image=e}catch(f){console.error('Error while loading image "'.concat(a,'":'),f)}b.loaded=!0})()}renderChildren(a){var{document:e,image:g,loaded:h}=this,i=this.getAttribute("x").getPixels("x"),j=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),d=this.getStyle("height").getPixels("y");if(h&&g&&c&&d){if(a.save(),a.translate(i,j),this.isSvg){var f=e.canvg.forkString(a,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:c,scaleHeight:d});f.document.documentElement.parent=this,f.render()}else{var b=this.image;e.setViewBox({ctx:a,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:c,desiredWidth:b.width,height:d,desiredHeight:b.height}),this.loaded&&(void 0===b.complete||b.complete)&&a.drawImage(b,0,0)}a.restore()}}getBoundingBox(){var a=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),d=this.getStyle("height").getPixels("y");return new aZ(a,b,a+c,b+d)}}class $ extends d{constructor(){super(...arguments),this.type="symbol"}render(a){}}class a3{constructor(a){this.document=a,this.loaded=!1,a.fonts.push(this)}load(a,b){var c=this;return(0,aj.Z)(function*(){try{var{document:d}=c,e=(yield d.canvg.parser.load(b)).getElementsByTagName("font");Array.from(e).forEach(b=>{var c=d.createElement(b);d.definitions[a]=c})}catch(f){console.error('Error while loading font "'.concat(b,'":'),f)}c.loaded=!0})()}}class p extends b{constructor(b,a,c){super(b,a,c),this.type="style",aq(Array.from(a.childNodes).map(a=>a.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(d=>{var a=d.trim();if(a){var c=a.split("{"),e=c[0].split(","),f=c[1].split(";");e.forEach(d=>{var a=d.trim();if(a){var c=b.styles[a]||{};if(f.forEach(a=>{var d=a.indexOf(":"),e=a.substr(0,d).trim(),f=a.substr(d+1,a.length-d).trim();e&&f&&(c[e]=new u(b,e,f))}),b.styles[a]=c,b.stylesSpecificity[a]=aF(a),"@font-face"===a){var e=c["font-family"].getString().replace(/"|'/g,"");c.src.getString().split(",").forEach(a=>{if(a.indexOf('format("svg")')>0){var c=t(a);c&&new a3(b).load(e,c)}})}}})}})}}p.parseExternalUrl=t;class _ extends d{constructor(){super(...arguments),this.type="use"}setContext(a){super.setContext(a);var b=this.getAttribute("x"),c=this.getAttribute("y");b.hasValue()&&a.translate(b.getPixels("x"),0),c.hasValue()&&a.translate(0,c.getPixels("y"))}path(b){var{element:a}=this;a&&a.path(b)}renderChildren(f){var{document:c,element:b}=this;if(b){var a=b;if("symbol"===b.type&&((a=new E(c,null)).attributes.viewBox=new u(c,"viewBox",b.getAttribute("viewBox").getString()),a.attributes.preserveAspectRatio=new u(c,"preserveAspectRatio",b.getAttribute("preserveAspectRatio").getString()),a.attributes.overflow=new u(c,"overflow",b.getAttribute("overflow").getString()),a.children=b.children,b.styles.opacity=new u(c,"opacity",this.calculateOpacity())),"svg"===a.type){var d=this.getStyle("width",!1,!0),e=this.getStyle("height",!1,!0);d.hasValue()&&(a.attributes.width=new u(c,"width",d.getString())),e.hasValue()&&(a.attributes.height=new u(c,"height",e.getString()))}var g=a.parent;a.parent=this,a.render(f),a.parent=g}}getBoundingBox(b){var{element:a}=this;return a?a.getBoundingBox(b):null}elementTransform(){var{document:a,element:b}=this;return C.fromElement(a,b)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function a4(a,b,c,d,f,e){return a[c*d*4+4*b+e]}function a5(a,b,c,d,g,e,f){a[c*d*4+4*b+e]=f}function a6(a,b,c){return a[b]*c}function a7(a,b,c,d){return b+Math.cos(a)*c+Math.sin(a)*d}class aa extends b{constructor(d,e,f){super(d,e,f),this.type="feColorMatrix";var c=at(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var a=c[0];c=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var b=c[0]*Math.PI/180;c=[a7(b,.213,.787,-0.213),a7(b,.715,-0.715,-0.715),a7(b,.072,-0.072,.928),0,0,a7(b,.213,-0.213,.143),a7(b,.715,.285,.14),a7(b,.072,-0.072,-0.283),0,0,a7(b,.213,-0.213,-0.787),a7(b,.715,-0.715,.715),a7(b,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=c,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(k,q,r,b,c){for(var{includeOpacity:p,matrix:a}=this,f=k.getImageData(0,0,b,c),d=0;d<c;d++)for(var e=0;e<b;e++){var h=a4(f.data,e,d,b,c,0),i=a4(f.data,e,d,b,c,1),j=a4(f.data,e,d,b,c,2),g=a4(f.data,e,d,b,c,3),l=a6(a,0,h)+a6(a,1,i)+a6(a,2,j)+a6(a,3,g)+a6(a,4,1),m=a6(a,5,h)+a6(a,6,i)+a6(a,7,j)+a6(a,8,g)+a6(a,9,1),n=a6(a,10,h)+a6(a,11,i)+a6(a,12,j)+a6(a,13,g)+a6(a,14,1),o=a6(a,15,h)+a6(a,16,i)+a6(a,17,j)+a6(a,18,g)+a6(a,19,1);p&&(l=0,m=0,n=0,o*=g/255),a5(f.data,e,d,b,c,0,l),a5(f.data,e,d,b,c,1,m),a5(f.data,e,d,b,c,2,n),a5(f.data,e,d,b,c,3,o)}k.clearRect(0,0,b,c),k.putImageData(f,0,0)}}class q extends b{constructor(){super(...arguments),this.type="mask"}apply(j,i){var{document:f}=this,c=this.getAttribute("x").getPixels("x"),d=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),b=this.getStyle("height").getPixels("y");if(!a&&!b){var g=new aZ;this.children.forEach(a=>{g.addBoundingBox(a.getBoundingBox(j))}),c=Math.floor(g.x1),d=Math.floor(g.y1),a=Math.floor(g.width),b=Math.floor(g.height)}var m=this.removeStyles(i,q.ignoreStyles),k=f.createCanvas(c+a,d+b),h=k.getContext("2d");f.screen.setDefaults(h),this.renderChildren(h),new aa(f,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,c+a,d+b);var l=f.createCanvas(c+a,d+b),e=l.getContext("2d");f.screen.setDefaults(e),i.render(e),e.globalCompositeOperation="destination-in",e.fillStyle=h.createPattern(k,"no-repeat"),e.fillRect(0,0,c+a,d+b),j.fillStyle=e.createPattern(l,"no-repeat"),j.fillRect(0,0,c+a,d+b),this.restoreStyles(i,m)}render(a){}}q.ignoreStyles=["mask","transform","clip-path"];var a8=()=>{};class ab extends b{constructor(){super(...arguments),this.type="clipPath"}apply(b){var{document:e}=this,a=Reflect.getPrototypeOf(b),{beginPath:c,closePath:d}=b;a&&(a.beginPath=a8,a.closePath=a8),Reflect.apply(c,b,[]),this.children.forEach(f=>{if(void 0!==f.path){var c=void 0!==f.elementTransform?f.elementTransform():null;c||(c=C.fromElement(e,f)),c&&c.apply(b),f.path(b),a&&(a.closePath=d),c&&c.unapply(b)}}),Reflect.apply(d,b,[]),b.clip(),a&&(a.beginPath=c,a.closePath=d)}render(a){}}class r extends b{constructor(){super(...arguments),this.type="filter"}apply(h,b){var{document:i,children:j}=this,a=b.getBoundingBox(h);if(a){var e=0,f=0;j.forEach(b=>{var a=b.extraFilterDistance||0;e=Math.max(e,a),f=Math.max(f,a)});var n=Math.floor(a.width),o=Math.floor(a.height),c=n+2*e,d=o+2*f;if(!(c<1)&&!(d<1)){var k=Math.floor(a.x),l=Math.floor(a.y),p=this.removeStyles(b,r.ignoreStyles),m=i.createCanvas(c,d),g=m.getContext("2d");i.screen.setDefaults(g),g.translate(-k+e,-l+f),b.render(g),j.forEach(a=>{"function"==typeof a.apply&&a.apply(g,0,0,c,d)}),h.drawImage(m,0,0,c,d,k-e,l-f,c,d),this.restoreStyles(b,p)}}}render(a){}}r.ignoreStyles=["filter","transform","clip-path"];class ac extends b{constructor(a,b,c){super(a,b,c),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(a,b,c,d,e){}}class ad extends b{constructor(){super(...arguments),this.type="feMorphology"}apply(a,b,c,d,e){}}class ae extends b{constructor(){super(...arguments),this.type="feComposite"}apply(a,b,c,d,e){}}class af extends b{constructor(a,b,c){super(a,b,c),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(d,e,f,g,h){var{document:c,blurRadius:i}=this,b=c.window?c.window.document.body:null,a=d.canvas;a.id=c.getUniqueId(),b&&(a.style.display="none",b.appendChild(a)),(0,an.vR)(a,e,f,g,h,i),b&&b.removeChild(a)}}class ag extends b{constructor(){super(...arguments),this.type="title"}}class ah extends b{constructor(){super(...arguments),this.type="desc"}}function a9(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function ba(){return(ba=(0,aj.Z)(function*(c){var a=arguments.length>1&& void 0!==arguments[1]&&arguments[1],b=document.createElement("img");return a&&(b.crossOrigin="Anonymous"),new Promise((a,d)=>{b.onload=()=>{a(b)},b.onerror=(b,c,e,f,a)=>{d(a)},b.src=c})})).apply(this,arguments)}class i{constructor(a){var{rootEmSize:b=12,emSize:c=12,createCanvas:d=i.createCanvas,createImage:e=i.createImage,anonymousCrossOrigin:f}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};this.canvg=a,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=a.screen,this.rootEmSize=b,this.emSize=c,this.createCanvas=d,this.createImage=this.bindCreateImage(e,f),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(a,b){return"boolean"==typeof b?(d,c)=>a(d,"boolean"==typeof c?c:b):a}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:a}=this;return a[a.length-1]}set emSize(a){var{emSizeStack:b}=this;b.push(a)}popEmSize(){var{emSizeStack:a}=this;a.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(a=>a.loaded)}isFontsLoaded(){return this.fonts.every(a=>a.loaded)}createDocumentElement(b){var a=this.createElement(b.documentElement);return a.root=!0,a.addStylesFromStyleDefinition(),this.documentElement=a,a}createElement(a){var c=a.nodeName.replace(/^[^:]+:/,""),b=i.elementTypes[c];return void 0!==b?new b(this,a):new aX(this,a)}createTextNode(a){return new a_(this,a)}setViewBox(a){this.screen.setViewBox(function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?a9(Object(b),!0).forEach(function(a){(0,ak.Z)(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):a9(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({document:this},a))}}function bb(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function bc(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?bb(Object(b),!0).forEach(function(a){(0,ak.Z)(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bb(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}i.createCanvas=function(b,c){var a=document.createElement("canvas");return a.width=b,a.height=c,a},i.createImage=function(a){return ba.apply(this,arguments)},i.elementTypes={svg:E,rect:F,circle:G,ellipse:H,line:I,polyline:n,polygon:J,path:c,pattern:K,marker:L,defs:M,linearGradient:O,radialGradient:P,stop:Q,animate:h,animateColor:R,animateTransform:S,font:T,"font-face":U,"missing-glyph":V,glyph:D,text:e,tspan:m,tref:W,a:X,textPath:Y,image:Z,g:N,symbol:$,style:p,use:_,mask:q,clipPath:ab,filter:r,feDropShadow:ac,feMorphology:ad,feComposite:ae,feColorMatrix:aa,feGaussianBlur:af,title:ag,desc:ah};class bd{constructor(c,d){var a=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};this.parser=new aW(a),this.screen=new f(c,a),this.options=a;var b=new i(this,a),e=b.createDocumentElement(d);this.document=b,this.documentElement=e}static from(a,b){var c=arguments;return(0,aj.Z)(function*(){var d=c.length>2&& void 0!==c[2]?c[2]:{},e=yield new aW(d).parse(b);return new bd(a,e,d)})()}static fromString(b,c){var a=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=new aW(a).parseFromString(c);return new bd(b,d,a)}fork(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};return bd.from(a,b,bc(bc({},this.options),c))}forkString(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};return bd.fromString(a,b,bc(bc({},this.options),c))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var a=arguments,b=this;return(0,aj.Z)(function*(){var c=a.length>0&& void 0!==a[0]?a[0]:{};b.start(bc({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},c)),yield b.ready(),b.stop()})()}start(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},{documentElement:b,screen:c,options:d}=this;c.start(b,bc(bc({enableRedraw:!0},d),a))}stop(){this.screen.stop()}resize(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:a,c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];this.documentElement.resize(a,b,c)}}}}])