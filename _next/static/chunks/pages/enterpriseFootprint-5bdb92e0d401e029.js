(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{98153:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enterpriseFootprint",function(){return c(6499)}])},82051:function(c,b,a){"use strict";var d=a(85893),e=a(71577),f={background:"#F1FCF8",color:"#10B482",border:"none"};b.Z=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{btnText:"\u67E5\u770B\u8BE6\u60C5"},b=a.btnText,c=a.btnClickFun;return(0,d.jsx)(e.Z,{onClick:c,style:f,type:"primary",shape:"round",children:b})}},20482:function(c,b,a){"use strict";var d=a(85893),e=a(26303);b.Z=function(a){var b=a.rows,c=a.bc;return(0,d.jsx)("div",{style:{background:void 0===c?"#fff":c,padding:"20px 40px 10px",borderRadius:"20px",margin:"20px 0"},children:(0,d.jsx)(e.Z,{active:!0,paragraph:{rows:void 0===b?3:b}})})}},37234:function(d,b,a){"use strict";var e=a(85893),c=a(91276),f=a.n(c);b.Z=function(a){var g=a.parkName,h=a.parkLoc,i=a.parktype,b=a.parknum,c=a.area,d=a.create_time;return(0,e.jsxs)("div",{className:f().ParkCard,children:[(0,e.jsx)("img",{className:f().industry,src:"/images/industry.png",alt:""}),(0,e.jsxs)("div",{className:f().parkInfoBox,children:[(0,e.jsx)("span",{className:f().parkName,children:g}),(0,e.jsx)("span",{className:f().parkLoc,children:h}),(0,e.jsxs)("div",{className:f().parkInfoItem,children:[(0,e.jsxs)("div",{className:f().phoneRow,children:[(0,e.jsx)("span",{className:f().parkInfoTitle,children:"\u7C7B\u578B"}),(0,e.jsx)("span",{className:f().parkInfoCentent,children:i})]}),b&&(0,e.jsxs)("div",{className:f().phoneRow,children:[(0,e.jsx)("span",{className:f().parkInfoTitle,children:"\u4F01\u4E1A\u6570"}),(0,e.jsx)("span",{className:f().parkInfoCentent,children:b})]}),c&&(0,e.jsxs)("div",{className:f().phoneRow,children:[(0,e.jsx)("span",{className:f().parkInfoTitle,children:"\u9762\u79EF"}),(0,e.jsx)("span",{className:f().parkInfoCentent,children:c}),(0,e.jsx)("div",{className:"goldenlabel",children:"\u5E73\u65B9\u516C\u91CC"})]}),d&&(0,e.jsxs)("div",{className:f().phoneRow,children:[(0,e.jsx)("span",{className:f().parkInfoTitle,children:"\u5165\u9A7B\u65F6\u95F4"}),(0,e.jsx)("span",{className:f().parkInfoCentent,children:d})]})]})]})]})}},3261:function(d,b,a){"use strict";var e=a(85893),c=a(62623),f=a.n(c);b.Z=function(a){var b=a.total,c=a.addOrsub,d=a.deviation;return(0,e.jsxs)("div",{className:f().TotalCountBox,children:[(0,e.jsx)("span",{className:"TotalCountTitle",children:"\u56ED\u533A\u672C\u5E74\u5EA6\u78B3\u6392\u653E\u603B\u91CF"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"TotalCountNum",children:b}),(0,e.jsx)("span",{className:"goldenlabel",children:"kgCO2e"})]}),(0,e.jsx)("div",{className:f().line}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("span",{className:f().addOrsub,children:["\u6BD4\u53BB\u5E74",c?"\u589E\u52A0":"\u51CF\u5C11"]}),(0,e.jsx)("span",{className:f().deviation,children:d})]})]})}},6499:function(e,b,a){"use strict";a.r(b),a.d(b,{default:function(){return t}});var f=a(47568),g=a(10797),c=a(34051),h=a.n(c),i=a(85893),j=a(15594),k=function(a){var b=a.columns,c=a.data;return(0,i.jsx)("div",{children:(0,i.jsx)(j.Z,{columns:b,dataSource:c})})},l=a(37234),m=a(3261),n=a(82051),d=a(11163),o=a.n(d),p=a(78676),q=a(67294),r=a(76109),s=a(20482),t=function(){var w,x,b=(0,q.useContext)(r.I),y=b.state,C=b.dispatch,c=y.parkId,d=(0,q.useState)({id:0,name:"\u6682\u65E0\u4FE1\u606F",area:"",num:0,address:"\u6682\u65E0\u4FE1\u606F",emissionLoad:"0",region:"\u6682\u65E0\u4FE1\u606F",type:"\u6682\u65E0\u4FE1\u606F",reduce:"0.00",location:{coordinates:[0,0],type:"Point"}}),a=d[0],D=d[1],e=(0,q.useState)([]),z=e[0],E=e[1],j=(0,q.useState)(1),A=j[0],F=j[1],t=(0,q.useState)(!0),u=t[0],G=t[1],v=(0,q.useState)(!0),B=v[0],H=v[1],I=(w=(0,f.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return G(!1),a.prev=1,a.next=4,(0,p.dC)(c);case 4:D((b=a.sent).data),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:G(!0);case 11:case"end":return a.stop()}},a,null,[[1,8]])})),function(){return w.apply(this,arguments)}),J=(x=(0,f.Z)(h().mark(function a(){var b,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return H(!1),a.prev=1,a.next=4,(0,p.eP)(c);case 4:d=(b=a.sent).data.data.map(function(a,b){return{id:a.id,key:b.toString(),enterpriseID:{title:a.name,subtitle:a.address},enterpriseType:a.type,statisticsTime:a.startTime,emissions:a.emissionLoad}}),E((0,g.Z)(d)),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(1);case 11:H(!0);case 12:case"end":return a.stop()}},a,null,[[1,9]])})),function(){return x.apply(this,arguments)});return(0,q.useEffect)(function(){I(),F(1)},[c]),(0,q.useEffect)(function(){J()},[c,A]),(0,i.jsxs)("div",{className:"enterpriseFootprint",children:[(0,i.jsxs)("div",{className:"topCardBox",children:[(0,i.jsx)("div",{className:"parkcard-box",children:u?(0,i.jsx)(l.Z,{parkName:a.name,parkLoc:a.address,parktype:a.type,parknum:a.num,area:a.area}):(0,i.jsx)(s.Z,{})}),(0,i.jsx)("div",{className:"TotalCount-box",children:u?(0,i.jsx)(m.Z,{total:a.emissionLoad,addOrsub:!1,deviation:a.reduce}):(0,i.jsx)(s.Z,{})})]}),(0,i.jsx)("div",{className:"infoTable-box",children:B?(0,i.jsx)(k,{columns:[{title:"\u4F01\u4E1AID",dataIndex:"enterpriseID",key:"enterpriseID",render:function(a){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:a.title}),(0,i.jsx)("div",{children:a.subtitle})]})}},{title:"\u4F01\u4E1A\u7C7B\u578B",dataIndex:"enterpriseType",key:"enterpriseType"},{title:"\u7EDF\u8BA1\u65F6\u95F4",dataIndex:"statisticsTime",key:"statisticsTime",render:function(a){return(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{src:"/images/icon-time.png",alt:""}),(0,i.jsxs)("span",{children:[" ",a]})]})}},{title:"\u78B3\u6392\u653E\u91CF",dataIndex:"emissions",key:"emissions",render:function(a){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{children:[a," "]}),(0,i.jsx)("div",{className:"goldenlabel",children:"kgCO2e"})]})},sorter:function(a,b){return Number(a.emissions)-Number(b.emissions)},showSorterTooltip:!1},{title:"\u67E5\u770B",dataIndex:"",key:"x",render:function(a){return(0,n.Z)({btnClickFun:function(){console.log(a.id),C({type:"UPDATE_ENTERPRISE_FOOTPRINT_INFO_ID",payload:a.id}),o().push("/enterpriseFootprint/info")},btnText:"\u67E5\u770B\u62A5\u544A"})}},],data:z}):(0,i.jsx)(s.Z,{rows:20})})]})}},91276:function(a){a.exports={ParkCard:"ParkCard_ParkCard__rbIlc",industry:"ParkCard_industry___Y4lP",parkInfoBox:"ParkCard_parkInfoBox__7THyj",parkName:"ParkCard_parkName__lMNh3",parkLoc:"ParkCard_parkLoc__ymXFg",parkInfoItem:"ParkCard_parkInfoItem__at1Dn",parkInfoTitle:"ParkCard_parkInfoTitle__bM2VG",parkInfoCentent:"ParkCard_parkInfoCentent__6rCmn",box:"ParkCard_box__qGLJc",phoneRow:"ParkCard_phoneRow__xCYZB"}},62623:function(a){a.exports={TotalCountBox:"TotalCount_TotalCountBox__jGImy",line:"TotalCount_line__cQk1g",addOrsub:"TotalCount_addOrsub__zxQ_c",deviation:"TotalCount_deviation__WCt66"}}},function(a){a.O(0,[220,594,774,888,179],function(){var b;return a(a.s=98153)}),_N_E=a.O()}])